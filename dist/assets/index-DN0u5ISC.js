var pp=r=>{throw TypeError(r)};var gd=(r,t,s)=>t.has(r)||pp("Cannot "+s);var T=(r,t,s)=>(gd(r,t,"read from private field"),s?s.call(r):t.get(r)),je=(r,t,s)=>t.has(r)?pp("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(r):t.set(r,s),ue=(r,t,s,i)=>(gd(r,t,"write to private field"),i?i.call(r,s):t.set(r,s),s),Be=(r,t,s)=>(gd(r,t,"access private method"),s);var Qo=(r,t,s,i)=>({set _(l){ue(r,t,l,s)},get _(){return T(r,t,i)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function s(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(l){if(l.ep)return;l.ep=!0;const o=s(l);fetch(l.href,o)}})();function ey(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function dw(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var t=r.default;if(typeof t=="function"){var s=function i(){return this instanceof i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};s.prototype=t.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(r).forEach(function(i){var l=Object.getOwnPropertyDescriptor(r,i);Object.defineProperty(s,i,l.get?l:{enumerable:!0,get:function(){return r[i]}})}),s}var yd={exports:{}},Ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gp;function hw(){if(gp)return Ve;gp=1;var r=Symbol.for("react.element"),t=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function w(C){return C===null||typeof C!="object"?null:(C=v&&C[v]||C["@@iterator"],typeof C=="function"?C:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,x={};function k(C,K,ce){this.props=C,this.context=K,this.refs=x,this.updater=ce||N}k.prototype.isReactComponent={},k.prototype.setState=function(C,K){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,K,"setState")},k.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function P(){}P.prototype=k.prototype;function B(C,K,ce){this.props=C,this.context=K,this.refs=x,this.updater=ce||N}var D=B.prototype=new P;D.constructor=B,S(D,k.prototype),D.isPureReactComponent=!0;var H=Array.isArray,V=Object.prototype.hasOwnProperty,A={current:null},ne={key:!0,ref:!0,__self:!0,__source:!0};function le(C,K,ce){var Ce,Ae={},Ye=null,Ue=null;if(K!=null)for(Ce in K.ref!==void 0&&(Ue=K.ref),K.key!==void 0&&(Ye=""+K.key),K)V.call(K,Ce)&&!ne.hasOwnProperty(Ce)&&(Ae[Ce]=K[Ce]);var et=arguments.length-2;if(et===1)Ae.children=ce;else if(1<et){for(var Qe=Array(et),St=0;St<et;St++)Qe[St]=arguments[St+2];Ae.children=Qe}if(C&&C.defaultProps)for(Ce in et=C.defaultProps,et)Ae[Ce]===void 0&&(Ae[Ce]=et[Ce]);return{$$typeof:r,type:C,key:Ye,ref:Ue,props:Ae,_owner:A.current}}function te(C,K){return{$$typeof:r,type:C.type,key:K,ref:C.ref,props:C.props,_owner:C._owner}}function pe(C){return typeof C=="object"&&C!==null&&C.$$typeof===r}function Le(C){var K={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(ce){return K[ce]})}var be=/\/+/g;function Se(C,K){return typeof C=="object"&&C!==null&&C.key!=null?Le(""+C.key):K.toString(36)}function ye(C,K,ce,Ce,Ae){var Ye=typeof C;(Ye==="undefined"||Ye==="boolean")&&(C=null);var Ue=!1;if(C===null)Ue=!0;else switch(Ye){case"string":case"number":Ue=!0;break;case"object":switch(C.$$typeof){case r:case t:Ue=!0}}if(Ue)return Ue=C,Ae=Ae(Ue),C=Ce===""?"."+Se(Ue,0):Ce,H(Ae)?(ce="",C!=null&&(ce=C.replace(be,"$&/")+"/"),ye(Ae,K,ce,"",function(St){return St})):Ae!=null&&(pe(Ae)&&(Ae=te(Ae,ce+(!Ae.key||Ue&&Ue.key===Ae.key?"":(""+Ae.key).replace(be,"$&/")+"/")+C)),K.push(Ae)),1;if(Ue=0,Ce=Ce===""?".":Ce+":",H(C))for(var et=0;et<C.length;et++){Ye=C[et];var Qe=Ce+Se(Ye,et);Ue+=ye(Ye,K,ce,Qe,Ae)}else if(Qe=w(C),typeof Qe=="function")for(C=Qe.call(C),et=0;!(Ye=C.next()).done;)Ye=Ye.value,Qe=Ce+Se(Ye,et++),Ue+=ye(Ye,K,ce,Qe,Ae);else if(Ye==="object")throw K=String(C),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return Ue}function ze(C,K,ce){if(C==null)return C;var Ce=[],Ae=0;return ye(C,Ce,"","",function(Ye){return K.call(ce,Ye,Ae++)}),Ce}function ke(C){if(C._status===-1){var K=C._result;K=K(),K.then(function(ce){(C._status===0||C._status===-1)&&(C._status=1,C._result=ce)},function(ce){(C._status===0||C._status===-1)&&(C._status=2,C._result=ce)}),C._status===-1&&(C._status=0,C._result=K)}if(C._status===1)return C._result.default;throw C._result}var Oe={current:null},Z={transition:null},ae={ReactCurrentDispatcher:Oe,ReactCurrentBatchConfig:Z,ReactCurrentOwner:A};return Ve.Children={map:ze,forEach:function(C,K,ce){ze(C,function(){K.apply(this,arguments)},ce)},count:function(C){var K=0;return ze(C,function(){K++}),K},toArray:function(C){return ze(C,function(K){return K})||[]},only:function(C){if(!pe(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},Ve.Component=k,Ve.Fragment=s,Ve.Profiler=l,Ve.PureComponent=B,Ve.StrictMode=i,Ve.Suspense=m,Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ae,Ve.cloneElement=function(C,K,ce){if(C==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+C+".");var Ce=S({},C.props),Ae=C.key,Ye=C.ref,Ue=C._owner;if(K!=null){if(K.ref!==void 0&&(Ye=K.ref,Ue=A.current),K.key!==void 0&&(Ae=""+K.key),C.type&&C.type.defaultProps)var et=C.type.defaultProps;for(Qe in K)V.call(K,Qe)&&!ne.hasOwnProperty(Qe)&&(Ce[Qe]=K[Qe]===void 0&&et!==void 0?et[Qe]:K[Qe])}var Qe=arguments.length-2;if(Qe===1)Ce.children=ce;else if(1<Qe){et=Array(Qe);for(var St=0;St<Qe;St++)et[St]=arguments[St+2];Ce.children=et}return{$$typeof:r,type:C.type,key:Ae,ref:Ye,props:Ce,_owner:Ue}},Ve.createContext=function(C){return C={$$typeof:u,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},C.Provider={$$typeof:o,_context:C},C.Consumer=C},Ve.createElement=le,Ve.createFactory=function(C){var K=le.bind(null,C);return K.type=C,K},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(C){return{$$typeof:f,render:C}},Ve.isValidElement=pe,Ve.lazy=function(C){return{$$typeof:g,_payload:{_status:-1,_result:C},_init:ke}},Ve.memo=function(C,K){return{$$typeof:y,type:C,compare:K===void 0?null:K}},Ve.startTransition=function(C){var K=Z.transition;Z.transition={};try{C()}finally{Z.transition=K}},Ve.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},Ve.useCallback=function(C,K){return Oe.current.useCallback(C,K)},Ve.useContext=function(C){return Oe.current.useContext(C)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(C){return Oe.current.useDeferredValue(C)},Ve.useEffect=function(C,K){return Oe.current.useEffect(C,K)},Ve.useId=function(){return Oe.current.useId()},Ve.useImperativeHandle=function(C,K,ce){return Oe.current.useImperativeHandle(C,K,ce)},Ve.useInsertionEffect=function(C,K){return Oe.current.useInsertionEffect(C,K)},Ve.useLayoutEffect=function(C,K){return Oe.current.useLayoutEffect(C,K)},Ve.useMemo=function(C,K){return Oe.current.useMemo(C,K)},Ve.useReducer=function(C,K,ce){return Oe.current.useReducer(C,K,ce)},Ve.useRef=function(C){return Oe.current.useRef(C)},Ve.useState=function(C){return Oe.current.useState(C)},Ve.useSyncExternalStore=function(C,K,ce){return Oe.current.useSyncExternalStore(C,K,ce)},Ve.useTransition=function(){return Oe.current.useTransition()},Ve.version="18.2.0",Ve}var yp;function fh(){return yp||(yp=1,yd.exports=hw()),yd.exports}var L=fh();const Or=ey(L);var Go={},vd={exports:{}},dr={},wd={exports:{}},bd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vp;function fw(){return vp||(vp=1,function(r){function t(Z,ae){var C=Z.length;Z.push(ae);e:for(;0<C;){var K=C-1>>>1,ce=Z[K];if(0<l(ce,ae))Z[K]=ae,Z[C]=ce,C=K;else break e}}function s(Z){return Z.length===0?null:Z[0]}function i(Z){if(Z.length===0)return null;var ae=Z[0],C=Z.pop();if(C!==ae){Z[0]=C;e:for(var K=0,ce=Z.length,Ce=ce>>>1;K<Ce;){var Ae=2*(K+1)-1,Ye=Z[Ae],Ue=Ae+1,et=Z[Ue];if(0>l(Ye,C))Ue<ce&&0>l(et,Ye)?(Z[K]=et,Z[Ue]=C,K=Ue):(Z[K]=Ye,Z[Ae]=C,K=Ae);else if(Ue<ce&&0>l(et,C))Z[K]=et,Z[Ue]=C,K=Ue;else break e}}return ae}function l(Z,ae){var C=Z.sortIndex-ae.sortIndex;return C!==0?C:Z.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;r.unstable_now=function(){return o.now()}}else{var u=Date,f=u.now();r.unstable_now=function(){return u.now()-f}}var m=[],y=[],g=1,v=null,w=3,N=!1,S=!1,x=!1,k=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function D(Z){for(var ae=s(y);ae!==null;){if(ae.callback===null)i(y);else if(ae.startTime<=Z)i(y),ae.sortIndex=ae.expirationTime,t(m,ae);else break;ae=s(y)}}function H(Z){if(x=!1,D(Z),!S)if(s(m)!==null)S=!0,ke(V);else{var ae=s(y);ae!==null&&Oe(H,ae.startTime-Z)}}function V(Z,ae){S=!1,x&&(x=!1,P(le),le=-1),N=!0;var C=w;try{for(D(ae),v=s(m);v!==null&&(!(v.expirationTime>ae)||Z&&!Le());){var K=v.callback;if(typeof K=="function"){v.callback=null,w=v.priorityLevel;var ce=K(v.expirationTime<=ae);ae=r.unstable_now(),typeof ce=="function"?v.callback=ce:v===s(m)&&i(m),D(ae)}else i(m);v=s(m)}if(v!==null)var Ce=!0;else{var Ae=s(y);Ae!==null&&Oe(H,Ae.startTime-ae),Ce=!1}return Ce}finally{v=null,w=C,N=!1}}var A=!1,ne=null,le=-1,te=5,pe=-1;function Le(){return!(r.unstable_now()-pe<te)}function be(){if(ne!==null){var Z=r.unstable_now();pe=Z;var ae=!0;try{ae=ne(!0,Z)}finally{ae?Se():(A=!1,ne=null)}}else A=!1}var Se;if(typeof B=="function")Se=function(){B(be)};else if(typeof MessageChannel<"u"){var ye=new MessageChannel,ze=ye.port2;ye.port1.onmessage=be,Se=function(){ze.postMessage(null)}}else Se=function(){k(be,0)};function ke(Z){ne=Z,A||(A=!0,Se())}function Oe(Z,ae){le=k(function(){Z(r.unstable_now())},ae)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Z){Z.callback=null},r.unstable_continueExecution=function(){S||N||(S=!0,ke(V))},r.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):te=0<Z?Math.floor(1e3/Z):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_getFirstCallbackNode=function(){return s(m)},r.unstable_next=function(Z){switch(w){case 1:case 2:case 3:var ae=3;break;default:ae=w}var C=w;w=ae;try{return Z()}finally{w=C}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(Z,ae){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var C=w;w=Z;try{return ae()}finally{w=C}},r.unstable_scheduleCallback=function(Z,ae,C){var K=r.unstable_now();switch(typeof C=="object"&&C!==null?(C=C.delay,C=typeof C=="number"&&0<C?K+C:K):C=K,Z){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=C+ce,Z={id:g++,callback:ae,priorityLevel:Z,startTime:C,expirationTime:ce,sortIndex:-1},C>K?(Z.sortIndex=C,t(y,Z),s(m)===null&&Z===s(y)&&(x?(P(le),le=-1):x=!0,Oe(H,C-K))):(Z.sortIndex=ce,t(m,Z),S||N||(S=!0,ke(V))),Z},r.unstable_shouldYield=Le,r.unstable_wrapCallback=function(Z){var ae=w;return function(){var C=w;w=ae;try{return Z.apply(this,arguments)}finally{w=C}}}}(bd)),bd}var wp;function mw(){return wp||(wp=1,wd.exports=fw()),wd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bp;function pw(){if(bp)return dr;bp=1;var r=fh(),t=mw();function s(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,a=1;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,l={};function o(e,n){u(e,n),u(e+"Capture",n)}function u(e,n){for(l[e]=n,e=0;e<n.length;e++)i.add(n[e])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},v={};function w(e){return m.call(v,e)?!0:m.call(g,e)?!1:y.test(e)?v[e]=!0:(g[e]=!0,!1)}function N(e,n,a,c){if(a!==null&&a.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function S(e,n,a,c){if(n===null||typeof n>"u"||N(e,n,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function x(e,n,a,c,h,p,_){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=c,this.attributeNamespace=h,this.mustUseProperty=a,this.propertyName=e,this.type=n,this.sanitizeURL=p,this.removeEmptyString=_}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){k[e]=new x(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];k[n]=new x(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){k[e]=new x(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){k[e]=new x(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){k[e]=new x(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){k[e]=new x(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){k[e]=new x(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){k[e]=new x(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){k[e]=new x(e,5,!1,e.toLowerCase(),null,!1,!1)});var P=/[\-:]([a-z])/g;function B(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(P,B);k[n]=new x(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(P,B);k[n]=new x(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(P,B);k[n]=new x(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){k[e]=new x(e,1,!1,e.toLowerCase(),null,!1,!1)}),k.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){k[e]=new x(e,1,!1,e.toLowerCase(),null,!0,!0)});function D(e,n,a,c){var h=k.hasOwnProperty(n)?k[n]:null;(h!==null?h.type!==0:c||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(S(n,a,h,c)&&(a=null),c||h===null?w(n)&&(a===null?e.removeAttribute(n):e.setAttribute(n,""+a)):h.mustUseProperty?e[h.propertyName]=a===null?h.type===3?!1:"":a:(n=h.attributeName,c=h.attributeNamespace,a===null?e.removeAttribute(n):(h=h.type,a=h===3||h===4&&a===!0?"":""+a,c?e.setAttributeNS(c,n,a):e.setAttribute(n,a))))}var H=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,V=Symbol.for("react.element"),A=Symbol.for("react.portal"),ne=Symbol.for("react.fragment"),le=Symbol.for("react.strict_mode"),te=Symbol.for("react.profiler"),pe=Symbol.for("react.provider"),Le=Symbol.for("react.context"),be=Symbol.for("react.forward_ref"),Se=Symbol.for("react.suspense"),ye=Symbol.for("react.suspense_list"),ze=Symbol.for("react.memo"),ke=Symbol.for("react.lazy"),Oe=Symbol.for("react.offscreen"),Z=Symbol.iterator;function ae(e){return e===null||typeof e!="object"?null:(e=Z&&e[Z]||e["@@iterator"],typeof e=="function"?e:null)}var C=Object.assign,K;function ce(e){if(K===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);K=n&&n[1]||""}return`
`+K+e}var Ce=!1;function Ae(e,n){if(!e||Ce)return"";Ce=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(U){var c=U}Reflect.construct(e,[],n)}else{try{n.call()}catch(U){c=U}e.call(n.prototype)}else{try{throw Error()}catch(U){c=U}e()}}catch(U){if(U&&c&&typeof U.stack=="string"){for(var h=U.stack.split(`
`),p=c.stack.split(`
`),_=h.length-1,E=p.length-1;1<=_&&0<=E&&h[_]!==p[E];)E--;for(;1<=_&&0<=E;_--,E--)if(h[_]!==p[E]){if(_!==1||E!==1)do if(_--,E--,0>E||h[_]!==p[E]){var O=`
`+h[_].replace(" at new "," at ");return e.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",e.displayName)),O}while(1<=_&&0<=E);break}}}finally{Ce=!1,Error.prepareStackTrace=a}return(e=e?e.displayName||e.name:"")?ce(e):""}function Ye(e){switch(e.tag){case 5:return ce(e.type);case 16:return ce("Lazy");case 13:return ce("Suspense");case 19:return ce("SuspenseList");case 0:case 2:case 15:return e=Ae(e.type,!1),e;case 11:return e=Ae(e.type.render,!1),e;case 1:return e=Ae(e.type,!0),e;default:return""}}function Ue(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ne:return"Fragment";case A:return"Portal";case te:return"Profiler";case le:return"StrictMode";case Se:return"Suspense";case ye:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Le:return(e.displayName||"Context")+".Consumer";case pe:return(e._context.displayName||"Context")+".Provider";case be:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ze:return n=e.displayName||null,n!==null?n:Ue(e.type)||"Memo";case ke:n=e._payload,e=e._init;try{return Ue(e(n))}catch{}}return null}function et(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ue(n);case 8:return n===le?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function Qe(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function St(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function _t(e){var n=St(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),c=""+e[n];if(!e.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,p=a.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(_){c=""+_,p.call(this,_)}}),Object.defineProperty(e,n,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(_){c=""+_},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function gr(e){e._valueTracker||(e._valueTracker=_t(e))}function In(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),c="";return e&&(c=St(e)?e.checked?"true":"false":e.value),e=c,e!==a?(n.setValue(e),!0):!1}function Fn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function rr(e,n){var a=n.checked;return C({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??e._wrapperState.initialChecked})}function Os(e,n){var a=n.defaultValue==null?"":n.defaultValue,c=n.checked!=null?n.checked:n.defaultChecked;a=Qe(n.value!=null?n.value:a),e._wrapperState={initialChecked:c,initialValue:a,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function yi(e,n){n=n.checked,n!=null&&D(e,"checked",n,!1)}function Un(e,n){yi(e,n);var a=Qe(n.value),c=n.type;if(a!=null)c==="number"?(a===0&&e.value===""||e.value!=a)&&(e.value=""+a):e.value!==""+a&&(e.value=""+a);else if(c==="submit"||c==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?Bn(e,n.type,a):n.hasOwnProperty("defaultValue")&&Bn(e,n.type,Qe(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function va(e,n,a){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var c=n.type;if(!(c!=="submit"&&c!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,a||n===e.value||(e.value=n),e.defaultValue=n}a=e.name,a!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,a!==""&&(e.name=a)}function Bn(e,n,a){(n!=="number"||Fn(e.ownerDocument)!==e)&&(a==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+a&&(e.defaultValue=""+a))}var j=Array.isArray;function I(e,n,a,c){if(e=e.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=n.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&c&&(e[a].defaultSelected=!0)}else{for(a=""+Qe(a),n=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,c&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function W(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(s(91));return C({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,n){var a=n.value;if(a==null){if(a=n.children,n=n.defaultValue,a!=null){if(n!=null)throw Error(s(92));if(j(a)){if(1<a.length)throw Error(s(93));a=a[0]}n=a}n==null&&(n=""),a=n}e._wrapperState={initialValue:Qe(a)}}function re(e,n){var a=Qe(n.value),c=Qe(n.defaultValue);a!=null&&(a=""+a,a!==e.value&&(e.value=a),n.defaultValue==null&&e.defaultValue!==a&&(e.defaultValue=a)),c!=null&&(e.defaultValue=""+c)}function X(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function he(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Me(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?he(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ze,Pt=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,a,c,h){MSApp.execUnsafeLocalFunction(function(){return e(n,a,c,h)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(Ze=Ze||document.createElement("div"),Ze.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Ze.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function Sr(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var mt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vi=["Webkit","ms","Moz","O"];Object.keys(mt).forEach(function(e){vi.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),mt[n]=mt[e]})});function mn(e,n,a){return n==null||typeof n=="boolean"||n===""?"":a||typeof n!="number"||n===0||mt.hasOwnProperty(e)&&mt[e]?(""+n).trim():n+"px"}function pn(e,n){e=e.style;for(var a in n)if(n.hasOwnProperty(a)){var c=a.indexOf("--")===0,h=mn(a,n[a],c);a==="float"&&(a="cssFloat"),c?e.setProperty(a,h):e[a]=h}}var wa=C({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gn(e,n){if(n){if(wa[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(s(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(s(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(s(61))}if(n.style!=null&&typeof n.style!="object")throw Error(s(62))}}function en(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yn=null;function Ls(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ba=null,vn=null,qn=null;function _a(e){if(e=Ua(e)){if(typeof ba!="function")throw Error(s(280));var n=e.stateNode;n&&(n=oo(n),ba(e.stateNode,e.type,n))}}function As(e){vn?qn?qn.push(e):qn=[e]:vn=e}function zs(){if(vn){var e=vn,n=qn;if(qn=vn=null,_a(e),n)for(e=0;e<n.length;e++)_a(n[e])}}function Ul(e,n){return e(n)}function Bl(){}var R=!1;function $(e,n,a){if(R)return e(n,a);R=!0;try{return Ul(e,n,a)}finally{R=!1,(vn!==null||qn!==null)&&(Bl(),zs())}}function q(e,n){var a=e.stateNode;if(a===null)return null;var c=oo(a);if(c===null)return null;a=c[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var J=!1;if(f)try{var se={};Object.defineProperty(se,"passive",{get:function(){J=!0}}),window.addEventListener("test",se,se),window.removeEventListener("test",se,se)}catch{J=!1}function xe(e,n,a,c,h,p,_,E,O){var U=Array.prototype.slice.call(arguments,3);try{n.apply(a,U)}catch(G){this.onError(G)}}var Pe=!1,de=null,_e=!1,Ne=null,$e={onError:function(e){Pe=!0,de=e}};function Ee(e,n,a,c,h,p,_,E,O){Pe=!1,de=null,xe.apply($e,arguments)}function Ie(e,n,a,c,h,p,_,E,O){if(Ee.apply(this,arguments),Pe){if(Pe){var U=de;Pe=!1,de=null}else throw Error(s(198));_e||(_e=!0,Ne=U)}}function Xe(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function yt(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function jt(e){if(Xe(e)!==e)throw Error(s(188))}function Qt(e){var n=e.alternate;if(!n){if(n=Xe(e),n===null)throw Error(s(188));return n!==e?null:e}for(var a=e,c=n;;){var h=a.return;if(h===null)break;var p=h.alternate;if(p===null){if(c=h.return,c!==null){a=c;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===a)return jt(h),e;if(p===c)return jt(h),n;p=p.sibling}throw Error(s(188))}if(a.return!==c.return)a=h,c=p;else{for(var _=!1,E=h.child;E;){if(E===a){_=!0,a=h,c=p;break}if(E===c){_=!0,c=h,a=p;break}E=E.sibling}if(!_){for(E=p.child;E;){if(E===a){_=!0,a=p,c=h;break}if(E===c){_=!0,c=p,a=h;break}E=E.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==c)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:n}function Ge(e){return e=Qt(e),e!==null?Vn(e):null}function Vn(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=Vn(e);if(n!==null)return n;e=e.sibling}return null}var tn=t.unstable_scheduleCallback,Wn=t.unstable_cancelCallback,nr=t.unstable_shouldYield,Ds=t.unstable_requestPaint,lt=t.unstable_now,xa=t.unstable_getCurrentPriorityLevel,$r=t.unstable_ImmediatePriority,$s=t.unstable_UserBlockingPriority,tt=t.unstable_NormalPriority,sr=t.unstable_LowPriority,Mr=t.unstable_IdlePriority,wn=null,ir=null;function vt(e){if(ir&&typeof ir.onCommitFiberRoot=="function")try{ir.onCommitFiberRoot(wn,e,void 0,(e.current.flags&128)===128)}catch{}}var At=Math.clz32?Math.clz32:jv,ql=Math.log,Dc=Math.LN2;function jv(e){return e>>>=0,e===0?32:31-(ql(e)/Dc|0)|0}var Vl=64,Wl=4194304;function ka(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Hl(e,n){var a=e.pendingLanes;if(a===0)return 0;var c=0,h=e.suspendedLanes,p=e.pingedLanes,_=a&268435455;if(_!==0){var E=_&~h;E!==0?c=ka(E):(p&=_,p!==0&&(c=ka(p)))}else _=a&~h,_!==0?c=ka(_):p!==0&&(c=ka(p));if(c===0)return 0;if(n!==0&&n!==c&&(n&h)===0&&(h=c&-c,p=n&-n,h>=p||h===16&&(p&4194240)!==0))return n;if((c&4)!==0&&(c|=a&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=c;0<n;)a=31-At(n),h=1<<a,c|=e[a],n&=~h;return c}function Tv(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rv(e,n){for(var a=e.suspendedLanes,c=e.pingedLanes,h=e.expirationTimes,p=e.pendingLanes;0<p;){var _=31-At(p),E=1<<_,O=h[_];O===-1?((E&a)===0||(E&c)!==0)&&(h[_]=Tv(E,n)):O<=n&&(e.expiredLanes|=E),p&=~E}}function $c(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Vh(){var e=Vl;return Vl<<=1,(Vl&4194240)===0&&(Vl=64),e}function Mc(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function Na(e,n,a){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-At(n),e[n]=a}function Ov(e,n){var a=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var c=e.eventTimes;for(e=e.expirationTimes;0<a;){var h=31-At(a),p=1<<h;n[h]=0,c[h]=-1,e[h]=-1,a&=~p}}function Ic(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var c=31-At(a),h=1<<c;h&n|e[c]&n&&(e[c]|=n),a&=~h}}var it=0;function Wh(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Hh,Fc,Kh,Qh,Gh,Uc=!1,Kl=[],Hn=null,Kn=null,Qn=null,Sa=new Map,Ea=new Map,Gn=[],Lv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jh(e,n){switch(e){case"focusin":case"focusout":Hn=null;break;case"dragenter":case"dragleave":Kn=null;break;case"mouseover":case"mouseout":Qn=null;break;case"pointerover":case"pointerout":Sa.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ea.delete(n.pointerId)}}function Ca(e,n,a,c,h,p){return e===null||e.nativeEvent!==p?(e={blockedOn:n,domEventName:a,eventSystemFlags:c,nativeEvent:p,targetContainers:[h]},n!==null&&(n=Ua(n),n!==null&&Fc(n)),e):(e.eventSystemFlags|=c,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function Av(e,n,a,c,h){switch(n){case"focusin":return Hn=Ca(Hn,e,n,a,c,h),!0;case"dragenter":return Kn=Ca(Kn,e,n,a,c,h),!0;case"mouseover":return Qn=Ca(Qn,e,n,a,c,h),!0;case"pointerover":var p=h.pointerId;return Sa.set(p,Ca(Sa.get(p)||null,e,n,a,c,h)),!0;case"gotpointercapture":return p=h.pointerId,Ea.set(p,Ca(Ea.get(p)||null,e,n,a,c,h)),!0}return!1}function Yh(e){var n=Ms(e.target);if(n!==null){var a=Xe(n);if(a!==null){if(n=a.tag,n===13){if(n=yt(a),n!==null){e.blockedOn=n,Gh(e.priority,function(){Kh(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ql(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=qc(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(a===null){a=e.nativeEvent;var c=new a.constructor(a.type,a);yn=c,a.target.dispatchEvent(c),yn=null}else return n=Ua(a),n!==null&&Fc(n),e.blockedOn=a,!1;n.shift()}return!0}function Zh(e,n,a){Ql(e)&&a.delete(n)}function zv(){Uc=!1,Hn!==null&&Ql(Hn)&&(Hn=null),Kn!==null&&Ql(Kn)&&(Kn=null),Qn!==null&&Ql(Qn)&&(Qn=null),Sa.forEach(Zh),Ea.forEach(Zh)}function Pa(e,n){e.blockedOn===n&&(e.blockedOn=null,Uc||(Uc=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,zv)))}function ja(e){function n(h){return Pa(h,e)}if(0<Kl.length){Pa(Kl[0],e);for(var a=1;a<Kl.length;a++){var c=Kl[a];c.blockedOn===e&&(c.blockedOn=null)}}for(Hn!==null&&Pa(Hn,e),Kn!==null&&Pa(Kn,e),Qn!==null&&Pa(Qn,e),Sa.forEach(n),Ea.forEach(n),a=0;a<Gn.length;a++)c=Gn[a],c.blockedOn===e&&(c.blockedOn=null);for(;0<Gn.length&&(a=Gn[0],a.blockedOn===null);)Yh(a),a.blockedOn===null&&Gn.shift()}var wi=H.ReactCurrentBatchConfig,Gl=!0;function Dv(e,n,a,c){var h=it,p=wi.transition;wi.transition=null;try{it=1,Bc(e,n,a,c)}finally{it=h,wi.transition=p}}function $v(e,n,a,c){var h=it,p=wi.transition;wi.transition=null;try{it=4,Bc(e,n,a,c)}finally{it=h,wi.transition=p}}function Bc(e,n,a,c){if(Gl){var h=qc(e,n,a,c);if(h===null)au(e,n,c,Jl,a),Jh(e,c);else if(Av(h,e,n,a,c))c.stopPropagation();else if(Jh(e,c),n&4&&-1<Lv.indexOf(e)){for(;h!==null;){var p=Ua(h);if(p!==null&&Hh(p),p=qc(e,n,a,c),p===null&&au(e,n,c,Jl,a),p===h)break;h=p}h!==null&&c.stopPropagation()}else au(e,n,c,null,a)}}var Jl=null;function qc(e,n,a,c){if(Jl=null,e=Ls(c),e=Ms(e),e!==null)if(n=Xe(e),n===null)e=null;else if(a=n.tag,a===13){if(e=yt(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return Jl=e,null}function Xh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xa()){case $r:return 1;case $s:return 4;case tt:case sr:return 16;case Mr:return 536870912;default:return 16}default:return 16}}var Jn=null,Vc=null,Yl=null;function ef(){if(Yl)return Yl;var e,n=Vc,a=n.length,c,h="value"in Jn?Jn.value:Jn.textContent,p=h.length;for(e=0;e<a&&n[e]===h[e];e++);var _=a-e;for(c=1;c<=_&&n[a-c]===h[p-c];c++);return Yl=h.slice(e,1<c?1-c:void 0)}function Zl(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Xl(){return!0}function tf(){return!1}function yr(e){function n(a,c,h,p,_){this._reactName=a,this._targetInst=h,this.type=c,this.nativeEvent=p,this.target=_,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(p):p[E]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Xl:tf,this.isPropagationStopped=tf,this}return C(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Xl)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Xl)},persist:function(){},isPersistent:Xl}),n}var bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wc=yr(bi),Ta=C({},bi,{view:0,detail:0}),Mv=yr(Ta),Hc,Kc,Ra,eo=C({},Ta,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ra&&(Ra&&e.type==="mousemove"?(Hc=e.screenX-Ra.screenX,Kc=e.screenY-Ra.screenY):Kc=Hc=0,Ra=e),Hc)},movementY:function(e){return"movementY"in e?e.movementY:Kc}}),rf=yr(eo),Iv=C({},eo,{dataTransfer:0}),Fv=yr(Iv),Uv=C({},Ta,{relatedTarget:0}),Qc=yr(Uv),Bv=C({},bi,{animationName:0,elapsedTime:0,pseudoElement:0}),qv=yr(Bv),Vv=C({},bi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Wv=yr(Vv),Hv=C({},bi,{data:0}),nf=yr(Hv),Kv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jv(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Gv[e])?!!n[e]:!1}function Gc(){return Jv}var Yv=C({},Ta,{key:function(e){if(e.key){var n=Kv[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Zl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Qv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gc,charCode:function(e){return e.type==="keypress"?Zl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Zl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Zv=yr(Yv),Xv=C({},eo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sf=yr(Xv),e0=C({},Ta,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gc}),t0=yr(e0),r0=C({},bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),n0=yr(r0),s0=C({},eo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),i0=yr(s0),a0=[9,13,27,32],Jc=f&&"CompositionEvent"in window,Oa=null;f&&"documentMode"in document&&(Oa=document.documentMode);var l0=f&&"TextEvent"in window&&!Oa,af=f&&(!Jc||Oa&&8<Oa&&11>=Oa),lf=" ",of=!1;function cf(e,n){switch(e){case"keyup":return a0.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _i=!1;function o0(e,n){switch(e){case"compositionend":return uf(n);case"keypress":return n.which!==32?null:(of=!0,lf);case"textInput":return e=n.data,e===lf&&of?null:e;default:return null}}function c0(e,n){if(_i)return e==="compositionend"||!Jc&&cf(e,n)?(e=ef(),Yl=Vc=Jn=null,_i=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return af&&n.locale!=="ko"?null:n.data;default:return null}}var u0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function df(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!u0[e.type]:n==="textarea"}function hf(e,n,a,c){As(c),n=io(n,"onChange"),0<n.length&&(a=new Wc("onChange","change",null,a,c),e.push({event:a,listeners:n}))}var La=null,Aa=null;function d0(e){Tf(e,0)}function to(e){var n=Ei(e);if(In(n))return e}function h0(e,n){if(e==="change")return n}var ff=!1;if(f){var Yc;if(f){var Zc="oninput"in document;if(!Zc){var mf=document.createElement("div");mf.setAttribute("oninput","return;"),Zc=typeof mf.oninput=="function"}Yc=Zc}else Yc=!1;ff=Yc&&(!document.documentMode||9<document.documentMode)}function pf(){La&&(La.detachEvent("onpropertychange",gf),Aa=La=null)}function gf(e){if(e.propertyName==="value"&&to(Aa)){var n=[];hf(n,Aa,e,Ls(e)),$(d0,n)}}function f0(e,n,a){e==="focusin"?(pf(),La=n,Aa=a,La.attachEvent("onpropertychange",gf)):e==="focusout"&&pf()}function m0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return to(Aa)}function p0(e,n){if(e==="click")return to(n)}function g0(e,n){if(e==="input"||e==="change")return to(n)}function y0(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Ir=typeof Object.is=="function"?Object.is:y0;function za(e,n){if(Ir(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),c=Object.keys(n);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var h=a[c];if(!m.call(n,h)||!Ir(e[h],n[h]))return!1}return!0}function yf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function vf(e,n){var a=yf(e);e=0;for(var c;a;){if(a.nodeType===3){if(c=e+a.textContent.length,e<=n&&c>=n)return{node:a,offset:n-e};e=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=yf(a)}}function wf(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?wf(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function bf(){for(var e=window,n=Fn();n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=Fn(e.document)}return n}function Xc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function v0(e){var n=bf(),a=e.focusedElem,c=e.selectionRange;if(n!==a&&a&&a.ownerDocument&&wf(a.ownerDocument.documentElement,a)){if(c!==null&&Xc(a)){if(n=c.start,e=c.end,e===void 0&&(e=n),"selectionStart"in a)a.selectionStart=n,a.selectionEnd=Math.min(e,a.value.length);else if(e=(n=a.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var h=a.textContent.length,p=Math.min(c.start,h);c=c.end===void 0?p:Math.min(c.end,h),!e.extend&&p>c&&(h=c,c=p,p=h),h=vf(a,p);var _=vf(a,c);h&&_&&(e.rangeCount!==1||e.anchorNode!==h.node||e.anchorOffset!==h.offset||e.focusNode!==_.node||e.focusOffset!==_.offset)&&(n=n.createRange(),n.setStart(h.node,h.offset),e.removeAllRanges(),p>c?(e.addRange(n),e.extend(_.node,_.offset)):(n.setEnd(_.node,_.offset),e.addRange(n)))}}for(n=[],e=a;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<n.length;a++)e=n[a],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var w0=f&&"documentMode"in document&&11>=document.documentMode,xi=null,eu=null,Da=null,tu=!1;function _f(e,n,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;tu||xi==null||xi!==Fn(c)||(c=xi,"selectionStart"in c&&Xc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Da&&za(Da,c)||(Da=c,c=io(eu,"onSelect"),0<c.length&&(n=new Wc("onSelect","select",null,n,a),e.push({event:n,listeners:c}),n.target=xi)))}function ro(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var ki={animationend:ro("Animation","AnimationEnd"),animationiteration:ro("Animation","AnimationIteration"),animationstart:ro("Animation","AnimationStart"),transitionend:ro("Transition","TransitionEnd")},ru={},xf={};f&&(xf=document.createElement("div").style,"AnimationEvent"in window||(delete ki.animationend.animation,delete ki.animationiteration.animation,delete ki.animationstart.animation),"TransitionEvent"in window||delete ki.transitionend.transition);function no(e){if(ru[e])return ru[e];if(!ki[e])return e;var n=ki[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in xf)return ru[e]=n[a];return e}var kf=no("animationend"),Nf=no("animationiteration"),Sf=no("animationstart"),Ef=no("transitionend"),Cf=new Map,Pf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yn(e,n){Cf.set(e,n),o(n,[e])}for(var nu=0;nu<Pf.length;nu++){var su=Pf[nu],b0=su.toLowerCase(),_0=su[0].toUpperCase()+su.slice(1);Yn(b0,"on"+_0)}Yn(kf,"onAnimationEnd"),Yn(Nf,"onAnimationIteration"),Yn(Sf,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(Ef,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $a="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),x0=new Set("cancel close invalid load scroll toggle".split(" ").concat($a));function jf(e,n,a){var c=e.type||"unknown-event";e.currentTarget=a,Ie(c,n,void 0,e),e.currentTarget=null}function Tf(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var c=e[a],h=c.event;c=c.listeners;e:{var p=void 0;if(n)for(var _=c.length-1;0<=_;_--){var E=c[_],O=E.instance,U=E.currentTarget;if(E=E.listener,O!==p&&h.isPropagationStopped())break e;jf(h,E,U),p=O}else for(_=0;_<c.length;_++){if(E=c[_],O=E.instance,U=E.currentTarget,E=E.listener,O!==p&&h.isPropagationStopped())break e;jf(h,E,U),p=O}}}if(_e)throw e=Ne,_e=!1,Ne=null,e}function ut(e,n){var a=n[hu];a===void 0&&(a=n[hu]=new Set);var c=e+"__bubble";a.has(c)||(Rf(n,e,2,!1),a.add(c))}function iu(e,n,a){var c=0;n&&(c|=4),Rf(a,e,c,n)}var so="_reactListening"+Math.random().toString(36).slice(2);function Ma(e){if(!e[so]){e[so]=!0,i.forEach(function(a){a!=="selectionchange"&&(x0.has(a)||iu(a,!1,e),iu(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[so]||(n[so]=!0,iu("selectionchange",!1,n))}}function Rf(e,n,a,c){switch(Xh(n)){case 1:var h=Dv;break;case 4:h=$v;break;default:h=Bc}a=h.bind(null,n,a,e),h=void 0,!J||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),c?h!==void 0?e.addEventListener(n,a,{capture:!0,passive:h}):e.addEventListener(n,a,!0):h!==void 0?e.addEventListener(n,a,{passive:h}):e.addEventListener(n,a,!1)}function au(e,n,a,c,h){var p=c;if((n&1)===0&&(n&2)===0&&c!==null)e:for(;;){if(c===null)return;var _=c.tag;if(_===3||_===4){var E=c.stateNode.containerInfo;if(E===h||E.nodeType===8&&E.parentNode===h)break;if(_===4)for(_=c.return;_!==null;){var O=_.tag;if((O===3||O===4)&&(O=_.stateNode.containerInfo,O===h||O.nodeType===8&&O.parentNode===h))return;_=_.return}for(;E!==null;){if(_=Ms(E),_===null)return;if(O=_.tag,O===5||O===6){c=p=_;continue e}E=E.parentNode}}c=c.return}$(function(){var U=p,G=Ls(a),Y=[];e:{var Q=Cf.get(e);if(Q!==void 0){var oe=Wc,me=e;switch(e){case"keypress":if(Zl(a)===0)break e;case"keydown":case"keyup":oe=Zv;break;case"focusin":me="focus",oe=Qc;break;case"focusout":me="blur",oe=Qc;break;case"beforeblur":case"afterblur":oe=Qc;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=rf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=Fv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=t0;break;case kf:case Nf:case Sf:oe=qv;break;case Ef:oe=n0;break;case"scroll":oe=Mv;break;case"wheel":oe=i0;break;case"copy":case"cut":case"paste":oe=Wv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=sf}var ge=(n&4)!==0,xt=!ge&&e==="scroll",M=ge?Q!==null?Q+"Capture":null:Q;ge=[];for(var z=U,F;z!==null;){F=z;var ee=F.stateNode;if(F.tag===5&&ee!==null&&(F=ee,M!==null&&(ee=q(z,M),ee!=null&&ge.push(Ia(z,ee,F)))),xt)break;z=z.return}0<ge.length&&(Q=new oe(Q,me,null,a,G),Y.push({event:Q,listeners:ge}))}}if((n&7)===0){e:{if(Q=e==="mouseover"||e==="pointerover",oe=e==="mouseout"||e==="pointerout",Q&&a!==yn&&(me=a.relatedTarget||a.fromElement)&&(Ms(me)||me[bn]))break e;if((oe||Q)&&(Q=G.window===G?G:(Q=G.ownerDocument)?Q.defaultView||Q.parentWindow:window,oe?(me=a.relatedTarget||a.toElement,oe=U,me=me?Ms(me):null,me!==null&&(xt=Xe(me),me!==xt||me.tag!==5&&me.tag!==6)&&(me=null)):(oe=null,me=U),oe!==me)){if(ge=rf,ee="onMouseLeave",M="onMouseEnter",z="mouse",(e==="pointerout"||e==="pointerover")&&(ge=sf,ee="onPointerLeave",M="onPointerEnter",z="pointer"),xt=oe==null?Q:Ei(oe),F=me==null?Q:Ei(me),Q=new ge(ee,z+"leave",oe,a,G),Q.target=xt,Q.relatedTarget=F,ee=null,Ms(G)===U&&(ge=new ge(M,z+"enter",me,a,G),ge.target=F,ge.relatedTarget=xt,ee=ge),xt=ee,oe&&me)t:{for(ge=oe,M=me,z=0,F=ge;F;F=Ni(F))z++;for(F=0,ee=M;ee;ee=Ni(ee))F++;for(;0<z-F;)ge=Ni(ge),z--;for(;0<F-z;)M=Ni(M),F--;for(;z--;){if(ge===M||M!==null&&ge===M.alternate)break t;ge=Ni(ge),M=Ni(M)}ge=null}else ge=null;oe!==null&&Of(Y,Q,oe,ge,!1),me!==null&&xt!==null&&Of(Y,xt,me,ge,!0)}}e:{if(Q=U?Ei(U):window,oe=Q.nodeName&&Q.nodeName.toLowerCase(),oe==="select"||oe==="input"&&Q.type==="file")var we=h0;else if(df(Q))if(ff)we=g0;else{we=m0;var Te=f0}else(oe=Q.nodeName)&&oe.toLowerCase()==="input"&&(Q.type==="checkbox"||Q.type==="radio")&&(we=p0);if(we&&(we=we(e,U))){hf(Y,we,a,G);break e}Te&&Te(e,Q,U),e==="focusout"&&(Te=Q._wrapperState)&&Te.controlled&&Q.type==="number"&&Bn(Q,"number",Q.value)}switch(Te=U?Ei(U):window,e){case"focusin":(df(Te)||Te.contentEditable==="true")&&(xi=Te,eu=U,Da=null);break;case"focusout":Da=eu=xi=null;break;case"mousedown":tu=!0;break;case"contextmenu":case"mouseup":case"dragend":tu=!1,_f(Y,a,G);break;case"selectionchange":if(w0)break;case"keydown":case"keyup":_f(Y,a,G)}var Re;if(Jc)e:{switch(e){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else _i?cf(e,a)&&(De="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(De="onCompositionStart");De&&(af&&a.locale!=="ko"&&(_i||De!=="onCompositionStart"?De==="onCompositionEnd"&&_i&&(Re=ef()):(Jn=G,Vc="value"in Jn?Jn.value:Jn.textContent,_i=!0)),Te=io(U,De),0<Te.length&&(De=new nf(De,e,null,a,G),Y.push({event:De,listeners:Te}),Re?De.data=Re:(Re=uf(a),Re!==null&&(De.data=Re)))),(Re=l0?o0(e,a):c0(e,a))&&(U=io(U,"onBeforeInput"),0<U.length&&(G=new nf("onBeforeInput","beforeinput",null,a,G),Y.push({event:G,listeners:U}),G.data=Re))}Tf(Y,n)})}function Ia(e,n,a){return{instance:e,listener:n,currentTarget:a}}function io(e,n){for(var a=n+"Capture",c=[];e!==null;){var h=e,p=h.stateNode;h.tag===5&&p!==null&&(h=p,p=q(e,a),p!=null&&c.unshift(Ia(e,p,h)),p=q(e,n),p!=null&&c.push(Ia(e,p,h))),e=e.return}return c}function Ni(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Of(e,n,a,c,h){for(var p=n._reactName,_=[];a!==null&&a!==c;){var E=a,O=E.alternate,U=E.stateNode;if(O!==null&&O===c)break;E.tag===5&&U!==null&&(E=U,h?(O=q(a,p),O!=null&&_.unshift(Ia(a,O,E))):h||(O=q(a,p),O!=null&&_.push(Ia(a,O,E)))),a=a.return}_.length!==0&&e.push({event:n,listeners:_})}var k0=/\r\n?/g,N0=/\u0000|\uFFFD/g;function Lf(e){return(typeof e=="string"?e:""+e).replace(k0,`
`).replace(N0,"")}function ao(e,n,a){if(n=Lf(n),Lf(e)!==n&&a)throw Error(s(425))}function lo(){}var lu=null,ou=null;function cu(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var uu=typeof setTimeout=="function"?setTimeout:void 0,S0=typeof clearTimeout=="function"?clearTimeout:void 0,Af=typeof Promise=="function"?Promise:void 0,E0=typeof queueMicrotask=="function"?queueMicrotask:typeof Af<"u"?function(e){return Af.resolve(null).then(e).catch(C0)}:uu;function C0(e){setTimeout(function(){throw e})}function du(e,n){var a=n,c=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(c===0){e.removeChild(h),ja(n);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=h}while(a);ja(n)}function Zn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function zf(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return e;n--}else a==="/$"&&n++}e=e.previousSibling}return null}var Si=Math.random().toString(36).slice(2),rn="__reactFiber$"+Si,Fa="__reactProps$"+Si,bn="__reactContainer$"+Si,hu="__reactEvents$"+Si,P0="__reactListeners$"+Si,j0="__reactHandles$"+Si;function Ms(e){var n=e[rn];if(n)return n;for(var a=e.parentNode;a;){if(n=a[bn]||a[rn]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=zf(e);e!==null;){if(a=e[rn])return a;e=zf(e)}return n}e=a,a=e.parentNode}return null}function Ua(e){return e=e[rn]||e[bn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ei(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(s(33))}function oo(e){return e[Fa]||null}var fu=[],Ci=-1;function Xn(e){return{current:e}}function dt(e){0>Ci||(e.current=fu[Ci],fu[Ci]=null,Ci--)}function ot(e,n){Ci++,fu[Ci]=e.current,e.current=n}var es={},Bt=Xn(es),ar=Xn(!1),Is=es;function Pi(e,n){var a=e.type.contextTypes;if(!a)return es;var c=e.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===n)return c.__reactInternalMemoizedMaskedChildContext;var h={},p;for(p in a)h[p]=n[p];return c&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=h),h}function lr(e){return e=e.childContextTypes,e!=null}function co(){dt(ar),dt(Bt)}function Df(e,n,a){if(Bt.current!==es)throw Error(s(168));ot(Bt,n),ot(ar,a)}function $f(e,n,a){var c=e.stateNode;if(n=n.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var h in c)if(!(h in n))throw Error(s(108,et(e)||"Unknown",h));return C({},a,c)}function uo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||es,Is=Bt.current,ot(Bt,e),ot(ar,ar.current),!0}function Mf(e,n,a){var c=e.stateNode;if(!c)throw Error(s(169));a?(e=$f(e,n,Is),c.__reactInternalMemoizedMergedChildContext=e,dt(ar),dt(Bt),ot(Bt,e)):dt(ar),ot(ar,a)}var _n=null,ho=!1,mu=!1;function If(e){_n===null?_n=[e]:_n.push(e)}function T0(e){ho=!0,If(e)}function ts(){if(!mu&&_n!==null){mu=!0;var e=0,n=it;try{var a=_n;for(it=1;e<a.length;e++){var c=a[e];do c=c(!0);while(c!==null)}_n=null,ho=!1}catch(h){throw _n!==null&&(_n=_n.slice(e+1)),tn($r,ts),h}finally{it=n,mu=!1}}return null}var ji=[],Ti=0,fo=null,mo=0,Er=[],Cr=0,Fs=null,xn=1,kn="";function Us(e,n){ji[Ti++]=mo,ji[Ti++]=fo,fo=e,mo=n}function Ff(e,n,a){Er[Cr++]=xn,Er[Cr++]=kn,Er[Cr++]=Fs,Fs=e;var c=xn;e=kn;var h=32-At(c)-1;c&=~(1<<h),a+=1;var p=32-At(n)+h;if(30<p){var _=h-h%5;p=(c&(1<<_)-1).toString(32),c>>=_,h-=_,xn=1<<32-At(n)+h|a<<h|c,kn=p+e}else xn=1<<p|a<<h|c,kn=e}function pu(e){e.return!==null&&(Us(e,1),Ff(e,1,0))}function gu(e){for(;e===fo;)fo=ji[--Ti],ji[Ti]=null,mo=ji[--Ti],ji[Ti]=null;for(;e===Fs;)Fs=Er[--Cr],Er[Cr]=null,kn=Er[--Cr],Er[Cr]=null,xn=Er[--Cr],Er[Cr]=null}var vr=null,wr=null,ft=!1,Fr=null;function Uf(e,n){var a=Rr(5,null,null,0);a.elementType="DELETED",a.stateNode=n,a.return=e,n=e.deletions,n===null?(e.deletions=[a],e.flags|=16):n.push(a)}function Bf(e,n){switch(e.tag){case 5:var a=e.type;return n=n.nodeType!==1||a.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,vr=e,wr=Zn(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,vr=e,wr=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(a=Fs!==null?{id:xn,overflow:kn}:null,e.memoizedState={dehydrated:n,treeContext:a,retryLane:1073741824},a=Rr(18,null,null,0),a.stateNode=n,a.return=e,e.child=a,vr=e,wr=null,!0):!1;default:return!1}}function yu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function vu(e){if(ft){var n=wr;if(n){var a=n;if(!Bf(e,n)){if(yu(e))throw Error(s(418));n=Zn(a.nextSibling);var c=vr;n&&Bf(e,n)?Uf(c,a):(e.flags=e.flags&-4097|2,ft=!1,vr=e)}}else{if(yu(e))throw Error(s(418));e.flags=e.flags&-4097|2,ft=!1,vr=e}}}function qf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;vr=e}function po(e){if(e!==vr)return!1;if(!ft)return qf(e),ft=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!cu(e.type,e.memoizedProps)),n&&(n=wr)){if(yu(e))throw Vf(),Error(s(418));for(;n;)Uf(e,n),n=Zn(n.nextSibling)}if(qf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"){if(n===0){wr=Zn(e.nextSibling);break e}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++}e=e.nextSibling}wr=null}}else wr=vr?Zn(e.stateNode.nextSibling):null;return!0}function Vf(){for(var e=wr;e;)e=Zn(e.nextSibling)}function Ri(){wr=vr=null,ft=!1}function wu(e){Fr===null?Fr=[e]:Fr.push(e)}var R0=H.ReactCurrentBatchConfig;function Ur(e,n){if(e&&e.defaultProps){n=C({},n),e=e.defaultProps;for(var a in e)n[a]===void 0&&(n[a]=e[a]);return n}return n}var go=Xn(null),yo=null,Oi=null,bu=null;function _u(){bu=Oi=yo=null}function xu(e){var n=go.current;dt(go),e._currentValue=n}function ku(e,n,a){for(;e!==null;){var c=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,c!==null&&(c.childLanes|=n)):c!==null&&(c.childLanes&n)!==n&&(c.childLanes|=n),e===a)break;e=e.return}}function Li(e,n){yo=e,bu=Oi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&n)!==0&&(or=!0),e.firstContext=null)}function Pr(e){var n=e._currentValue;if(bu!==e)if(e={context:e,memoizedValue:n,next:null},Oi===null){if(yo===null)throw Error(s(308));Oi=e,yo.dependencies={lanes:0,firstContext:e}}else Oi=Oi.next=e;return n}var Bs=null;function Nu(e){Bs===null?Bs=[e]:Bs.push(e)}function Wf(e,n,a,c){var h=n.interleaved;return h===null?(a.next=a,Nu(n)):(a.next=h.next,h.next=a),n.interleaved=a,Nn(e,c)}function Nn(e,n){e.lanes|=n;var a=e.alternate;for(a!==null&&(a.lanes|=n),a=e,e=e.return;e!==null;)e.childLanes|=n,a=e.alternate,a!==null&&(a.childLanes|=n),a=e,e=e.return;return a.tag===3?a.stateNode:null}var rs=!1;function Su(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Sn(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function ns(e,n,a){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(rt&2)!==0){var h=c.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),c.pending=n,Nn(e,a)}return h=c.interleaved,h===null?(n.next=n,Nu(c)):(n.next=h.next,h.next=n),c.interleaved=n,Nn(e,a)}function vo(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194240)!==0)){var c=n.lanes;c&=e.pendingLanes,a|=c,n.lanes=a,Ic(e,a)}}function Kf(e,n){var a=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var h=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var _={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};p===null?h=p=_:p=p.next=_,a=a.next}while(a!==null);p===null?h=p=n:p=p.next=n}else h=p=n;a={baseState:c.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:c.shared,effects:c.effects},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}function wo(e,n,a,c){var h=e.updateQueue;rs=!1;var p=h.firstBaseUpdate,_=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var O=E,U=O.next;O.next=null,_===null?p=U:_.next=U,_=O;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==_&&(E===null?G.firstBaseUpdate=U:E.next=U,G.lastBaseUpdate=O))}if(p!==null){var Y=h.baseState;_=0,G=U=O=null,E=p;do{var Q=E.lane,oe=E.eventTime;if((c&Q)===Q){G!==null&&(G=G.next={eventTime:oe,lane:0,tag:E.tag,payload:E.payload,callback:E.callback,next:null});e:{var me=e,ge=E;switch(Q=n,oe=a,ge.tag){case 1:if(me=ge.payload,typeof me=="function"){Y=me.call(oe,Y,Q);break e}Y=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=ge.payload,Q=typeof me=="function"?me.call(oe,Y,Q):me,Q==null)break e;Y=C({},Y,Q);break e;case 2:rs=!0}}E.callback!==null&&E.lane!==0&&(e.flags|=64,Q=h.effects,Q===null?h.effects=[E]:Q.push(E))}else oe={eventTime:oe,lane:Q,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(U=G=oe,O=Y):G=G.next=oe,_|=Q;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;Q=E,E=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);if(G===null&&(O=Y),h.baseState=O,h.firstBaseUpdate=U,h.lastBaseUpdate=G,n=h.shared.interleaved,n!==null){h=n;do _|=h.lane,h=h.next;while(h!==n)}else p===null&&(h.shared.lanes=0);Ws|=_,e.lanes=_,e.memoizedState=Y}}function Qf(e,n,a){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var c=e[n],h=c.callback;if(h!==null){if(c.callback=null,c=a,typeof h!="function")throw Error(s(191,h));h.call(c)}}}var Gf=new r.Component().refs;function Eu(e,n,a,c){n=e.memoizedState,a=a(c,n),a=a==null?n:C({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var bo={isMounted:function(e){return(e=e._reactInternals)?Xe(e)===e:!1},enqueueSetState:function(e,n,a){e=e._reactInternals;var c=Jt(),h=ls(e),p=Sn(c,h);p.payload=n,a!=null&&(p.callback=a),n=ns(e,p,h),n!==null&&(Vr(n,e,h,c),vo(n,e,h))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var c=Jt(),h=ls(e),p=Sn(c,h);p.tag=1,p.payload=n,a!=null&&(p.callback=a),n=ns(e,p,h),n!==null&&(Vr(n,e,h,c),vo(n,e,h))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=Jt(),c=ls(e),h=Sn(a,c);h.tag=2,n!=null&&(h.callback=n),n=ns(e,h,c),n!==null&&(Vr(n,e,c,a),vo(n,e,c))}};function Jf(e,n,a,c,h,p,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,p,_):n.prototype&&n.prototype.isPureReactComponent?!za(a,c)||!za(h,p):!0}function Yf(e,n,a){var c=!1,h=es,p=n.contextType;return typeof p=="object"&&p!==null?p=Pr(p):(h=lr(n)?Is:Bt.current,c=n.contextTypes,p=(c=c!=null)?Pi(e,h):es),n=new n(a,p),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=bo,e.stateNode=n,n._reactInternals=e,c&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=h,e.__reactInternalMemoizedMaskedChildContext=p),n}function Zf(e,n,a,c){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,c),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,c),n.state!==e&&bo.enqueueReplaceState(n,n.state,null)}function Cu(e,n,a,c){var h=e.stateNode;h.props=a,h.state=e.memoizedState,h.refs=Gf,Su(e);var p=n.contextType;typeof p=="object"&&p!==null?h.context=Pr(p):(p=lr(n)?Is:Bt.current,h.context=Pi(e,p)),h.state=e.memoizedState,p=n.getDerivedStateFromProps,typeof p=="function"&&(Eu(e,n,p,a),h.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(n=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),n!==h.state&&bo.enqueueReplaceState(h,h.state,null),wo(e,a,h,c),h.state=e.memoizedState),typeof h.componentDidMount=="function"&&(e.flags|=4194308)}function Ba(e,n,a){if(e=a.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(s(309));var c=a.stateNode}if(!c)throw Error(s(147,e));var h=c,p=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===p?n.ref:(n=function(_){var E=h.refs;E===Gf&&(E=h.refs={}),_===null?delete E[p]:E[p]=_},n._stringRef=p,n)}if(typeof e!="string")throw Error(s(284));if(!a._owner)throw Error(s(290,e))}return e}function _o(e,n){throw e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function Xf(e){var n=e._init;return n(e._payload)}function em(e){function n(M,z){if(e){var F=M.deletions;F===null?(M.deletions=[z],M.flags|=16):F.push(z)}}function a(M,z){if(!e)return null;for(;z!==null;)n(M,z),z=z.sibling;return null}function c(M,z){for(M=new Map;z!==null;)z.key!==null?M.set(z.key,z):M.set(z.index,z),z=z.sibling;return M}function h(M,z){return M=cs(M,z),M.index=0,M.sibling=null,M}function p(M,z,F){return M.index=F,e?(F=M.alternate,F!==null?(F=F.index,F<z?(M.flags|=2,z):F):(M.flags|=2,z)):(M.flags|=1048576,z)}function _(M){return e&&M.alternate===null&&(M.flags|=2),M}function E(M,z,F,ee){return z===null||z.tag!==6?(z=ud(F,M.mode,ee),z.return=M,z):(z=h(z,F),z.return=M,z)}function O(M,z,F,ee){var we=F.type;return we===ne?G(M,z,F.props.children,ee,F.key):z!==null&&(z.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===ke&&Xf(we)===z.type)?(ee=h(z,F.props),ee.ref=Ba(M,z,F),ee.return=M,ee):(ee=Fo(F.type,F.key,F.props,null,M.mode,ee),ee.ref=Ba(M,z,F),ee.return=M,ee)}function U(M,z,F,ee){return z===null||z.tag!==4||z.stateNode.containerInfo!==F.containerInfo||z.stateNode.implementation!==F.implementation?(z=dd(F,M.mode,ee),z.return=M,z):(z=h(z,F.children||[]),z.return=M,z)}function G(M,z,F,ee,we){return z===null||z.tag!==7?(z=Gs(F,M.mode,ee,we),z.return=M,z):(z=h(z,F),z.return=M,z)}function Y(M,z,F){if(typeof z=="string"&&z!==""||typeof z=="number")return z=ud(""+z,M.mode,F),z.return=M,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case V:return F=Fo(z.type,z.key,z.props,null,M.mode,F),F.ref=Ba(M,null,z),F.return=M,F;case A:return z=dd(z,M.mode,F),z.return=M,z;case ke:var ee=z._init;return Y(M,ee(z._payload),F)}if(j(z)||ae(z))return z=Gs(z,M.mode,F,null),z.return=M,z;_o(M,z)}return null}function Q(M,z,F,ee){var we=z!==null?z.key:null;if(typeof F=="string"&&F!==""||typeof F=="number")return we!==null?null:E(M,z,""+F,ee);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case V:return F.key===we?O(M,z,F,ee):null;case A:return F.key===we?U(M,z,F,ee):null;case ke:return we=F._init,Q(M,z,we(F._payload),ee)}if(j(F)||ae(F))return we!==null?null:G(M,z,F,ee,null);_o(M,F)}return null}function oe(M,z,F,ee,we){if(typeof ee=="string"&&ee!==""||typeof ee=="number")return M=M.get(F)||null,E(z,M,""+ee,we);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case V:return M=M.get(ee.key===null?F:ee.key)||null,O(z,M,ee,we);case A:return M=M.get(ee.key===null?F:ee.key)||null,U(z,M,ee,we);case ke:var Te=ee._init;return oe(M,z,F,Te(ee._payload),we)}if(j(ee)||ae(ee))return M=M.get(F)||null,G(z,M,ee,we,null);_o(z,ee)}return null}function me(M,z,F,ee){for(var we=null,Te=null,Re=z,De=z=0,$t=null;Re!==null&&De<F.length;De++){Re.index>De?($t=Re,Re=null):$t=Re.sibling;var nt=Q(M,Re,F[De],ee);if(nt===null){Re===null&&(Re=$t);break}e&&Re&&nt.alternate===null&&n(M,Re),z=p(nt,z,De),Te===null?we=nt:Te.sibling=nt,Te=nt,Re=$t}if(De===F.length)return a(M,Re),ft&&Us(M,De),we;if(Re===null){for(;De<F.length;De++)Re=Y(M,F[De],ee),Re!==null&&(z=p(Re,z,De),Te===null?we=Re:Te.sibling=Re,Te=Re);return ft&&Us(M,De),we}for(Re=c(M,Re);De<F.length;De++)$t=oe(Re,M,De,F[De],ee),$t!==null&&(e&&$t.alternate!==null&&Re.delete($t.key===null?De:$t.key),z=p($t,z,De),Te===null?we=$t:Te.sibling=$t,Te=$t);return e&&Re.forEach(function(us){return n(M,us)}),ft&&Us(M,De),we}function ge(M,z,F,ee){var we=ae(F);if(typeof we!="function")throw Error(s(150));if(F=we.call(F),F==null)throw Error(s(151));for(var Te=we=null,Re=z,De=z=0,$t=null,nt=F.next();Re!==null&&!nt.done;De++,nt=F.next()){Re.index>De?($t=Re,Re=null):$t=Re.sibling;var us=Q(M,Re,nt.value,ee);if(us===null){Re===null&&(Re=$t);break}e&&Re&&us.alternate===null&&n(M,Re),z=p(us,z,De),Te===null?we=us:Te.sibling=us,Te=us,Re=$t}if(nt.done)return a(M,Re),ft&&Us(M,De),we;if(Re===null){for(;!nt.done;De++,nt=F.next())nt=Y(M,nt.value,ee),nt!==null&&(z=p(nt,z,De),Te===null?we=nt:Te.sibling=nt,Te=nt);return ft&&Us(M,De),we}for(Re=c(M,Re);!nt.done;De++,nt=F.next())nt=oe(Re,M,De,nt.value,ee),nt!==null&&(e&&nt.alternate!==null&&Re.delete(nt.key===null?De:nt.key),z=p(nt,z,De),Te===null?we=nt:Te.sibling=nt,Te=nt);return e&&Re.forEach(function(uw){return n(M,uw)}),ft&&Us(M,De),we}function xt(M,z,F,ee){if(typeof F=="object"&&F!==null&&F.type===ne&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case V:e:{for(var we=F.key,Te=z;Te!==null;){if(Te.key===we){if(we=F.type,we===ne){if(Te.tag===7){a(M,Te.sibling),z=h(Te,F.props.children),z.return=M,M=z;break e}}else if(Te.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===ke&&Xf(we)===Te.type){a(M,Te.sibling),z=h(Te,F.props),z.ref=Ba(M,Te,F),z.return=M,M=z;break e}a(M,Te);break}else n(M,Te);Te=Te.sibling}F.type===ne?(z=Gs(F.props.children,M.mode,ee,F.key),z.return=M,M=z):(ee=Fo(F.type,F.key,F.props,null,M.mode,ee),ee.ref=Ba(M,z,F),ee.return=M,M=ee)}return _(M);case A:e:{for(Te=F.key;z!==null;){if(z.key===Te)if(z.tag===4&&z.stateNode.containerInfo===F.containerInfo&&z.stateNode.implementation===F.implementation){a(M,z.sibling),z=h(z,F.children||[]),z.return=M,M=z;break e}else{a(M,z);break}else n(M,z);z=z.sibling}z=dd(F,M.mode,ee),z.return=M,M=z}return _(M);case ke:return Te=F._init,xt(M,z,Te(F._payload),ee)}if(j(F))return me(M,z,F,ee);if(ae(F))return ge(M,z,F,ee);_o(M,F)}return typeof F=="string"&&F!==""||typeof F=="number"?(F=""+F,z!==null&&z.tag===6?(a(M,z.sibling),z=h(z,F),z.return=M,M=z):(a(M,z),z=ud(F,M.mode,ee),z.return=M,M=z),_(M)):a(M,z)}return xt}var Ai=em(!0),tm=em(!1),qa={},nn=Xn(qa),Va=Xn(qa),Wa=Xn(qa);function qs(e){if(e===qa)throw Error(s(174));return e}function Pu(e,n){switch(ot(Wa,n),ot(Va,e),ot(nn,qa),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Me(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=Me(n,e)}dt(nn),ot(nn,n)}function zi(){dt(nn),dt(Va),dt(Wa)}function rm(e){qs(Wa.current);var n=qs(nn.current),a=Me(n,e.type);n!==a&&(ot(Va,e),ot(nn,a))}function ju(e){Va.current===e&&(dt(nn),dt(Va))}var pt=Xn(0);function xo(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Tu=[];function Ru(){for(var e=0;e<Tu.length;e++)Tu[e]._workInProgressVersionPrimary=null;Tu.length=0}var ko=H.ReactCurrentDispatcher,Ou=H.ReactCurrentBatchConfig,Vs=0,gt=null,Tt=null,zt=null,No=!1,Ha=!1,Ka=0,O0=0;function qt(){throw Error(s(321))}function Lu(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!Ir(e[a],n[a]))return!1;return!0}function Au(e,n,a,c,h,p){if(Vs=p,gt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,ko.current=e===null||e.memoizedState===null?D0:$0,e=a(c,h),Ha){p=0;do{if(Ha=!1,Ka=0,25<=p)throw Error(s(301));p+=1,zt=Tt=null,n.updateQueue=null,ko.current=M0,e=a(c,h)}while(Ha)}if(ko.current=Co,n=Tt!==null&&Tt.next!==null,Vs=0,zt=Tt=gt=null,No=!1,n)throw Error(s(300));return e}function zu(){var e=Ka!==0;return Ka=0,e}function sn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?gt.memoizedState=zt=e:zt=zt.next=e,zt}function jr(){if(Tt===null){var e=gt.alternate;e=e!==null?e.memoizedState:null}else e=Tt.next;var n=zt===null?gt.memoizedState:zt.next;if(n!==null)zt=n,Tt=e;else{if(e===null)throw Error(s(310));Tt=e,e={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},zt===null?gt.memoizedState=zt=e:zt=zt.next=e}return zt}function Qa(e,n){return typeof n=="function"?n(e):n}function Du(e){var n=jr(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var c=Tt,h=c.baseQueue,p=a.pending;if(p!==null){if(h!==null){var _=h.next;h.next=p.next,p.next=_}c.baseQueue=h=p,a.pending=null}if(h!==null){p=h.next,c=c.baseState;var E=_=null,O=null,U=p;do{var G=U.lane;if((Vs&G)===G)O!==null&&(O=O.next={lane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),c=U.hasEagerState?U.eagerState:e(c,U.action);else{var Y={lane:G,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null};O===null?(E=O=Y,_=c):O=O.next=Y,gt.lanes|=G,Ws|=G}U=U.next}while(U!==null&&U!==p);O===null?_=c:O.next=E,Ir(c,n.memoizedState)||(or=!0),n.memoizedState=c,n.baseState=_,n.baseQueue=O,a.lastRenderedState=c}if(e=a.interleaved,e!==null){h=e;do p=h.lane,gt.lanes|=p,Ws|=p,h=h.next;while(h!==e)}else h===null&&(a.lanes=0);return[n.memoizedState,a.dispatch]}function $u(e){var n=jr(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var c=a.dispatch,h=a.pending,p=n.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do p=e(p,_.action),_=_.next;while(_!==h);Ir(p,n.memoizedState)||(or=!0),n.memoizedState=p,n.baseQueue===null&&(n.baseState=p),a.lastRenderedState=p}return[p,c]}function nm(){}function sm(e,n){var a=gt,c=jr(),h=n(),p=!Ir(c.memoizedState,h);if(p&&(c.memoizedState=h,or=!0),c=c.queue,Mu(lm.bind(null,a,c,e),[e]),c.getSnapshot!==n||p||zt!==null&&zt.memoizedState.tag&1){if(a.flags|=2048,Ga(9,am.bind(null,a,c,h,n),void 0,null),Dt===null)throw Error(s(349));(Vs&30)!==0||im(a,n,h)}return h}function im(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=gt.updateQueue,n===null?(n={lastEffect:null,stores:null},gt.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function am(e,n,a,c){n.value=a,n.getSnapshot=c,om(n)&&cm(e)}function lm(e,n,a){return a(function(){om(n)&&cm(e)})}function om(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!Ir(e,a)}catch{return!0}}function cm(e){var n=Nn(e,1);n!==null&&Vr(n,e,1,-1)}function um(e){var n=sn();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qa,lastRenderedState:e},n.queue=e,e=e.dispatch=z0.bind(null,gt,e),[n.memoizedState,e]}function Ga(e,n,a,c){return e={tag:e,create:n,destroy:a,deps:c,next:null},n=gt.updateQueue,n===null?(n={lastEffect:null,stores:null},gt.updateQueue=n,n.lastEffect=e.next=e):(a=n.lastEffect,a===null?n.lastEffect=e.next=e:(c=a.next,a.next=e,e.next=c,n.lastEffect=e)),e}function dm(){return jr().memoizedState}function So(e,n,a,c){var h=sn();gt.flags|=e,h.memoizedState=Ga(1|n,a,void 0,c===void 0?null:c)}function Eo(e,n,a,c){var h=jr();c=c===void 0?null:c;var p=void 0;if(Tt!==null){var _=Tt.memoizedState;if(p=_.destroy,c!==null&&Lu(c,_.deps)){h.memoizedState=Ga(n,a,p,c);return}}gt.flags|=e,h.memoizedState=Ga(1|n,a,p,c)}function hm(e,n){return So(8390656,8,e,n)}function Mu(e,n){return Eo(2048,8,e,n)}function fm(e,n){return Eo(4,2,e,n)}function mm(e,n){return Eo(4,4,e,n)}function pm(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function gm(e,n,a){return a=a!=null?a.concat([e]):null,Eo(4,4,pm.bind(null,n,e),a)}function Iu(){}function ym(e,n){var a=jr();n=n===void 0?null:n;var c=a.memoizedState;return c!==null&&n!==null&&Lu(n,c[1])?c[0]:(a.memoizedState=[e,n],e)}function vm(e,n){var a=jr();n=n===void 0?null:n;var c=a.memoizedState;return c!==null&&n!==null&&Lu(n,c[1])?c[0]:(e=e(),a.memoizedState=[e,n],e)}function wm(e,n,a){return(Vs&21)===0?(e.baseState&&(e.baseState=!1,or=!0),e.memoizedState=a):(Ir(a,n)||(a=Vh(),gt.lanes|=a,Ws|=a,e.baseState=!0),n)}function L0(e,n){var a=it;it=a!==0&&4>a?a:4,e(!0);var c=Ou.transition;Ou.transition={};try{e(!1),n()}finally{it=a,Ou.transition=c}}function bm(){return jr().memoizedState}function A0(e,n,a){var c=ls(e);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},_m(e))xm(n,a);else if(a=Wf(e,n,a,c),a!==null){var h=Jt();Vr(a,e,c,h),km(a,n,c)}}function z0(e,n,a){var c=ls(e),h={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(_m(e))xm(n,h);else{var p=e.alternate;if(e.lanes===0&&(p===null||p.lanes===0)&&(p=n.lastRenderedReducer,p!==null))try{var _=n.lastRenderedState,E=p(_,a);if(h.hasEagerState=!0,h.eagerState=E,Ir(E,_)){var O=n.interleaved;O===null?(h.next=h,Nu(n)):(h.next=O.next,O.next=h),n.interleaved=h;return}}catch{}finally{}a=Wf(e,n,h,c),a!==null&&(h=Jt(),Vr(a,e,c,h),km(a,n,c))}}function _m(e){var n=e.alternate;return e===gt||n!==null&&n===gt}function xm(e,n){Ha=No=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function km(e,n,a){if((a&4194240)!==0){var c=n.lanes;c&=e.pendingLanes,a|=c,n.lanes=a,Ic(e,a)}}var Co={readContext:Pr,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useInsertionEffect:qt,useLayoutEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useMutableSource:qt,useSyncExternalStore:qt,useId:qt,unstable_isNewReconciler:!1},D0={readContext:Pr,useCallback:function(e,n){return sn().memoizedState=[e,n===void 0?null:n],e},useContext:Pr,useEffect:hm,useImperativeHandle:function(e,n,a){return a=a!=null?a.concat([e]):null,So(4194308,4,pm.bind(null,n,e),a)},useLayoutEffect:function(e,n){return So(4194308,4,e,n)},useInsertionEffect:function(e,n){return So(4,2,e,n)},useMemo:function(e,n){var a=sn();return n=n===void 0?null:n,e=e(),a.memoizedState=[e,n],e},useReducer:function(e,n,a){var c=sn();return n=a!==void 0?a(n):n,c.memoizedState=c.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},c.queue=e,e=e.dispatch=A0.bind(null,gt,e),[c.memoizedState,e]},useRef:function(e){var n=sn();return e={current:e},n.memoizedState=e},useState:um,useDebugValue:Iu,useDeferredValue:function(e){return sn().memoizedState=e},useTransition:function(){var e=um(!1),n=e[0];return e=L0.bind(null,e[1]),sn().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,a){var c=gt,h=sn();if(ft){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),Dt===null)throw Error(s(349));(Vs&30)!==0||im(c,n,a)}h.memoizedState=a;var p={value:a,getSnapshot:n};return h.queue=p,hm(lm.bind(null,c,p,e),[e]),c.flags|=2048,Ga(9,am.bind(null,c,p,a,n),void 0,null),a},useId:function(){var e=sn(),n=Dt.identifierPrefix;if(ft){var a=kn,c=xn;a=(c&~(1<<32-At(c)-1)).toString(32)+a,n=":"+n+"R"+a,a=Ka++,0<a&&(n+="H"+a.toString(32)),n+=":"}else a=O0++,n=":"+n+"r"+a.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},$0={readContext:Pr,useCallback:ym,useContext:Pr,useEffect:Mu,useImperativeHandle:gm,useInsertionEffect:fm,useLayoutEffect:mm,useMemo:vm,useReducer:Du,useRef:dm,useState:function(){return Du(Qa)},useDebugValue:Iu,useDeferredValue:function(e){var n=jr();return wm(n,Tt.memoizedState,e)},useTransition:function(){var e=Du(Qa)[0],n=jr().memoizedState;return[e,n]},useMutableSource:nm,useSyncExternalStore:sm,useId:bm,unstable_isNewReconciler:!1},M0={readContext:Pr,useCallback:ym,useContext:Pr,useEffect:Mu,useImperativeHandle:gm,useInsertionEffect:fm,useLayoutEffect:mm,useMemo:vm,useReducer:$u,useRef:dm,useState:function(){return $u(Qa)},useDebugValue:Iu,useDeferredValue:function(e){var n=jr();return Tt===null?n.memoizedState=e:wm(n,Tt.memoizedState,e)},useTransition:function(){var e=$u(Qa)[0],n=jr().memoizedState;return[e,n]},useMutableSource:nm,useSyncExternalStore:sm,useId:bm,unstable_isNewReconciler:!1};function Di(e,n){try{var a="",c=n;do a+=Ye(c),c=c.return;while(c);var h=a}catch(p){h=`
Error generating stack: `+p.message+`
`+p.stack}return{value:e,source:n,stack:h,digest:null}}function Fu(e,n,a){return{value:e,source:null,stack:a??null,digest:n??null}}function Uu(e,n){try{console.error(n.value)}catch(a){setTimeout(function(){throw a})}}var I0=typeof WeakMap=="function"?WeakMap:Map;function Nm(e,n,a){a=Sn(-1,a),a.tag=3,a.payload={element:null};var c=n.value;return a.callback=function(){Ao||(Ao=!0,rd=c),Uu(e,n)},a}function Sm(e,n,a){a=Sn(-1,a),a.tag=3;var c=e.type.getDerivedStateFromError;if(typeof c=="function"){var h=n.value;a.payload=function(){return c(h)},a.callback=function(){Uu(e,n)}}var p=e.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(a.callback=function(){Uu(e,n),typeof c!="function"&&(is===null?is=new Set([this]):is.add(this));var _=n.stack;this.componentDidCatch(n.value,{componentStack:_!==null?_:""})}),a}function Em(e,n,a){var c=e.pingCache;if(c===null){c=e.pingCache=new I0;var h=new Set;c.set(n,h)}else h=c.get(n),h===void 0&&(h=new Set,c.set(n,h));h.has(a)||(h.add(a),e=X0.bind(null,e,n,a),n.then(e,e))}function Cm(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function Pm(e,n,a,c,h){return(e.mode&1)===0?(e===n?e.flags|=65536:(e.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(n=Sn(-1,1),n.tag=2,ns(a,n,1))),a.lanes|=1),e):(e.flags|=65536,e.lanes=h,e)}var F0=H.ReactCurrentOwner,or=!1;function Gt(e,n,a,c){n.child=e===null?tm(n,null,a,c):Ai(n,e.child,a,c)}function jm(e,n,a,c,h){a=a.render;var p=n.ref;return Li(n,h),c=Au(e,n,a,c,p,h),a=zu(),e!==null&&!or?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~h,En(e,n,h)):(ft&&a&&pu(n),n.flags|=1,Gt(e,n,c,h),n.child)}function Tm(e,n,a,c,h){if(e===null){var p=a.type;return typeof p=="function"&&!cd(p)&&p.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(n.tag=15,n.type=p,Rm(e,n,p,c,h)):(e=Fo(a.type,null,c,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(p=e.child,(e.lanes&h)===0){var _=p.memoizedProps;if(a=a.compare,a=a!==null?a:za,a(_,c)&&e.ref===n.ref)return En(e,n,h)}return n.flags|=1,e=cs(p,c),e.ref=n.ref,e.return=n,n.child=e}function Rm(e,n,a,c,h){if(e!==null){var p=e.memoizedProps;if(za(p,c)&&e.ref===n.ref)if(or=!1,n.pendingProps=c=p,(e.lanes&h)!==0)(e.flags&131072)!==0&&(or=!0);else return n.lanes=e.lanes,En(e,n,h)}return Bu(e,n,a,c,h)}function Om(e,n,a){var c=n.pendingProps,h=c.children,p=e!==null?e.memoizedState:null;if(c.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},ot(Mi,br),br|=a;else{if((a&1073741824)===0)return e=p!==null?p.baseLanes|a:a,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,ot(Mi,br),br|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=p!==null?p.baseLanes:a,ot(Mi,br),br|=c}else p!==null?(c=p.baseLanes|a,n.memoizedState=null):c=a,ot(Mi,br),br|=c;return Gt(e,n,h,a),n.child}function Lm(e,n){var a=n.ref;(e===null&&a!==null||e!==null&&e.ref!==a)&&(n.flags|=512,n.flags|=2097152)}function Bu(e,n,a,c,h){var p=lr(a)?Is:Bt.current;return p=Pi(n,p),Li(n,h),a=Au(e,n,a,c,p,h),c=zu(),e!==null&&!or?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~h,En(e,n,h)):(ft&&c&&pu(n),n.flags|=1,Gt(e,n,a,h),n.child)}function Am(e,n,a,c,h){if(lr(a)){var p=!0;uo(n)}else p=!1;if(Li(n,h),n.stateNode===null)jo(e,n),Yf(n,a,c),Cu(n,a,c,h),c=!0;else if(e===null){var _=n.stateNode,E=n.memoizedProps;_.props=E;var O=_.context,U=a.contextType;typeof U=="object"&&U!==null?U=Pr(U):(U=lr(a)?Is:Bt.current,U=Pi(n,U));var G=a.getDerivedStateFromProps,Y=typeof G=="function"||typeof _.getSnapshotBeforeUpdate=="function";Y||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(E!==c||O!==U)&&Zf(n,_,c,U),rs=!1;var Q=n.memoizedState;_.state=Q,wo(n,c,_,h),O=n.memoizedState,E!==c||Q!==O||ar.current||rs?(typeof G=="function"&&(Eu(n,a,G,c),O=n.memoizedState),(E=rs||Jf(n,a,E,c,Q,O,U))?(Y||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(n.flags|=4194308)):(typeof _.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=c,n.memoizedState=O),_.props=c,_.state=O,_.context=U,c=E):(typeof _.componentDidMount=="function"&&(n.flags|=4194308),c=!1)}else{_=n.stateNode,Hf(e,n),E=n.memoizedProps,U=n.type===n.elementType?E:Ur(n.type,E),_.props=U,Y=n.pendingProps,Q=_.context,O=a.contextType,typeof O=="object"&&O!==null?O=Pr(O):(O=lr(a)?Is:Bt.current,O=Pi(n,O));var oe=a.getDerivedStateFromProps;(G=typeof oe=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(E!==Y||Q!==O)&&Zf(n,_,c,O),rs=!1,Q=n.memoizedState,_.state=Q,wo(n,c,_,h);var me=n.memoizedState;E!==Y||Q!==me||ar.current||rs?(typeof oe=="function"&&(Eu(n,a,oe,c),me=n.memoizedState),(U=rs||Jf(n,a,U,c,Q,me,O)||!1)?(G||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(c,me,O),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(c,me,O)),typeof _.componentDidUpdate=="function"&&(n.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof _.componentDidUpdate!="function"||E===e.memoizedProps&&Q===e.memoizedState||(n.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&Q===e.memoizedState||(n.flags|=1024),n.memoizedProps=c,n.memoizedState=me),_.props=c,_.state=me,_.context=O,c=U):(typeof _.componentDidUpdate!="function"||E===e.memoizedProps&&Q===e.memoizedState||(n.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&Q===e.memoizedState||(n.flags|=1024),c=!1)}return qu(e,n,a,c,p,h)}function qu(e,n,a,c,h,p){Lm(e,n);var _=(n.flags&128)!==0;if(!c&&!_)return h&&Mf(n,a,!1),En(e,n,p);c=n.stateNode,F0.current=n;var E=_&&typeof a.getDerivedStateFromError!="function"?null:c.render();return n.flags|=1,e!==null&&_?(n.child=Ai(n,e.child,null,p),n.child=Ai(n,null,E,p)):Gt(e,n,E,p),n.memoizedState=c.state,h&&Mf(n,a,!0),n.child}function zm(e){var n=e.stateNode;n.pendingContext?Df(e,n.pendingContext,n.pendingContext!==n.context):n.context&&Df(e,n.context,!1),Pu(e,n.containerInfo)}function Dm(e,n,a,c,h){return Ri(),wu(h),n.flags|=256,Gt(e,n,a,c),n.child}var Vu={dehydrated:null,treeContext:null,retryLane:0};function Wu(e){return{baseLanes:e,cachePool:null,transitions:null}}function $m(e,n,a){var c=n.pendingProps,h=pt.current,p=!1,_=(n.flags&128)!==0,E;if((E=_)||(E=e!==null&&e.memoizedState===null?!1:(h&2)!==0),E?(p=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(h|=1),ot(pt,h&1),e===null)return vu(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((n.mode&1)===0?n.lanes=1:e.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(_=c.children,e=c.fallback,p?(c=n.mode,p=n.child,_={mode:"hidden",children:_},(c&1)===0&&p!==null?(p.childLanes=0,p.pendingProps=_):p=Uo(_,c,0,null),e=Gs(e,c,a,null),p.return=n,e.return=n,p.sibling=e,n.child=p,n.child.memoizedState=Wu(a),n.memoizedState=Vu,e):Hu(n,_));if(h=e.memoizedState,h!==null&&(E=h.dehydrated,E!==null))return U0(e,n,_,c,E,h,a);if(p){p=c.fallback,_=n.mode,h=e.child,E=h.sibling;var O={mode:"hidden",children:c.children};return(_&1)===0&&n.child!==h?(c=n.child,c.childLanes=0,c.pendingProps=O,n.deletions=null):(c=cs(h,O),c.subtreeFlags=h.subtreeFlags&14680064),E!==null?p=cs(E,p):(p=Gs(p,_,a,null),p.flags|=2),p.return=n,c.return=n,c.sibling=p,n.child=c,c=p,p=n.child,_=e.child.memoizedState,_=_===null?Wu(a):{baseLanes:_.baseLanes|a,cachePool:null,transitions:_.transitions},p.memoizedState=_,p.childLanes=e.childLanes&~a,n.memoizedState=Vu,c}return p=e.child,e=p.sibling,c=cs(p,{mode:"visible",children:c.children}),(n.mode&1)===0&&(c.lanes=a),c.return=n,c.sibling=null,e!==null&&(a=n.deletions,a===null?(n.deletions=[e],n.flags|=16):a.push(e)),n.child=c,n.memoizedState=null,c}function Hu(e,n){return n=Uo({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function Po(e,n,a,c){return c!==null&&wu(c),Ai(n,e.child,null,a),e=Hu(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function U0(e,n,a,c,h,p,_){if(a)return n.flags&256?(n.flags&=-257,c=Fu(Error(s(422))),Po(e,n,_,c)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(p=c.fallback,h=n.mode,c=Uo({mode:"visible",children:c.children},h,0,null),p=Gs(p,h,_,null),p.flags|=2,c.return=n,p.return=n,c.sibling=p,n.child=c,(n.mode&1)!==0&&Ai(n,e.child,null,_),n.child.memoizedState=Wu(_),n.memoizedState=Vu,p);if((n.mode&1)===0)return Po(e,n,_,null);if(h.data==="$!"){if(c=h.nextSibling&&h.nextSibling.dataset,c)var E=c.dgst;return c=E,p=Error(s(419)),c=Fu(p,c,void 0),Po(e,n,_,c)}if(E=(_&e.childLanes)!==0,or||E){if(c=Dt,c!==null){switch(_&-_){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=(h&(c.suspendedLanes|_))!==0?0:h,h!==0&&h!==p.retryLane&&(p.retryLane=h,Nn(e,h),Vr(c,e,h,-1))}return od(),c=Fu(Error(s(421))),Po(e,n,_,c)}return h.data==="$?"?(n.flags|=128,n.child=e.child,n=ew.bind(null,e),h._reactRetry=n,null):(e=p.treeContext,wr=Zn(h.nextSibling),vr=n,ft=!0,Fr=null,e!==null&&(Er[Cr++]=xn,Er[Cr++]=kn,Er[Cr++]=Fs,xn=e.id,kn=e.overflow,Fs=n),n=Hu(n,c.children),n.flags|=4096,n)}function Mm(e,n,a){e.lanes|=n;var c=e.alternate;c!==null&&(c.lanes|=n),ku(e.return,n,a)}function Ku(e,n,a,c,h){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:h}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=c,p.tail=a,p.tailMode=h)}function Im(e,n,a){var c=n.pendingProps,h=c.revealOrder,p=c.tail;if(Gt(e,n,c.children,a),c=pt.current,(c&2)!==0)c=c&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Mm(e,a,n);else if(e.tag===19)Mm(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}c&=1}if(ot(pt,c),(n.mode&1)===0)n.memoizedState=null;else switch(h){case"forwards":for(a=n.child,h=null;a!==null;)e=a.alternate,e!==null&&xo(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Ku(n,!1,h,a,p);break;case"backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&xo(e)===null){n.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Ku(n,!0,a,null,p);break;case"together":Ku(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function jo(e,n){(n.mode&1)===0&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function En(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),Ws|=n.lanes,(a&n.childLanes)===0)return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,a=cs(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=cs(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function B0(e,n,a){switch(n.tag){case 3:zm(n),Ri();break;case 5:rm(n);break;case 1:lr(n.type)&&uo(n);break;case 4:Pu(n,n.stateNode.containerInfo);break;case 10:var c=n.type._context,h=n.memoizedProps.value;ot(go,c._currentValue),c._currentValue=h;break;case 13:if(c=n.memoizedState,c!==null)return c.dehydrated!==null?(ot(pt,pt.current&1),n.flags|=128,null):(a&n.child.childLanes)!==0?$m(e,n,a):(ot(pt,pt.current&1),e=En(e,n,a),e!==null?e.sibling:null);ot(pt,pt.current&1);break;case 19:if(c=(a&n.childLanes)!==0,(e.flags&128)!==0){if(c)return Im(e,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ot(pt,pt.current),c)break;return null;case 22:case 23:return n.lanes=0,Om(e,n,a)}return En(e,n,a)}var Fm,Qu,Um,Bm;Fm=function(e,n){for(var a=n.child;a!==null;){if(a.tag===5||a.tag===6)e.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Qu=function(){},Um=function(e,n,a,c){var h=e.memoizedProps;if(h!==c){e=n.stateNode,qs(nn.current);var p=null;switch(a){case"input":h=rr(e,h),c=rr(e,c),p=[];break;case"select":h=C({},h,{value:void 0}),c=C({},c,{value:void 0}),p=[];break;case"textarea":h=W(e,h),c=W(e,c),p=[];break;default:typeof h.onClick!="function"&&typeof c.onClick=="function"&&(e.onclick=lo)}gn(a,c);var _;a=null;for(U in h)if(!c.hasOwnProperty(U)&&h.hasOwnProperty(U)&&h[U]!=null)if(U==="style"){var E=h[U];for(_ in E)E.hasOwnProperty(_)&&(a||(a={}),a[_]="")}else U!=="dangerouslySetInnerHTML"&&U!=="children"&&U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&U!=="autoFocus"&&(l.hasOwnProperty(U)?p||(p=[]):(p=p||[]).push(U,null));for(U in c){var O=c[U];if(E=h!=null?h[U]:void 0,c.hasOwnProperty(U)&&O!==E&&(O!=null||E!=null))if(U==="style")if(E){for(_ in E)!E.hasOwnProperty(_)||O&&O.hasOwnProperty(_)||(a||(a={}),a[_]="");for(_ in O)O.hasOwnProperty(_)&&E[_]!==O[_]&&(a||(a={}),a[_]=O[_])}else a||(p||(p=[]),p.push(U,a)),a=O;else U==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,E=E?E.__html:void 0,O!=null&&E!==O&&(p=p||[]).push(U,O)):U==="children"?typeof O!="string"&&typeof O!="number"||(p=p||[]).push(U,""+O):U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&(l.hasOwnProperty(U)?(O!=null&&U==="onScroll"&&ut("scroll",e),p||E===O||(p=[])):(p=p||[]).push(U,O))}a&&(p=p||[]).push("style",a);var U=p;(n.updateQueue=U)&&(n.flags|=4)}},Bm=function(e,n,a,c){a!==c&&(n.flags|=4)};function Ja(e,n){if(!ft)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function Vt(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,c=0;if(n)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,c|=h.subtreeFlags&14680064,c|=h.flags&14680064,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,c|=h.subtreeFlags,c|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=c,e.childLanes=a,n}function q0(e,n,a){var c=n.pendingProps;switch(gu(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(n),null;case 1:return lr(n.type)&&co(),Vt(n),null;case 3:return c=n.stateNode,zi(),dt(ar),dt(Bt),Ru(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(e===null||e.child===null)&&(po(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Fr!==null&&(id(Fr),Fr=null))),Qu(e,n),Vt(n),null;case 5:ju(n);var h=qs(Wa.current);if(a=n.type,e!==null&&n.stateNode!=null)Um(e,n,a,c,h),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!c){if(n.stateNode===null)throw Error(s(166));return Vt(n),null}if(e=qs(nn.current),po(n)){c=n.stateNode,a=n.type;var p=n.memoizedProps;switch(c[rn]=n,c[Fa]=p,e=(n.mode&1)!==0,a){case"dialog":ut("cancel",c),ut("close",c);break;case"iframe":case"object":case"embed":ut("load",c);break;case"video":case"audio":for(h=0;h<$a.length;h++)ut($a[h],c);break;case"source":ut("error",c);break;case"img":case"image":case"link":ut("error",c),ut("load",c);break;case"details":ut("toggle",c);break;case"input":Os(c,p),ut("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!p.multiple},ut("invalid",c);break;case"textarea":ie(c,p),ut("invalid",c)}gn(a,p),h=null;for(var _ in p)if(p.hasOwnProperty(_)){var E=p[_];_==="children"?typeof E=="string"?c.textContent!==E&&(p.suppressHydrationWarning!==!0&&ao(c.textContent,E,e),h=["children",E]):typeof E=="number"&&c.textContent!==""+E&&(p.suppressHydrationWarning!==!0&&ao(c.textContent,E,e),h=["children",""+E]):l.hasOwnProperty(_)&&E!=null&&_==="onScroll"&&ut("scroll",c)}switch(a){case"input":gr(c),va(c,p,!0);break;case"textarea":gr(c),X(c);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(c.onclick=lo)}c=h,n.updateQueue=c,c!==null&&(n.flags|=4)}else{_=h.nodeType===9?h:h.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=he(a)),e==="http://www.w3.org/1999/xhtml"?a==="script"?(e=_.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof c.is=="string"?e=_.createElement(a,{is:c.is}):(e=_.createElement(a),a==="select"&&(_=e,c.multiple?_.multiple=!0:c.size&&(_.size=c.size))):e=_.createElementNS(e,a),e[rn]=n,e[Fa]=c,Fm(e,n,!1,!1),n.stateNode=e;e:{switch(_=en(a,c),a){case"dialog":ut("cancel",e),ut("close",e),h=c;break;case"iframe":case"object":case"embed":ut("load",e),h=c;break;case"video":case"audio":for(h=0;h<$a.length;h++)ut($a[h],e);h=c;break;case"source":ut("error",e),h=c;break;case"img":case"image":case"link":ut("error",e),ut("load",e),h=c;break;case"details":ut("toggle",e),h=c;break;case"input":Os(e,c),h=rr(e,c),ut("invalid",e);break;case"option":h=c;break;case"select":e._wrapperState={wasMultiple:!!c.multiple},h=C({},c,{value:void 0}),ut("invalid",e);break;case"textarea":ie(e,c),h=W(e,c),ut("invalid",e);break;default:h=c}gn(a,h),E=h;for(p in E)if(E.hasOwnProperty(p)){var O=E[p];p==="style"?pn(e,O):p==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,O!=null&&Pt(e,O)):p==="children"?typeof O=="string"?(a!=="textarea"||O!=="")&&Sr(e,O):typeof O=="number"&&Sr(e,""+O):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(l.hasOwnProperty(p)?O!=null&&p==="onScroll"&&ut("scroll",e):O!=null&&D(e,p,O,_))}switch(a){case"input":gr(e),va(e,c,!1);break;case"textarea":gr(e),X(e);break;case"option":c.value!=null&&e.setAttribute("value",""+Qe(c.value));break;case"select":e.multiple=!!c.multiple,p=c.value,p!=null?I(e,!!c.multiple,p,!1):c.defaultValue!=null&&I(e,!!c.multiple,c.defaultValue,!0);break;default:typeof h.onClick=="function"&&(e.onclick=lo)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Vt(n),null;case 6:if(e&&n.stateNode!=null)Bm(e,n,e.memoizedProps,c);else{if(typeof c!="string"&&n.stateNode===null)throw Error(s(166));if(a=qs(Wa.current),qs(nn.current),po(n)){if(c=n.stateNode,a=n.memoizedProps,c[rn]=n,(p=c.nodeValue!==a)&&(e=vr,e!==null))switch(e.tag){case 3:ao(c.nodeValue,a,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ao(c.nodeValue,a,(e.mode&1)!==0)}p&&(n.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[rn]=n,n.stateNode=c}return Vt(n),null;case 13:if(dt(pt),c=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ft&&wr!==null&&(n.mode&1)!==0&&(n.flags&128)===0)Vf(),Ri(),n.flags|=98560,p=!1;else if(p=po(n),c!==null&&c.dehydrated!==null){if(e===null){if(!p)throw Error(s(318));if(p=n.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(s(317));p[rn]=n}else Ri(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Vt(n),p=!1}else Fr!==null&&(id(Fr),Fr=null),p=!0;if(!p)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=a,n):(c=c!==null,c!==(e!==null&&e.memoizedState!==null)&&c&&(n.child.flags|=8192,(n.mode&1)!==0&&(e===null||(pt.current&1)!==0?Rt===0&&(Rt=3):od())),n.updateQueue!==null&&(n.flags|=4),Vt(n),null);case 4:return zi(),Qu(e,n),e===null&&Ma(n.stateNode.containerInfo),Vt(n),null;case 10:return xu(n.type._context),Vt(n),null;case 17:return lr(n.type)&&co(),Vt(n),null;case 19:if(dt(pt),p=n.memoizedState,p===null)return Vt(n),null;if(c=(n.flags&128)!==0,_=p.rendering,_===null)if(c)Ja(p,!1);else{if(Rt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(_=xo(e),_!==null){for(n.flags|=128,Ja(p,!1),c=_.updateQueue,c!==null&&(n.updateQueue=c,n.flags|=4),n.subtreeFlags=0,c=a,a=n.child;a!==null;)p=a,e=c,p.flags&=14680066,_=p.alternate,_===null?(p.childLanes=0,p.lanes=e,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=_.childLanes,p.lanes=_.lanes,p.child=_.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=_.memoizedProps,p.memoizedState=_.memoizedState,p.updateQueue=_.updateQueue,p.type=_.type,e=_.dependencies,p.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),a=a.sibling;return ot(pt,pt.current&1|2),n.child}e=e.sibling}p.tail!==null&&lt()>Ii&&(n.flags|=128,c=!0,Ja(p,!1),n.lanes=4194304)}else{if(!c)if(e=xo(_),e!==null){if(n.flags|=128,c=!0,a=e.updateQueue,a!==null&&(n.updateQueue=a,n.flags|=4),Ja(p,!0),p.tail===null&&p.tailMode==="hidden"&&!_.alternate&&!ft)return Vt(n),null}else 2*lt()-p.renderingStartTime>Ii&&a!==1073741824&&(n.flags|=128,c=!0,Ja(p,!1),n.lanes=4194304);p.isBackwards?(_.sibling=n.child,n.child=_):(a=p.last,a!==null?a.sibling=_:n.child=_,p.last=_)}return p.tail!==null?(n=p.tail,p.rendering=n,p.tail=n.sibling,p.renderingStartTime=lt(),n.sibling=null,a=pt.current,ot(pt,c?a&1|2:a&1),n):(Vt(n),null);case 22:case 23:return ld(),c=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==c&&(n.flags|=8192),c&&(n.mode&1)!==0?(br&1073741824)!==0&&(Vt(n),n.subtreeFlags&6&&(n.flags|=8192)):Vt(n),null;case 24:return null;case 25:return null}throw Error(s(156,n.tag))}function V0(e,n){switch(gu(n),n.tag){case 1:return lr(n.type)&&co(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return zi(),dt(ar),dt(Bt),Ru(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 5:return ju(n),null;case 13:if(dt(pt),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Ri()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return dt(pt),null;case 4:return zi(),null;case 10:return xu(n.type._context),null;case 22:case 23:return ld(),null;case 24:return null;default:return null}}var To=!1,Wt=!1,W0=typeof WeakSet=="function"?WeakSet:Set,fe=null;function $i(e,n){var a=e.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){wt(e,n,c)}else a.current=null}function Gu(e,n,a){try{a()}catch(c){wt(e,n,c)}}var qm=!1;function H0(e,n){if(lu=Gl,e=bf(),Xc(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var h=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break e}var _=0,E=-1,O=-1,U=0,G=0,Y=e,Q=null;t:for(;;){for(var oe;Y!==a||h!==0&&Y.nodeType!==3||(E=_+h),Y!==p||c!==0&&Y.nodeType!==3||(O=_+c),Y.nodeType===3&&(_+=Y.nodeValue.length),(oe=Y.firstChild)!==null;)Q=Y,Y=oe;for(;;){if(Y===e)break t;if(Q===a&&++U===h&&(E=_),Q===p&&++G===c&&(O=_),(oe=Y.nextSibling)!==null)break;Y=Q,Q=Y.parentNode}Y=oe}a=E===-1||O===-1?null:{start:E,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for(ou={focusedElem:e,selectionRange:a},Gl=!1,fe=n;fe!==null;)if(n=fe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,fe=e;else for(;fe!==null;){n=fe;try{var me=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(me!==null){var ge=me.memoizedProps,xt=me.memoizedState,M=n.stateNode,z=M.getSnapshotBeforeUpdate(n.elementType===n.type?ge:Ur(n.type,ge),xt);M.__reactInternalSnapshotBeforeUpdate=z}break;case 3:var F=n.stateNode.containerInfo;F.nodeType===1?F.textContent="":F.nodeType===9&&F.documentElement&&F.removeChild(F.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(ee){wt(n,n.return,ee)}if(e=n.sibling,e!==null){e.return=n.return,fe=e;break}fe=n.return}return me=qm,qm=!1,me}function Ya(e,n,a){var c=n.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var h=c=c.next;do{if((h.tag&e)===e){var p=h.destroy;h.destroy=void 0,p!==void 0&&Gu(n,a,p)}h=h.next}while(h!==c)}}function Ro(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var c=a.create;a.destroy=c()}a=a.next}while(a!==n)}}function Ju(e){var n=e.ref;if(n!==null){var a=e.stateNode;switch(e.tag){case 5:e=a;break;default:e=a}typeof n=="function"?n(e):n.current=e}}function Vm(e){var n=e.alternate;n!==null&&(e.alternate=null,Vm(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[rn],delete n[Fa],delete n[hu],delete n[P0],delete n[j0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Wm(e){return e.tag===5||e.tag===3||e.tag===4}function Hm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Wm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Yu(e,n,a){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?a.nodeType===8?a.parentNode.insertBefore(e,n):a.insertBefore(e,n):(a.nodeType===8?(n=a.parentNode,n.insertBefore(e,a)):(n=a,n.appendChild(e)),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=lo));else if(c!==4&&(e=e.child,e!==null))for(Yu(e,n,a),e=e.sibling;e!==null;)Yu(e,n,a),e=e.sibling}function Zu(e,n,a){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(c!==4&&(e=e.child,e!==null))for(Zu(e,n,a),e=e.sibling;e!==null;)Zu(e,n,a),e=e.sibling}var Ft=null,Br=!1;function ss(e,n,a){for(a=a.child;a!==null;)Km(e,n,a),a=a.sibling}function Km(e,n,a){if(ir&&typeof ir.onCommitFiberUnmount=="function")try{ir.onCommitFiberUnmount(wn,a)}catch{}switch(a.tag){case 5:Wt||$i(a,n);case 6:var c=Ft,h=Br;Ft=null,ss(e,n,a),Ft=c,Br=h,Ft!==null&&(Br?(e=Ft,a=a.stateNode,e.nodeType===8?e.parentNode.removeChild(a):e.removeChild(a)):Ft.removeChild(a.stateNode));break;case 18:Ft!==null&&(Br?(e=Ft,a=a.stateNode,e.nodeType===8?du(e.parentNode,a):e.nodeType===1&&du(e,a),ja(e)):du(Ft,a.stateNode));break;case 4:c=Ft,h=Br,Ft=a.stateNode.containerInfo,Br=!0,ss(e,n,a),Ft=c,Br=h;break;case 0:case 11:case 14:case 15:if(!Wt&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){h=c=c.next;do{var p=h,_=p.destroy;p=p.tag,_!==void 0&&((p&2)!==0||(p&4)!==0)&&Gu(a,n,_),h=h.next}while(h!==c)}ss(e,n,a);break;case 1:if(!Wt&&($i(a,n),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(E){wt(a,n,E)}ss(e,n,a);break;case 21:ss(e,n,a);break;case 22:a.mode&1?(Wt=(c=Wt)||a.memoizedState!==null,ss(e,n,a),Wt=c):ss(e,n,a);break;default:ss(e,n,a)}}function Qm(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var a=e.stateNode;a===null&&(a=e.stateNode=new W0),n.forEach(function(c){var h=tw.bind(null,e,c);a.has(c)||(a.add(c),c.then(h,h))})}}function qr(e,n){var a=n.deletions;if(a!==null)for(var c=0;c<a.length;c++){var h=a[c];try{var p=e,_=n,E=_;e:for(;E!==null;){switch(E.tag){case 5:Ft=E.stateNode,Br=!1;break e;case 3:Ft=E.stateNode.containerInfo,Br=!0;break e;case 4:Ft=E.stateNode.containerInfo,Br=!0;break e}E=E.return}if(Ft===null)throw Error(s(160));Km(p,_,h),Ft=null,Br=!1;var O=h.alternate;O!==null&&(O.return=null),h.return=null}catch(U){wt(h,n,U)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)Gm(n,e),n=n.sibling}function Gm(e,n){var a=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(qr(n,e),an(e),c&4){try{Ya(3,e,e.return),Ro(3,e)}catch(ge){wt(e,e.return,ge)}try{Ya(5,e,e.return)}catch(ge){wt(e,e.return,ge)}}break;case 1:qr(n,e),an(e),c&512&&a!==null&&$i(a,a.return);break;case 5:if(qr(n,e),an(e),c&512&&a!==null&&$i(a,a.return),e.flags&32){var h=e.stateNode;try{Sr(h,"")}catch(ge){wt(e,e.return,ge)}}if(c&4&&(h=e.stateNode,h!=null)){var p=e.memoizedProps,_=a!==null?a.memoizedProps:p,E=e.type,O=e.updateQueue;if(e.updateQueue=null,O!==null)try{E==="input"&&p.type==="radio"&&p.name!=null&&yi(h,p),en(E,_);var U=en(E,p);for(_=0;_<O.length;_+=2){var G=O[_],Y=O[_+1];G==="style"?pn(h,Y):G==="dangerouslySetInnerHTML"?Pt(h,Y):G==="children"?Sr(h,Y):D(h,G,Y,U)}switch(E){case"input":Un(h,p);break;case"textarea":re(h,p);break;case"select":var Q=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!p.multiple;var oe=p.value;oe!=null?I(h,!!p.multiple,oe,!1):Q!==!!p.multiple&&(p.defaultValue!=null?I(h,!!p.multiple,p.defaultValue,!0):I(h,!!p.multiple,p.multiple?[]:"",!1))}h[Fa]=p}catch(ge){wt(e,e.return,ge)}}break;case 6:if(qr(n,e),an(e),c&4){if(e.stateNode===null)throw Error(s(162));h=e.stateNode,p=e.memoizedProps;try{h.nodeValue=p}catch(ge){wt(e,e.return,ge)}}break;case 3:if(qr(n,e),an(e),c&4&&a!==null&&a.memoizedState.isDehydrated)try{ja(n.containerInfo)}catch(ge){wt(e,e.return,ge)}break;case 4:qr(n,e),an(e);break;case 13:qr(n,e),an(e),h=e.child,h.flags&8192&&(p=h.memoizedState!==null,h.stateNode.isHidden=p,!p||h.alternate!==null&&h.alternate.memoizedState!==null||(td=lt())),c&4&&Qm(e);break;case 22:if(G=a!==null&&a.memoizedState!==null,e.mode&1?(Wt=(U=Wt)||G,qr(n,e),Wt=U):qr(n,e),an(e),c&8192){if(U=e.memoizedState!==null,(e.stateNode.isHidden=U)&&!G&&(e.mode&1)!==0)for(fe=e,G=e.child;G!==null;){for(Y=fe=G;fe!==null;){switch(Q=fe,oe=Q.child,Q.tag){case 0:case 11:case 14:case 15:Ya(4,Q,Q.return);break;case 1:$i(Q,Q.return);var me=Q.stateNode;if(typeof me.componentWillUnmount=="function"){c=Q,a=Q.return;try{n=c,me.props=n.memoizedProps,me.state=n.memoizedState,me.componentWillUnmount()}catch(ge){wt(c,a,ge)}}break;case 5:$i(Q,Q.return);break;case 22:if(Q.memoizedState!==null){Zm(Y);continue}}oe!==null?(oe.return=Q,fe=oe):Zm(Y)}G=G.sibling}e:for(G=null,Y=e;;){if(Y.tag===5){if(G===null){G=Y;try{h=Y.stateNode,U?(p=h.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(E=Y.stateNode,O=Y.memoizedProps.style,_=O!=null&&O.hasOwnProperty("display")?O.display:null,E.style.display=mn("display",_))}catch(ge){wt(e,e.return,ge)}}}else if(Y.tag===6){if(G===null)try{Y.stateNode.nodeValue=U?"":Y.memoizedProps}catch(ge){wt(e,e.return,ge)}}else if((Y.tag!==22&&Y.tag!==23||Y.memoizedState===null||Y===e)&&Y.child!==null){Y.child.return=Y,Y=Y.child;continue}if(Y===e)break e;for(;Y.sibling===null;){if(Y.return===null||Y.return===e)break e;G===Y&&(G=null),Y=Y.return}G===Y&&(G=null),Y.sibling.return=Y.return,Y=Y.sibling}}break;case 19:qr(n,e),an(e),c&4&&Qm(e);break;case 21:break;default:qr(n,e),an(e)}}function an(e){var n=e.flags;if(n&2){try{e:{for(var a=e.return;a!==null;){if(Wm(a)){var c=a;break e}a=a.return}throw Error(s(160))}switch(c.tag){case 5:var h=c.stateNode;c.flags&32&&(Sr(h,""),c.flags&=-33);var p=Hm(e);Zu(e,p,h);break;case 3:case 4:var _=c.stateNode.containerInfo,E=Hm(e);Yu(e,E,_);break;default:throw Error(s(161))}}catch(O){wt(e,e.return,O)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function K0(e,n,a){fe=e,Jm(e)}function Jm(e,n,a){for(var c=(e.mode&1)!==0;fe!==null;){var h=fe,p=h.child;if(h.tag===22&&c){var _=h.memoizedState!==null||To;if(!_){var E=h.alternate,O=E!==null&&E.memoizedState!==null||Wt;E=To;var U=Wt;if(To=_,(Wt=O)&&!U)for(fe=h;fe!==null;)_=fe,O=_.child,_.tag===22&&_.memoizedState!==null?Xm(h):O!==null?(O.return=_,fe=O):Xm(h);for(;p!==null;)fe=p,Jm(p),p=p.sibling;fe=h,To=E,Wt=U}Ym(e)}else(h.subtreeFlags&8772)!==0&&p!==null?(p.return=h,fe=p):Ym(e)}}function Ym(e){for(;fe!==null;){var n=fe;if((n.flags&8772)!==0){var a=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:Wt||Ro(5,n);break;case 1:var c=n.stateNode;if(n.flags&4&&!Wt)if(a===null)c.componentDidMount();else{var h=n.elementType===n.type?a.memoizedProps:Ur(n.type,a.memoizedProps);c.componentDidUpdate(h,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var p=n.updateQueue;p!==null&&Qf(n,p,c);break;case 3:var _=n.updateQueue;if(_!==null){if(a=null,n.child!==null)switch(n.child.tag){case 5:a=n.child.stateNode;break;case 1:a=n.child.stateNode}Qf(n,_,a)}break;case 5:var E=n.stateNode;if(a===null&&n.flags&4){a=E;var O=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":O.autoFocus&&a.focus();break;case"img":O.src&&(a.src=O.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var U=n.alternate;if(U!==null){var G=U.memoizedState;if(G!==null){var Y=G.dehydrated;Y!==null&&ja(Y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}Wt||n.flags&512&&Ju(n)}catch(Q){wt(n,n.return,Q)}}if(n===e){fe=null;break}if(a=n.sibling,a!==null){a.return=n.return,fe=a;break}fe=n.return}}function Zm(e){for(;fe!==null;){var n=fe;if(n===e){fe=null;break}var a=n.sibling;if(a!==null){a.return=n.return,fe=a;break}fe=n.return}}function Xm(e){for(;fe!==null;){var n=fe;try{switch(n.tag){case 0:case 11:case 15:var a=n.return;try{Ro(4,n)}catch(O){wt(n,a,O)}break;case 1:var c=n.stateNode;if(typeof c.componentDidMount=="function"){var h=n.return;try{c.componentDidMount()}catch(O){wt(n,h,O)}}var p=n.return;try{Ju(n)}catch(O){wt(n,p,O)}break;case 5:var _=n.return;try{Ju(n)}catch(O){wt(n,_,O)}}}catch(O){wt(n,n.return,O)}if(n===e){fe=null;break}var E=n.sibling;if(E!==null){E.return=n.return,fe=E;break}fe=n.return}}var Q0=Math.ceil,Oo=H.ReactCurrentDispatcher,Xu=H.ReactCurrentOwner,Tr=H.ReactCurrentBatchConfig,rt=0,Dt=null,Et=null,Ut=0,br=0,Mi=Xn(0),Rt=0,Za=null,Ws=0,Lo=0,ed=0,Xa=null,cr=null,td=0,Ii=1/0,Cn=null,Ao=!1,rd=null,is=null,zo=!1,as=null,Do=0,el=0,nd=null,$o=-1,Mo=0;function Jt(){return(rt&6)!==0?lt():$o!==-1?$o:$o=lt()}function ls(e){return(e.mode&1)===0?1:(rt&2)!==0&&Ut!==0?Ut&-Ut:R0.transition!==null?(Mo===0&&(Mo=Vh()),Mo):(e=it,e!==0||(e=window.event,e=e===void 0?16:Xh(e.type)),e)}function Vr(e,n,a,c){if(50<el)throw el=0,nd=null,Error(s(185));Na(e,a,c),((rt&2)===0||e!==Dt)&&(e===Dt&&((rt&2)===0&&(Lo|=a),Rt===4&&os(e,Ut)),ur(e,c),a===1&&rt===0&&(n.mode&1)===0&&(Ii=lt()+500,ho&&ts()))}function ur(e,n){var a=e.callbackNode;Rv(e,n);var c=Hl(e,e===Dt?Ut:0);if(c===0)a!==null&&Wn(a),e.callbackNode=null,e.callbackPriority=0;else if(n=c&-c,e.callbackPriority!==n){if(a!=null&&Wn(a),n===1)e.tag===0?T0(tp.bind(null,e)):If(tp.bind(null,e)),E0(function(){(rt&6)===0&&ts()}),a=null;else{switch(Wh(c)){case 1:a=$r;break;case 4:a=$s;break;case 16:a=tt;break;case 536870912:a=Mr;break;default:a=tt}a=cp(a,ep.bind(null,e))}e.callbackPriority=n,e.callbackNode=a}}function ep(e,n){if($o=-1,Mo=0,(rt&6)!==0)throw Error(s(327));var a=e.callbackNode;if(Fi()&&e.callbackNode!==a)return null;var c=Hl(e,e===Dt?Ut:0);if(c===0)return null;if((c&30)!==0||(c&e.expiredLanes)!==0||n)n=Io(e,c);else{n=c;var h=rt;rt|=2;var p=np();(Dt!==e||Ut!==n)&&(Cn=null,Ii=lt()+500,Ks(e,n));do try{Y0();break}catch(E){rp(e,E)}while(!0);_u(),Oo.current=p,rt=h,Et!==null?n=0:(Dt=null,Ut=0,n=Rt)}if(n!==0){if(n===2&&(h=$c(e),h!==0&&(c=h,n=sd(e,h))),n===1)throw a=Za,Ks(e,0),os(e,c),ur(e,lt()),a;if(n===6)os(e,c);else{if(h=e.current.alternate,(c&30)===0&&!G0(h)&&(n=Io(e,c),n===2&&(p=$c(e),p!==0&&(c=p,n=sd(e,p))),n===1))throw a=Za,Ks(e,0),os(e,c),ur(e,lt()),a;switch(e.finishedWork=h,e.finishedLanes=c,n){case 0:case 1:throw Error(s(345));case 2:Qs(e,cr,Cn);break;case 3:if(os(e,c),(c&130023424)===c&&(n=td+500-lt(),10<n)){if(Hl(e,0)!==0)break;if(h=e.suspendedLanes,(h&c)!==c){Jt(),e.pingedLanes|=e.suspendedLanes&h;break}e.timeoutHandle=uu(Qs.bind(null,e,cr,Cn),n);break}Qs(e,cr,Cn);break;case 4:if(os(e,c),(c&4194240)===c)break;for(n=e.eventTimes,h=-1;0<c;){var _=31-At(c);p=1<<_,_=n[_],_>h&&(h=_),c&=~p}if(c=h,c=lt()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*Q0(c/1960))-c,10<c){e.timeoutHandle=uu(Qs.bind(null,e,cr,Cn),c);break}Qs(e,cr,Cn);break;case 5:Qs(e,cr,Cn);break;default:throw Error(s(329))}}}return ur(e,lt()),e.callbackNode===a?ep.bind(null,e):null}function sd(e,n){var a=Xa;return e.current.memoizedState.isDehydrated&&(Ks(e,n).flags|=256),e=Io(e,n),e!==2&&(n=cr,cr=a,n!==null&&id(n)),e}function id(e){cr===null?cr=e:cr.push.apply(cr,e)}function G0(e){for(var n=e;;){if(n.flags&16384){var a=n.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var h=a[c],p=h.getSnapshot;h=h.value;try{if(!Ir(p(),h))return!1}catch{return!1}}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function os(e,n){for(n&=~ed,n&=~Lo,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var a=31-At(n),c=1<<a;e[a]=-1,n&=~c}}function tp(e){if((rt&6)!==0)throw Error(s(327));Fi();var n=Hl(e,0);if((n&1)===0)return ur(e,lt()),null;var a=Io(e,n);if(e.tag!==0&&a===2){var c=$c(e);c!==0&&(n=c,a=sd(e,c))}if(a===1)throw a=Za,Ks(e,0),os(e,n),ur(e,lt()),a;if(a===6)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,Qs(e,cr,Cn),ur(e,lt()),null}function ad(e,n){var a=rt;rt|=1;try{return e(n)}finally{rt=a,rt===0&&(Ii=lt()+500,ho&&ts())}}function Hs(e){as!==null&&as.tag===0&&(rt&6)===0&&Fi();var n=rt;rt|=1;var a=Tr.transition,c=it;try{if(Tr.transition=null,it=1,e)return e()}finally{it=c,Tr.transition=a,rt=n,(rt&6)===0&&ts()}}function ld(){br=Mi.current,dt(Mi)}function Ks(e,n){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;if(a!==-1&&(e.timeoutHandle=-1,S0(a)),Et!==null)for(a=Et.return;a!==null;){var c=a;switch(gu(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&co();break;case 3:zi(),dt(ar),dt(Bt),Ru();break;case 5:ju(c);break;case 4:zi();break;case 13:dt(pt);break;case 19:dt(pt);break;case 10:xu(c.type._context);break;case 22:case 23:ld()}a=a.return}if(Dt=e,Et=e=cs(e.current,null),Ut=br=n,Rt=0,Za=null,ed=Lo=Ws=0,cr=Xa=null,Bs!==null){for(n=0;n<Bs.length;n++)if(a=Bs[n],c=a.interleaved,c!==null){a.interleaved=null;var h=c.next,p=a.pending;if(p!==null){var _=p.next;p.next=h,c.next=_}a.pending=c}Bs=null}return e}function rp(e,n){do{var a=Et;try{if(_u(),ko.current=Co,No){for(var c=gt.memoizedState;c!==null;){var h=c.queue;h!==null&&(h.pending=null),c=c.next}No=!1}if(Vs=0,zt=Tt=gt=null,Ha=!1,Ka=0,Xu.current=null,a===null||a.return===null){Rt=1,Za=n,Et=null;break}e:{var p=e,_=a.return,E=a,O=n;if(n=Ut,E.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){var U=O,G=E,Y=G.tag;if((G.mode&1)===0&&(Y===0||Y===11||Y===15)){var Q=G.alternate;Q?(G.updateQueue=Q.updateQueue,G.memoizedState=Q.memoizedState,G.lanes=Q.lanes):(G.updateQueue=null,G.memoizedState=null)}var oe=Cm(_);if(oe!==null){oe.flags&=-257,Pm(oe,_,E,p,n),oe.mode&1&&Em(p,U,n),n=oe,O=U;var me=n.updateQueue;if(me===null){var ge=new Set;ge.add(O),n.updateQueue=ge}else me.add(O);break e}else{if((n&1)===0){Em(p,U,n),od();break e}O=Error(s(426))}}else if(ft&&E.mode&1){var xt=Cm(_);if(xt!==null){(xt.flags&65536)===0&&(xt.flags|=256),Pm(xt,_,E,p,n),wu(Di(O,E));break e}}p=O=Di(O,E),Rt!==4&&(Rt=2),Xa===null?Xa=[p]:Xa.push(p),p=_;do{switch(p.tag){case 3:p.flags|=65536,n&=-n,p.lanes|=n;var M=Nm(p,O,n);Kf(p,M);break e;case 1:E=O;var z=p.type,F=p.stateNode;if((p.flags&128)===0&&(typeof z.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(is===null||!is.has(F)))){p.flags|=65536,n&=-n,p.lanes|=n;var ee=Sm(p,E,n);Kf(p,ee);break e}}p=p.return}while(p!==null)}ip(a)}catch(we){n=we,Et===a&&a!==null&&(Et=a=a.return);continue}break}while(!0)}function np(){var e=Oo.current;return Oo.current=Co,e===null?Co:e}function od(){(Rt===0||Rt===3||Rt===2)&&(Rt=4),Dt===null||(Ws&268435455)===0&&(Lo&268435455)===0||os(Dt,Ut)}function Io(e,n){var a=rt;rt|=2;var c=np();(Dt!==e||Ut!==n)&&(Cn=null,Ks(e,n));do try{J0();break}catch(h){rp(e,h)}while(!0);if(_u(),rt=a,Oo.current=c,Et!==null)throw Error(s(261));return Dt=null,Ut=0,Rt}function J0(){for(;Et!==null;)sp(Et)}function Y0(){for(;Et!==null&&!nr();)sp(Et)}function sp(e){var n=op(e.alternate,e,br);e.memoizedProps=e.pendingProps,n===null?ip(e):Et=n,Xu.current=null}function ip(e){var n=e;do{var a=n.alternate;if(e=n.return,(n.flags&32768)===0){if(a=q0(a,n,br),a!==null){Et=a;return}}else{if(a=V0(a,n),a!==null){a.flags&=32767,Et=a;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Rt=6,Et=null;return}}if(n=n.sibling,n!==null){Et=n;return}Et=n=e}while(n!==null);Rt===0&&(Rt=5)}function Qs(e,n,a){var c=it,h=Tr.transition;try{Tr.transition=null,it=1,Z0(e,n,a,c)}finally{Tr.transition=h,it=c}return null}function Z0(e,n,a,c){do Fi();while(as!==null);if((rt&6)!==0)throw Error(s(327));a=e.finishedWork;var h=e.finishedLanes;if(a===null)return null;if(e.finishedWork=null,e.finishedLanes=0,a===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var p=a.lanes|a.childLanes;if(Ov(e,p),e===Dt&&(Et=Dt=null,Ut=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||zo||(zo=!0,cp(tt,function(){return Fi(),null})),p=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||p){p=Tr.transition,Tr.transition=null;var _=it;it=1;var E=rt;rt|=4,Xu.current=null,H0(e,a),Gm(a,e),v0(ou),Gl=!!lu,ou=lu=null,e.current=a,K0(a),Ds(),rt=E,it=_,Tr.transition=p}else e.current=a;if(zo&&(zo=!1,as=e,Do=h),p=e.pendingLanes,p===0&&(is=null),vt(a.stateNode),ur(e,lt()),n!==null)for(c=e.onRecoverableError,a=0;a<n.length;a++)h=n[a],c(h.value,{componentStack:h.stack,digest:h.digest});if(Ao)throw Ao=!1,e=rd,rd=null,e;return(Do&1)!==0&&e.tag!==0&&Fi(),p=e.pendingLanes,(p&1)!==0?e===nd?el++:(el=0,nd=e):el=0,ts(),null}function Fi(){if(as!==null){var e=Wh(Do),n=Tr.transition,a=it;try{if(Tr.transition=null,it=16>e?16:e,as===null)var c=!1;else{if(e=as,as=null,Do=0,(rt&6)!==0)throw Error(s(331));var h=rt;for(rt|=4,fe=e.current;fe!==null;){var p=fe,_=p.child;if((fe.flags&16)!==0){var E=p.deletions;if(E!==null){for(var O=0;O<E.length;O++){var U=E[O];for(fe=U;fe!==null;){var G=fe;switch(G.tag){case 0:case 11:case 15:Ya(8,G,p)}var Y=G.child;if(Y!==null)Y.return=G,fe=Y;else for(;fe!==null;){G=fe;var Q=G.sibling,oe=G.return;if(Vm(G),G===U){fe=null;break}if(Q!==null){Q.return=oe,fe=Q;break}fe=oe}}}var me=p.alternate;if(me!==null){var ge=me.child;if(ge!==null){me.child=null;do{var xt=ge.sibling;ge.sibling=null,ge=xt}while(ge!==null)}}fe=p}}if((p.subtreeFlags&2064)!==0&&_!==null)_.return=p,fe=_;else e:for(;fe!==null;){if(p=fe,(p.flags&2048)!==0)switch(p.tag){case 0:case 11:case 15:Ya(9,p,p.return)}var M=p.sibling;if(M!==null){M.return=p.return,fe=M;break e}fe=p.return}}var z=e.current;for(fe=z;fe!==null;){_=fe;var F=_.child;if((_.subtreeFlags&2064)!==0&&F!==null)F.return=_,fe=F;else e:for(_=z;fe!==null;){if(E=fe,(E.flags&2048)!==0)try{switch(E.tag){case 0:case 11:case 15:Ro(9,E)}}catch(we){wt(E,E.return,we)}if(E===_){fe=null;break e}var ee=E.sibling;if(ee!==null){ee.return=E.return,fe=ee;break e}fe=E.return}}if(rt=h,ts(),ir&&typeof ir.onPostCommitFiberRoot=="function")try{ir.onPostCommitFiberRoot(wn,e)}catch{}c=!0}return c}finally{it=a,Tr.transition=n}}return!1}function ap(e,n,a){n=Di(a,n),n=Nm(e,n,1),e=ns(e,n,1),n=Jt(),e!==null&&(Na(e,1,n),ur(e,n))}function wt(e,n,a){if(e.tag===3)ap(e,e,a);else for(;n!==null;){if(n.tag===3){ap(n,e,a);break}else if(n.tag===1){var c=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(is===null||!is.has(c))){e=Di(a,e),e=Sm(n,e,1),n=ns(n,e,1),e=Jt(),n!==null&&(Na(n,1,e),ur(n,e));break}}n=n.return}}function X0(e,n,a){var c=e.pingCache;c!==null&&c.delete(n),n=Jt(),e.pingedLanes|=e.suspendedLanes&a,Dt===e&&(Ut&a)===a&&(Rt===4||Rt===3&&(Ut&130023424)===Ut&&500>lt()-td?Ks(e,0):ed|=a),ur(e,n)}function lp(e,n){n===0&&((e.mode&1)===0?n=1:(n=Wl,Wl<<=1,(Wl&130023424)===0&&(Wl=4194304)));var a=Jt();e=Nn(e,n),e!==null&&(Na(e,n,a),ur(e,a))}function ew(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),lp(e,a)}function tw(e,n){var a=0;switch(e.tag){case 13:var c=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:c=e.stateNode;break;default:throw Error(s(314))}c!==null&&c.delete(n),lp(e,a)}var op;op=function(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps||ar.current)or=!0;else{if((e.lanes&a)===0&&(n.flags&128)===0)return or=!1,B0(e,n,a);or=(e.flags&131072)!==0}else or=!1,ft&&(n.flags&1048576)!==0&&Ff(n,mo,n.index);switch(n.lanes=0,n.tag){case 2:var c=n.type;jo(e,n),e=n.pendingProps;var h=Pi(n,Bt.current);Li(n,a),h=Au(null,n,c,e,h,a);var p=zu();return n.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,lr(c)?(p=!0,uo(n)):p=!1,n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,Su(n),h.updater=bo,n.stateNode=h,h._reactInternals=n,Cu(n,c,e,a),n=qu(null,n,c,!0,p,a)):(n.tag=0,ft&&p&&pu(n),Gt(null,n,h,a),n=n.child),n;case 16:c=n.elementType;e:{switch(jo(e,n),e=n.pendingProps,h=c._init,c=h(c._payload),n.type=c,h=n.tag=nw(c),e=Ur(c,e),h){case 0:n=Bu(null,n,c,e,a);break e;case 1:n=Am(null,n,c,e,a);break e;case 11:n=jm(null,n,c,e,a);break e;case 14:n=Tm(null,n,c,Ur(c.type,e),a);break e}throw Error(s(306,c,""))}return n;case 0:return c=n.type,h=n.pendingProps,h=n.elementType===c?h:Ur(c,h),Bu(e,n,c,h,a);case 1:return c=n.type,h=n.pendingProps,h=n.elementType===c?h:Ur(c,h),Am(e,n,c,h,a);case 3:e:{if(zm(n),e===null)throw Error(s(387));c=n.pendingProps,p=n.memoizedState,h=p.element,Hf(e,n),wo(n,c,null,a);var _=n.memoizedState;if(c=_.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},n.updateQueue.baseState=p,n.memoizedState=p,n.flags&256){h=Di(Error(s(423)),n),n=Dm(e,n,c,a,h);break e}else if(c!==h){h=Di(Error(s(424)),n),n=Dm(e,n,c,a,h);break e}else for(wr=Zn(n.stateNode.containerInfo.firstChild),vr=n,ft=!0,Fr=null,a=tm(n,null,c,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ri(),c===h){n=En(e,n,a);break e}Gt(e,n,c,a)}n=n.child}return n;case 5:return rm(n),e===null&&vu(n),c=n.type,h=n.pendingProps,p=e!==null?e.memoizedProps:null,_=h.children,cu(c,h)?_=null:p!==null&&cu(c,p)&&(n.flags|=32),Lm(e,n),Gt(e,n,_,a),n.child;case 6:return e===null&&vu(n),null;case 13:return $m(e,n,a);case 4:return Pu(n,n.stateNode.containerInfo),c=n.pendingProps,e===null?n.child=Ai(n,null,c,a):Gt(e,n,c,a),n.child;case 11:return c=n.type,h=n.pendingProps,h=n.elementType===c?h:Ur(c,h),jm(e,n,c,h,a);case 7:return Gt(e,n,n.pendingProps,a),n.child;case 8:return Gt(e,n,n.pendingProps.children,a),n.child;case 12:return Gt(e,n,n.pendingProps.children,a),n.child;case 10:e:{if(c=n.type._context,h=n.pendingProps,p=n.memoizedProps,_=h.value,ot(go,c._currentValue),c._currentValue=_,p!==null)if(Ir(p.value,_)){if(p.children===h.children&&!ar.current){n=En(e,n,a);break e}}else for(p=n.child,p!==null&&(p.return=n);p!==null;){var E=p.dependencies;if(E!==null){_=p.child;for(var O=E.firstContext;O!==null;){if(O.context===c){if(p.tag===1){O=Sn(-1,a&-a),O.tag=2;var U=p.updateQueue;if(U!==null){U=U.shared;var G=U.pending;G===null?O.next=O:(O.next=G.next,G.next=O),U.pending=O}}p.lanes|=a,O=p.alternate,O!==null&&(O.lanes|=a),ku(p.return,a,n),E.lanes|=a;break}O=O.next}}else if(p.tag===10)_=p.type===n.type?null:p.child;else if(p.tag===18){if(_=p.return,_===null)throw Error(s(341));_.lanes|=a,E=_.alternate,E!==null&&(E.lanes|=a),ku(_,a,n),_=p.sibling}else _=p.child;if(_!==null)_.return=p;else for(_=p;_!==null;){if(_===n){_=null;break}if(p=_.sibling,p!==null){p.return=_.return,_=p;break}_=_.return}p=_}Gt(e,n,h.children,a),n=n.child}return n;case 9:return h=n.type,c=n.pendingProps.children,Li(n,a),h=Pr(h),c=c(h),n.flags|=1,Gt(e,n,c,a),n.child;case 14:return c=n.type,h=Ur(c,n.pendingProps),h=Ur(c.type,h),Tm(e,n,c,h,a);case 15:return Rm(e,n,n.type,n.pendingProps,a);case 17:return c=n.type,h=n.pendingProps,h=n.elementType===c?h:Ur(c,h),jo(e,n),n.tag=1,lr(c)?(e=!0,uo(n)):e=!1,Li(n,a),Yf(n,c,h),Cu(n,c,h,a),qu(null,n,c,!0,e,a);case 19:return Im(e,n,a);case 22:return Om(e,n,a)}throw Error(s(156,n.tag))};function cp(e,n){return tn(e,n)}function rw(e,n,a,c){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rr(e,n,a,c){return new rw(e,n,a,c)}function cd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function nw(e){if(typeof e=="function")return cd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===be)return 11;if(e===ze)return 14}return 2}function cs(e,n){var a=e.alternate;return a===null?(a=Rr(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&14680064,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a}function Fo(e,n,a,c,h,p){var _=2;if(c=e,typeof e=="function")cd(e)&&(_=1);else if(typeof e=="string")_=5;else e:switch(e){case ne:return Gs(a.children,h,p,n);case le:_=8,h|=8;break;case te:return e=Rr(12,a,n,h|2),e.elementType=te,e.lanes=p,e;case Se:return e=Rr(13,a,n,h),e.elementType=Se,e.lanes=p,e;case ye:return e=Rr(19,a,n,h),e.elementType=ye,e.lanes=p,e;case Oe:return Uo(a,h,p,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case pe:_=10;break e;case Le:_=9;break e;case be:_=11;break e;case ze:_=14;break e;case ke:_=16,c=null;break e}throw Error(s(130,e==null?e:typeof e,""))}return n=Rr(_,a,n,h),n.elementType=e,n.type=c,n.lanes=p,n}function Gs(e,n,a,c){return e=Rr(7,e,c,n),e.lanes=a,e}function Uo(e,n,a,c){return e=Rr(22,e,c,n),e.elementType=Oe,e.lanes=a,e.stateNode={isHidden:!1},e}function ud(e,n,a){return e=Rr(6,e,null,n),e.lanes=a,e}function dd(e,n,a){return n=Rr(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function sw(e,n,a,c,h){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mc(0),this.expirationTimes=Mc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mc(0),this.identifierPrefix=c,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function hd(e,n,a,c,h,p,_,E,O){return e=new sw(e,n,a,E,O),n===1?(n=1,p===!0&&(n|=8)):n=0,p=Rr(3,null,null,n),e.current=p,p.stateNode=e,p.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Su(p),e}function iw(e,n,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:A,key:c==null?null:""+c,children:e,containerInfo:n,implementation:a}}function up(e){if(!e)return es;e=e._reactInternals;e:{if(Xe(e)!==e||e.tag!==1)throw Error(s(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(lr(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(s(171))}if(e.tag===1){var a=e.type;if(lr(a))return $f(e,a,n)}return n}function dp(e,n,a,c,h,p,_,E,O){return e=hd(a,c,!0,e,h,p,_,E,O),e.context=up(null),a=e.current,c=Jt(),h=ls(a),p=Sn(c,h),p.callback=n??null,ns(a,p,h),e.current.lanes=h,Na(e,h,c),ur(e,c),e}function Bo(e,n,a,c){var h=n.current,p=Jt(),_=ls(h);return a=up(a),n.context===null?n.context=a:n.pendingContext=a,n=Sn(p,_),n.payload={element:e},c=c===void 0?null:c,c!==null&&(n.callback=c),e=ns(h,n,_),e!==null&&(Vr(e,h,_,p),vo(e,h,_)),_}function qo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function hp(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function fd(e,n){hp(e,n),(e=e.alternate)&&hp(e,n)}function aw(){return null}var fp=typeof reportError=="function"?reportError:function(e){console.error(e)};function md(e){this._internalRoot=e}Vo.prototype.render=md.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));Bo(e,n,null,null)},Vo.prototype.unmount=md.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Hs(function(){Bo(null,e,null,null)}),n[bn]=null}};function Vo(e){this._internalRoot=e}Vo.prototype.unstable_scheduleHydration=function(e){if(e){var n=Qh();e={blockedOn:null,target:e,priority:n};for(var a=0;a<Gn.length&&n!==0&&n<Gn[a].priority;a++);Gn.splice(a,0,e),a===0&&Yh(e)}};function pd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Wo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function mp(){}function lw(e,n,a,c,h){if(h){if(typeof c=="function"){var p=c;c=function(){var U=qo(_);p.call(U)}}var _=dp(n,c,e,0,null,!1,!1,"",mp);return e._reactRootContainer=_,e[bn]=_.current,Ma(e.nodeType===8?e.parentNode:e),Hs(),_}for(;h=e.lastChild;)e.removeChild(h);if(typeof c=="function"){var E=c;c=function(){var U=qo(O);E.call(U)}}var O=hd(e,0,!1,null,null,!1,!1,"",mp);return e._reactRootContainer=O,e[bn]=O.current,Ma(e.nodeType===8?e.parentNode:e),Hs(function(){Bo(n,O,a,c)}),O}function Ho(e,n,a,c,h){var p=a._reactRootContainer;if(p){var _=p;if(typeof h=="function"){var E=h;h=function(){var O=qo(_);E.call(O)}}Bo(n,_,e,h)}else _=lw(a,n,e,h,c);return qo(_)}Hh=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var a=ka(n.pendingLanes);a!==0&&(Ic(n,a|1),ur(n,lt()),(rt&6)===0&&(Ii=lt()+500,ts()))}break;case 13:Hs(function(){var c=Nn(e,1);if(c!==null){var h=Jt();Vr(c,e,1,h)}}),fd(e,1)}},Fc=function(e){if(e.tag===13){var n=Nn(e,134217728);if(n!==null){var a=Jt();Vr(n,e,134217728,a)}fd(e,134217728)}},Kh=function(e){if(e.tag===13){var n=ls(e),a=Nn(e,n);if(a!==null){var c=Jt();Vr(a,e,n,c)}fd(e,n)}},Qh=function(){return it},Gh=function(e,n){var a=it;try{return it=e,n()}finally{it=a}},ba=function(e,n,a){switch(n){case"input":if(Un(e,a),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<a.length;n++){var c=a[n];if(c!==e&&c.form===e.form){var h=oo(c);if(!h)throw Error(s(90));In(c),Un(c,h)}}}break;case"textarea":re(e,a);break;case"select":n=a.value,n!=null&&I(e,!!a.multiple,n,!1)}},Ul=ad,Bl=Hs;var ow={usingClientEntryPoint:!1,Events:[Ua,Ei,oo,As,zs,ad]},tl={findFiberByHostInstance:Ms,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},cw={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:H.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ge(e),e===null?null:e.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||aw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ko=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ko.isDisabled&&Ko.supportsFiber)try{wn=Ko.inject(cw),ir=Ko}catch{}}return dr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ow,dr.createPortal=function(e,n){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pd(n))throw Error(s(200));return iw(e,n,null,a)},dr.createRoot=function(e,n){if(!pd(e))throw Error(s(299));var a=!1,c="",h=fp;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onRecoverableError!==void 0&&(h=n.onRecoverableError)),n=hd(e,1,!1,null,null,a,!1,c,h),e[bn]=n.current,Ma(e.nodeType===8?e.parentNode:e),new md(n)},dr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=Ge(n),e=e===null?null:e.stateNode,e},dr.flushSync=function(e){return Hs(e)},dr.hydrate=function(e,n,a){if(!Wo(n))throw Error(s(200));return Ho(null,e,n,!0,a)},dr.hydrateRoot=function(e,n,a){if(!pd(e))throw Error(s(405));var c=a!=null&&a.hydratedSources||null,h=!1,p="",_=fp;if(a!=null&&(a.unstable_strictMode===!0&&(h=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(_=a.onRecoverableError)),n=dp(n,null,e,1,a??null,h,!1,p,_),e[bn]=n.current,Ma(e),c)for(e=0;e<c.length;e++)a=c[e],h=a._getVersion,h=h(a._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[a,h]:n.mutableSourceEagerHydrationData.push(a,h);return new Vo(n)},dr.render=function(e,n,a){if(!Wo(n))throw Error(s(200));return Ho(null,e,n,!1,a)},dr.unmountComponentAtNode=function(e){if(!Wo(e))throw Error(s(40));return e._reactRootContainer?(Hs(function(){Ho(null,null,e,!1,function(){e._reactRootContainer=null,e[bn]=null})}),!0):!1},dr.unstable_batchedUpdates=ad,dr.unstable_renderSubtreeIntoContainer=function(e,n,a,c){if(!Wo(a))throw Error(s(200));if(e==null||e._reactInternals===void 0)throw Error(s(38));return Ho(e,n,a,!1,c)},dr.version="18.2.0-next-9e3b772b8-20220608",dr}var _p;function ty(){if(_p)return vd.exports;_p=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),vd.exports=pw(),vd.exports}var xp;function gw(){if(xp)return Go;xp=1;var r=ty();return Go.createRoot=r.createRoot,Go.hydrateRoot=r.hydrateRoot,Go}var yw=gw();const vw="modulepreload",ww=function(r){return"/"+r},kp={},Rl=function(t,s,i){let l=Promise.resolve();if(s&&s.length>0){let u=function(y){return Promise.all(y.map(g=>Promise.resolve(g).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),m=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));l=u(s.map(y=>{if(y=ww(y),y in kp)return;kp[y]=!0;const g=y.endsWith(".css"),v=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${v}`))return;const w=document.createElement("link");if(w.rel=g?"stylesheet":vw,g||(w.as="script"),w.crossOrigin="",w.href=y,m&&w.setAttribute("nonce",m),document.head.appendChild(w),g)return new Promise((N,S)=>{w.addEventListener("load",N),w.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${y}`)))})}))}function o(u){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=u,window.dispatchEvent(f),!f.defaultPrevented)throw u}return l.then(u=>{for(const f of u||[])f.status==="rejected"&&o(f.reason);return t().catch(o)})};var ga=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(r){return this.listeners.add(r),this.onSubscribe(),()=>{this.listeners.delete(r),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},di=typeof window>"u"||"Deno"in globalThis;function er(){}function bw(r,t){return typeof r=="function"?r(t):r}function zd(r){return typeof r=="number"&&r>=0&&r!==1/0}function ry(r,t){return Math.max(r+(t||0)-Date.now(),0)}function Ps(r,t){return typeof r=="function"?r(t):r}function Gr(r,t){return typeof r=="function"?r(t):r}function Np(r,t){const{type:s="all",exact:i,fetchStatus:l,predicate:o,queryKey:u,stale:f}=r;if(u){if(i){if(t.queryHash!==mh(u,t.options))return!1}else if(!_l(t.queryKey,u))return!1}if(s!=="all"){const m=t.isActive();if(s==="active"&&!m||s==="inactive"&&m)return!1}return!(typeof f=="boolean"&&t.isStale()!==f||l&&l!==t.state.fetchStatus||o&&!o(t))}function Sp(r,t){const{exact:s,status:i,predicate:l,mutationKey:o}=r;if(o){if(!t.options.mutationKey)return!1;if(s){if(hi(t.options.mutationKey)!==hi(o))return!1}else if(!_l(t.options.mutationKey,o))return!1}return!(i&&t.state.status!==i||l&&!l(t))}function mh(r,t){return((t==null?void 0:t.queryKeyHashFn)||hi)(r)}function hi(r){return JSON.stringify(r,(t,s)=>Dd(s)?Object.keys(s).sort().reduce((i,l)=>(i[l]=s[l],i),{}):s)}function _l(r,t){return r===t?!0:typeof r!=typeof t?!1:r&&t&&typeof r=="object"&&typeof t=="object"?Object.keys(t).every(s=>_l(r[s],t[s])):!1}function ny(r,t){if(r===t)return r;const s=Ep(r)&&Ep(t);if(s||Dd(r)&&Dd(t)){const i=s?r:Object.keys(r),l=i.length,o=s?t:Object.keys(t),u=o.length,f=s?[]:{},m=new Set(i);let y=0;for(let g=0;g<u;g++){const v=s?g:o[g];(!s&&m.has(v)||s)&&r[v]===void 0&&t[v]===void 0?(f[v]=void 0,y++):(f[v]=ny(r[v],t[v]),f[v]===r[v]&&r[v]!==void 0&&y++)}return l===u&&y===l?r:f}return t}function hc(r,t){if(!t||Object.keys(r).length!==Object.keys(t).length)return!1;for(const s in r)if(r[s]!==t[s])return!1;return!0}function Ep(r){return Array.isArray(r)&&r.length===Object.keys(r).length}function Dd(r){if(!Cp(r))return!1;const t=r.constructor;if(t===void 0)return!0;const s=t.prototype;return!(!Cp(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(r)!==Object.prototype)}function Cp(r){return Object.prototype.toString.call(r)==="[object Object]"}function _w(r){return new Promise(t=>{setTimeout(t,r)})}function $d(r,t,s){return typeof s.structuralSharing=="function"?s.structuralSharing(r,t):s.structuralSharing!==!1?ny(r,t):t}function xw(r,t,s=0){const i=[...r,t];return s&&i.length>s?i.slice(1):i}function kw(r,t,s=0){const i=[t,...r];return s&&i.length>s?i.slice(0,-1):i}var ph=Symbol();function sy(r,t){return!r.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!r.queryFn||r.queryFn===ph?()=>Promise.reject(new Error(`Missing queryFn: '${r.queryHash}'`)):r.queryFn}function iy(r,t){return typeof r=="function"?r(...t):!!r}var ri,vs,ra,Vg,Nw=(Vg=class extends ga{constructor(){super();je(this,ri);je(this,vs);je(this,ra);ue(this,ra,t=>{if(!di&&window.addEventListener){const s=()=>t();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}})}onSubscribe(){T(this,vs)||this.setEventListener(T(this,ra))}onUnsubscribe(){var t;this.hasListeners()||((t=T(this,vs))==null||t.call(this),ue(this,vs,void 0))}setEventListener(t){var s;ue(this,ra,t),(s=T(this,vs))==null||s.call(this),ue(this,vs,t(i=>{typeof i=="boolean"?this.setFocused(i):this.onFocus()}))}setFocused(t){T(this,ri)!==t&&(ue(this,ri,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(s=>{s(t)})}isFocused(){var t;return typeof T(this,ri)=="boolean"?T(this,ri):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ri=new WeakMap,vs=new WeakMap,ra=new WeakMap,Vg),gh=new Nw,na,ws,sa,Wg,Sw=(Wg=class extends ga{constructor(){super();je(this,na,!0);je(this,ws);je(this,sa);ue(this,sa,t=>{if(!di&&window.addEventListener){const s=()=>t(!0),i=()=>t(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",i)}}})}onSubscribe(){T(this,ws)||this.setEventListener(T(this,sa))}onUnsubscribe(){var t;this.hasListeners()||((t=T(this,ws))==null||t.call(this),ue(this,ws,void 0))}setEventListener(t){var s;ue(this,sa,t),(s=T(this,ws))==null||s.call(this),ue(this,ws,t(this.setOnline.bind(this)))}setOnline(t){T(this,na)!==t&&(ue(this,na,t),this.listeners.forEach(i=>{i(t)}))}isOnline(){return T(this,na)}},na=new WeakMap,ws=new WeakMap,sa=new WeakMap,Wg),fc=new Sw;function Md(){let r,t;const s=new Promise((l,o)=>{r=l,t=o});s.status="pending",s.catch(()=>{});function i(l){Object.assign(s,l),delete s.resolve,delete s.reject}return s.resolve=l=>{i({status:"fulfilled",value:l}),r(l)},s.reject=l=>{i({status:"rejected",reason:l}),t(l)},s}function Ew(r){return Math.min(1e3*2**r,3e4)}function ay(r){return(r??"online")==="online"?fc.isOnline():!0}var ly=class extends Error{constructor(r){super("CancelledError"),this.revert=r==null?void 0:r.revert,this.silent=r==null?void 0:r.silent}};function _d(r){return r instanceof ly}function oy(r){let t=!1,s=0,i=!1,l;const o=Md(),u=x=>{var k;i||(w(new ly(x)),(k=r.abort)==null||k.call(r))},f=()=>{t=!0},m=()=>{t=!1},y=()=>gh.isFocused()&&(r.networkMode==="always"||fc.isOnline())&&r.canRun(),g=()=>ay(r.networkMode)&&r.canRun(),v=x=>{var k;i||(i=!0,(k=r.onSuccess)==null||k.call(r,x),l==null||l(),o.resolve(x))},w=x=>{var k;i||(i=!0,(k=r.onError)==null||k.call(r,x),l==null||l(),o.reject(x))},N=()=>new Promise(x=>{var k;l=P=>{(i||y())&&x(P)},(k=r.onPause)==null||k.call(r)}).then(()=>{var x;l=void 0,i||(x=r.onContinue)==null||x.call(r)}),S=()=>{if(i)return;let x;const k=s===0?r.initialPromise:void 0;try{x=k??r.fn()}catch(P){x=Promise.reject(P)}Promise.resolve(x).then(v).catch(P=>{var A;if(i)return;const B=r.retry??(di?0:3),D=r.retryDelay??Ew,H=typeof D=="function"?D(s,P):D,V=B===!0||typeof B=="number"&&s<B||typeof B=="function"&&B(s,P);if(t||!V){w(P);return}s++,(A=r.onFail)==null||A.call(r,s,P),_w(H).then(()=>y()?void 0:N()).then(()=>{t?w(P):S()})})};return{promise:o,cancel:u,continue:()=>(l==null||l(),o),cancelRetry:f,continueRetry:m,canStart:g,start:()=>(g()?S():N().then(S),o)}}var Cw=r=>setTimeout(r,0);function Pw(){let r=[],t=0,s=f=>{f()},i=f=>{f()},l=Cw;const o=f=>{t?r.push(f):l(()=>{s(f)})},u=()=>{const f=r;r=[],f.length&&l(()=>{i(()=>{f.forEach(m=>{s(m)})})})};return{batch:f=>{let m;t++;try{m=f()}finally{t--,t||u()}return m},batchCalls:f=>(...m)=>{o(()=>{f(...m)})},schedule:o,setNotifyFunction:f=>{s=f},setBatchNotifyFunction:f=>{i=f},setScheduler:f=>{l=f}}}var Lt=Pw(),ni,Hg,cy=(Hg=class{constructor(){je(this,ni)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),zd(this.gcTime)&&ue(this,ni,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(r){this.gcTime=Math.max(this.gcTime||0,r??(di?1/0:5*60*1e3))}clearGcTimeout(){T(this,ni)&&(clearTimeout(T(this,ni)),ue(this,ni,void 0))}},ni=new WeakMap,Hg),ia,aa,Lr,si,Kt,Cl,ii,Hr,jn,Kg,jw=(Kg=class extends cy{constructor(t){super();je(this,Hr);je(this,ia);je(this,aa);je(this,Lr);je(this,si);je(this,Kt);je(this,Cl);je(this,ii);ue(this,ii,!1),ue(this,Cl,t.defaultOptions),this.setOptions(t.options),this.observers=[],ue(this,si,t.client),ue(this,Lr,T(this,si).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ue(this,ia,Tw(this.options)),this.state=t.state??T(this,ia),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=T(this,Kt))==null?void 0:t.promise}setOptions(t){this.options={...T(this,Cl),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&T(this,Lr).remove(this)}setData(t,s){const i=$d(this.state.data,t,this.options);return Be(this,Hr,jn).call(this,{data:i,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt,manual:s==null?void 0:s.manual}),i}setState(t,s){Be(this,Hr,jn).call(this,{type:"setState",state:t,setStateOptions:s})}cancel(t){var i,l;const s=(i=T(this,Kt))==null?void 0:i.promise;return(l=T(this,Kt))==null||l.cancel(t),s?s.then(er).catch(er):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(T(this,ia))}isActive(){return this.observers.some(t=>Gr(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ph||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Ps(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!ry(this.state.dataUpdatedAt,t)}onFocus(){var s;const t=this.observers.find(i=>i.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(s=T(this,Kt))==null||s.continue()}onOnline(){var s;const t=this.observers.find(i=>i.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(s=T(this,Kt))==null||s.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),T(this,Lr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(s=>s!==t),this.observers.length||(T(this,Kt)&&(T(this,ii)?T(this,Kt).cancel({revert:!0}):T(this,Kt).cancelRetry()),this.scheduleGc()),T(this,Lr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Be(this,Hr,jn).call(this,{type:"invalidate"})}fetch(t,s){var y,g,v;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(T(this,Kt))return T(this,Kt).continueRetry(),T(this,Kt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const w=this.observers.find(N=>N.options.queryFn);w&&this.setOptions(w.options)}const i=new AbortController,l=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(ue(this,ii,!0),i.signal)})},o=()=>{const w=sy(this.options,s),S=(()=>{const x={client:T(this,si),queryKey:this.queryKey,meta:this.meta};return l(x),x})();return ue(this,ii,!1),this.options.persister?this.options.persister(w,S,this):w(S)},f=(()=>{const w={fetchOptions:s,options:this.options,queryKey:this.queryKey,client:T(this,si),state:this.state,fetchFn:o};return l(w),w})();(y=this.options.behavior)==null||y.onFetch(f,this),ue(this,aa,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((g=f.fetchOptions)==null?void 0:g.meta))&&Be(this,Hr,jn).call(this,{type:"fetch",meta:(v=f.fetchOptions)==null?void 0:v.meta});const m=w=>{var N,S,x,k;_d(w)&&w.silent||Be(this,Hr,jn).call(this,{type:"error",error:w}),_d(w)||((S=(N=T(this,Lr).config).onError)==null||S.call(N,w,this),(k=(x=T(this,Lr).config).onSettled)==null||k.call(x,this.state.data,w,this)),this.scheduleGc()};return ue(this,Kt,oy({initialPromise:s==null?void 0:s.initialPromise,fn:f.fetchFn,abort:i.abort.bind(i),onSuccess:w=>{var N,S,x,k;if(w===void 0){m(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(w)}catch(P){m(P);return}(S=(N=T(this,Lr).config).onSuccess)==null||S.call(N,w,this),(k=(x=T(this,Lr).config).onSettled)==null||k.call(x,w,this.state.error,this),this.scheduleGc()},onError:m,onFail:(w,N)=>{Be(this,Hr,jn).call(this,{type:"failed",failureCount:w,error:N})},onPause:()=>{Be(this,Hr,jn).call(this,{type:"pause"})},onContinue:()=>{Be(this,Hr,jn).call(this,{type:"continue"})},retry:f.options.retry,retryDelay:f.options.retryDelay,networkMode:f.options.networkMode,canRun:()=>!0})),T(this,Kt).start()}},ia=new WeakMap,aa=new WeakMap,Lr=new WeakMap,si=new WeakMap,Kt=new WeakMap,Cl=new WeakMap,ii=new WeakMap,Hr=new WeakSet,jn=function(t){const s=i=>{switch(t.type){case"failed":return{...i,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...uy(i.data,this.options),fetchMeta:t.meta??null};case"success":return{...i,data:t.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const l=t.error;return _d(l)&&l.revert&&T(this,aa)?{...T(this,aa),fetchStatus:"idle"}:{...i,error:l,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:l,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...t.state}}};this.state=s(this.state),Lt.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),T(this,Lr).notify({query:this,type:"updated",action:t})})},Kg);function uy(r,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:ay(t.networkMode)?"fetching":"paused",...r===void 0&&{error:null,status:"pending"}}}function Tw(r){const t=typeof r.initialData=="function"?r.initialData():r.initialData,s=t!==void 0,i=s?typeof r.initialDataUpdatedAt=="function"?r.initialDataUpdatedAt():r.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:s?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var cn,Qg,Rw=(Qg=class extends ga{constructor(t={}){super();je(this,cn);this.config=t,ue(this,cn,new Map)}build(t,s,i){const l=s.queryKey,o=s.queryHash??mh(l,s);let u=this.get(o);return u||(u=new jw({client:t,queryKey:l,queryHash:o,options:t.defaultQueryOptions(s),state:i,defaultOptions:t.getQueryDefaults(l)}),this.add(u)),u}add(t){T(this,cn).has(t.queryHash)||(T(this,cn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const s=T(this,cn).get(t.queryHash);s&&(t.destroy(),s===t&&T(this,cn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Lt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return T(this,cn).get(t)}getAll(){return[...T(this,cn).values()]}find(t){const s={exact:!0,...t};return this.getAll().find(i=>Np(s,i))}findAll(t={}){const s=this.getAll();return Object.keys(t).length>0?s.filter(i=>Np(t,i)):s}notify(t){Lt.batch(()=>{this.listeners.forEach(s=>{s(t)})})}onFocus(){Lt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Lt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},cn=new WeakMap,Qg),un,Zt,ai,dn,ds,Gg,Ow=(Gg=class extends cy{constructor(t){super();je(this,dn);je(this,un);je(this,Zt);je(this,ai);this.mutationId=t.mutationId,ue(this,Zt,t.mutationCache),ue(this,un,[]),this.state=t.state||dy(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){T(this,un).includes(t)||(T(this,un).push(t),this.clearGcTimeout(),T(this,Zt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ue(this,un,T(this,un).filter(s=>s!==t)),this.scheduleGc(),T(this,Zt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){T(this,un).length||(this.state.status==="pending"?this.scheduleGc():T(this,Zt).remove(this))}continue(){var t;return((t=T(this,ai))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,u,f,m,y,g,v,w,N,S,x,k,P,B,D,H,V,A,ne,le;const s=()=>{Be(this,dn,ds).call(this,{type:"continue"})};ue(this,ai,oy({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(te,pe)=>{Be(this,dn,ds).call(this,{type:"failed",failureCount:te,error:pe})},onPause:()=>{Be(this,dn,ds).call(this,{type:"pause"})},onContinue:s,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>T(this,Zt).canRun(this)}));const i=this.state.status==="pending",l=!T(this,ai).canStart();try{if(i)s();else{Be(this,dn,ds).call(this,{type:"pending",variables:t,isPaused:l}),await((u=(o=T(this,Zt).config).onMutate)==null?void 0:u.call(o,t,this));const pe=await((m=(f=this.options).onMutate)==null?void 0:m.call(f,t));pe!==this.state.context&&Be(this,dn,ds).call(this,{type:"pending",context:pe,variables:t,isPaused:l})}const te=await T(this,ai).start();return await((g=(y=T(this,Zt).config).onSuccess)==null?void 0:g.call(y,te,t,this.state.context,this)),await((w=(v=this.options).onSuccess)==null?void 0:w.call(v,te,t,this.state.context)),await((S=(N=T(this,Zt).config).onSettled)==null?void 0:S.call(N,te,null,this.state.variables,this.state.context,this)),await((k=(x=this.options).onSettled)==null?void 0:k.call(x,te,null,t,this.state.context)),Be(this,dn,ds).call(this,{type:"success",data:te}),te}catch(te){try{throw await((B=(P=T(this,Zt).config).onError)==null?void 0:B.call(P,te,t,this.state.context,this)),await((H=(D=this.options).onError)==null?void 0:H.call(D,te,t,this.state.context)),await((A=(V=T(this,Zt).config).onSettled)==null?void 0:A.call(V,void 0,te,this.state.variables,this.state.context,this)),await((le=(ne=this.options).onSettled)==null?void 0:le.call(ne,void 0,te,t,this.state.context)),te}finally{Be(this,dn,ds).call(this,{type:"error",error:te})}}finally{T(this,Zt).runNext(this)}}},un=new WeakMap,Zt=new WeakMap,ai=new WeakMap,dn=new WeakSet,ds=function(t){const s=i=>{switch(t.type){case"failed":return{...i,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...i,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:t.error,failureCount:i.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=s(this.state),Lt.batch(()=>{T(this,un).forEach(i=>{i.onMutationUpdate(t)}),T(this,Zt).notify({mutation:this,type:"updated",action:t})})},Gg);function dy(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var On,Kr,Pl,Jg,Lw=(Jg=class extends ga{constructor(t={}){super();je(this,On);je(this,Kr);je(this,Pl);this.config=t,ue(this,On,new Set),ue(this,Kr,new Map),ue(this,Pl,0)}build(t,s,i){const l=new Ow({mutationCache:this,mutationId:++Qo(this,Pl)._,options:t.defaultMutationOptions(s),state:i});return this.add(l),l}add(t){T(this,On).add(t);const s=Jo(t);if(typeof s=="string"){const i=T(this,Kr).get(s);i?i.push(t):T(this,Kr).set(s,[t])}this.notify({type:"added",mutation:t})}remove(t){if(T(this,On).delete(t)){const s=Jo(t);if(typeof s=="string"){const i=T(this,Kr).get(s);if(i)if(i.length>1){const l=i.indexOf(t);l!==-1&&i.splice(l,1)}else i[0]===t&&T(this,Kr).delete(s)}}this.notify({type:"removed",mutation:t})}canRun(t){const s=Jo(t);if(typeof s=="string"){const i=T(this,Kr).get(s),l=i==null?void 0:i.find(o=>o.state.status==="pending");return!l||l===t}else return!0}runNext(t){var i;const s=Jo(t);if(typeof s=="string"){const l=(i=T(this,Kr).get(s))==null?void 0:i.find(o=>o!==t&&o.state.isPaused);return(l==null?void 0:l.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Lt.batch(()=>{T(this,On).forEach(t=>{this.notify({type:"removed",mutation:t})}),T(this,On).clear(),T(this,Kr).clear()})}getAll(){return Array.from(T(this,On))}find(t){const s={exact:!0,...t};return this.getAll().find(i=>Sp(s,i))}findAll(t={}){return this.getAll().filter(s=>Sp(t,s))}notify(t){Lt.batch(()=>{this.listeners.forEach(s=>{s(t)})})}resumePausedMutations(){const t=this.getAll().filter(s=>s.state.isPaused);return Lt.batch(()=>Promise.all(t.map(s=>s.continue().catch(er))))}},On=new WeakMap,Kr=new WeakMap,Pl=new WeakMap,Jg);function Jo(r){var t;return(t=r.options.scope)==null?void 0:t.id}function Pp(r){return{onFetch:(t,s)=>{var g,v,w,N,S;const i=t.options,l=(w=(v=(g=t.fetchOptions)==null?void 0:g.meta)==null?void 0:v.fetchMore)==null?void 0:w.direction,o=((N=t.state.data)==null?void 0:N.pages)||[],u=((S=t.state.data)==null?void 0:S.pageParams)||[];let f={pages:[],pageParams:[]},m=0;const y=async()=>{let x=!1;const k=D=>{Object.defineProperty(D,"signal",{enumerable:!0,get:()=>(t.signal.aborted?x=!0:t.signal.addEventListener("abort",()=>{x=!0}),t.signal)})},P=sy(t.options,t.fetchOptions),B=async(D,H,V)=>{if(x)return Promise.reject();if(H==null&&D.pages.length)return Promise.resolve(D);const ne=(()=>{const Le={client:t.client,queryKey:t.queryKey,pageParam:H,direction:V?"backward":"forward",meta:t.options.meta};return k(Le),Le})(),le=await P(ne),{maxPages:te}=t.options,pe=V?kw:xw;return{pages:pe(D.pages,le,te),pageParams:pe(D.pageParams,H,te)}};if(l&&o.length){const D=l==="backward",H=D?Aw:jp,V={pages:o,pageParams:u},A=H(i,V);f=await B(V,A,D)}else{const D=r??o.length;do{const H=m===0?u[0]??i.initialPageParam:jp(i,f);if(m>0&&H==null)break;f=await B(f,H),m++}while(m<D)}return f};t.options.persister?t.fetchFn=()=>{var x,k;return(k=(x=t.options).persister)==null?void 0:k.call(x,y,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},s)}:t.fetchFn=y}}}function jp(r,{pages:t,pageParams:s}){const i=t.length-1;return t.length>0?r.getNextPageParam(t[i],t,s[i],s):void 0}function Aw(r,{pages:t,pageParams:s}){var i;return t.length>0?(i=r.getPreviousPageParam)==null?void 0:i.call(r,t[0],t,s[0],s):void 0}var bt,bs,_s,la,oa,xs,ca,ua,Yg,zw=(Yg=class{constructor(r={}){je(this,bt);je(this,bs);je(this,_s);je(this,la);je(this,oa);je(this,xs);je(this,ca);je(this,ua);ue(this,bt,r.queryCache||new Rw),ue(this,bs,r.mutationCache||new Lw),ue(this,_s,r.defaultOptions||{}),ue(this,la,new Map),ue(this,oa,new Map),ue(this,xs,0)}mount(){Qo(this,xs)._++,T(this,xs)===1&&(ue(this,ca,gh.subscribe(async r=>{r&&(await this.resumePausedMutations(),T(this,bt).onFocus())})),ue(this,ua,fc.subscribe(async r=>{r&&(await this.resumePausedMutations(),T(this,bt).onOnline())})))}unmount(){var r,t;Qo(this,xs)._--,T(this,xs)===0&&((r=T(this,ca))==null||r.call(this),ue(this,ca,void 0),(t=T(this,ua))==null||t.call(this),ue(this,ua,void 0))}isFetching(r){return T(this,bt).findAll({...r,fetchStatus:"fetching"}).length}isMutating(r){return T(this,bs).findAll({...r,status:"pending"}).length}getQueryData(r){var s;const t=this.defaultQueryOptions({queryKey:r});return(s=T(this,bt).get(t.queryHash))==null?void 0:s.state.data}ensureQueryData(r){const t=this.defaultQueryOptions(r),s=T(this,bt).build(this,t),i=s.state.data;return i===void 0?this.fetchQuery(r):(r.revalidateIfStale&&s.isStaleByTime(Ps(t.staleTime,s))&&this.prefetchQuery(t),Promise.resolve(i))}getQueriesData(r){return T(this,bt).findAll(r).map(({queryKey:t,state:s})=>{const i=s.data;return[t,i]})}setQueryData(r,t,s){const i=this.defaultQueryOptions({queryKey:r}),l=T(this,bt).get(i.queryHash),o=l==null?void 0:l.state.data,u=bw(t,o);if(u!==void 0)return T(this,bt).build(this,i).setData(u,{...s,manual:!0})}setQueriesData(r,t,s){return Lt.batch(()=>T(this,bt).findAll(r).map(({queryKey:i})=>[i,this.setQueryData(i,t,s)]))}getQueryState(r){var s;const t=this.defaultQueryOptions({queryKey:r});return(s=T(this,bt).get(t.queryHash))==null?void 0:s.state}removeQueries(r){const t=T(this,bt);Lt.batch(()=>{t.findAll(r).forEach(s=>{t.remove(s)})})}resetQueries(r,t){const s=T(this,bt);return Lt.batch(()=>(s.findAll(r).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...r},t)))}cancelQueries(r,t={}){const s={revert:!0,...t},i=Lt.batch(()=>T(this,bt).findAll(r).map(l=>l.cancel(s)));return Promise.all(i).then(er).catch(er)}invalidateQueries(r,t={}){return Lt.batch(()=>(T(this,bt).findAll(r).forEach(s=>{s.invalidate()}),(r==null?void 0:r.refetchType)==="none"?Promise.resolve():this.refetchQueries({...r,type:(r==null?void 0:r.refetchType)??(r==null?void 0:r.type)??"active"},t)))}refetchQueries(r,t={}){const s={...t,cancelRefetch:t.cancelRefetch??!0},i=Lt.batch(()=>T(this,bt).findAll(r).filter(l=>!l.isDisabled()&&!l.isStatic()).map(l=>{let o=l.fetch(void 0,s);return s.throwOnError||(o=o.catch(er)),l.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(i).then(er)}fetchQuery(r){const t=this.defaultQueryOptions(r);t.retry===void 0&&(t.retry=!1);const s=T(this,bt).build(this,t);return s.isStaleByTime(Ps(t.staleTime,s))?s.fetch(t):Promise.resolve(s.state.data)}prefetchQuery(r){return this.fetchQuery(r).then(er).catch(er)}fetchInfiniteQuery(r){return r.behavior=Pp(r.pages),this.fetchQuery(r)}prefetchInfiniteQuery(r){return this.fetchInfiniteQuery(r).then(er).catch(er)}ensureInfiniteQueryData(r){return r.behavior=Pp(r.pages),this.ensureQueryData(r)}resumePausedMutations(){return fc.isOnline()?T(this,bs).resumePausedMutations():Promise.resolve()}getQueryCache(){return T(this,bt)}getMutationCache(){return T(this,bs)}getDefaultOptions(){return T(this,_s)}setDefaultOptions(r){ue(this,_s,r)}setQueryDefaults(r,t){T(this,la).set(hi(r),{queryKey:r,defaultOptions:t})}getQueryDefaults(r){const t=[...T(this,la).values()],s={};return t.forEach(i=>{_l(r,i.queryKey)&&Object.assign(s,i.defaultOptions)}),s}setMutationDefaults(r,t){T(this,oa).set(hi(r),{mutationKey:r,defaultOptions:t})}getMutationDefaults(r){const t=[...T(this,oa).values()],s={};return t.forEach(i=>{_l(r,i.mutationKey)&&Object.assign(s,i.defaultOptions)}),s}defaultQueryOptions(r){if(r._defaulted)return r;const t={...T(this,_s).queries,...this.getQueryDefaults(r.queryKey),...r,_defaulted:!0};return t.queryHash||(t.queryHash=mh(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===ph&&(t.enabled=!1),t}defaultMutationOptions(r){return r!=null&&r._defaulted?r:{...T(this,_s).mutations,...(r==null?void 0:r.mutationKey)&&this.getMutationDefaults(r.mutationKey),...r,_defaulted:!0}}clear(){T(this,bt).clear(),T(this,bs).clear()}},bt=new WeakMap,bs=new WeakMap,_s=new WeakMap,la=new WeakMap,oa=new WeakMap,xs=new WeakMap,ca=new WeakMap,ua=new WeakMap,Yg),fr,Je,jl,Xt,li,da,ks,Ns,Tl,ha,fa,oi,ci,Ss,ma,st,dl,Id,Fd,Ud,Bd,qd,Vd,Wd,hy,Zg,Dw=(Zg=class extends ga{constructor(t,s){super();je(this,st);je(this,fr);je(this,Je);je(this,jl);je(this,Xt);je(this,li);je(this,da);je(this,ks);je(this,Ns);je(this,Tl);je(this,ha);je(this,fa);je(this,oi);je(this,ci);je(this,Ss);je(this,ma,new Set);this.options=s,ue(this,fr,t),ue(this,Ns,null),ue(this,ks,Md()),this.options.experimental_prefetchInRender||T(this,ks).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(s)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(T(this,Je).addObserver(this),Tp(T(this,Je),this.options)?Be(this,st,dl).call(this):this.updateResult(),Be(this,st,Bd).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Hd(T(this,Je),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Hd(T(this,Je),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Be(this,st,qd).call(this),Be(this,st,Vd).call(this),T(this,Je).removeObserver(this)}setOptions(t){const s=this.options,i=T(this,Je);if(this.options=T(this,fr).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Gr(this.options.enabled,T(this,Je))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Be(this,st,Wd).call(this),T(this,Je).setOptions(this.options),s._defaulted&&!hc(this.options,s)&&T(this,fr).getQueryCache().notify({type:"observerOptionsUpdated",query:T(this,Je),observer:this});const l=this.hasListeners();l&&Rp(T(this,Je),i,this.options,s)&&Be(this,st,dl).call(this),this.updateResult(),l&&(T(this,Je)!==i||Gr(this.options.enabled,T(this,Je))!==Gr(s.enabled,T(this,Je))||Ps(this.options.staleTime,T(this,Je))!==Ps(s.staleTime,T(this,Je)))&&Be(this,st,Id).call(this);const o=Be(this,st,Fd).call(this);l&&(T(this,Je)!==i||Gr(this.options.enabled,T(this,Je))!==Gr(s.enabled,T(this,Je))||o!==T(this,Ss))&&Be(this,st,Ud).call(this,o)}getOptimisticResult(t){const s=T(this,fr).getQueryCache().build(T(this,fr),t),i=this.createResult(s,t);return Mw(this,i)&&(ue(this,Xt,i),ue(this,da,this.options),ue(this,li,T(this,Je).state)),i}getCurrentResult(){return T(this,Xt)}trackResult(t,s){return new Proxy(t,{get:(i,l)=>(this.trackProp(l),s==null||s(l),Reflect.get(i,l))})}trackProp(t){T(this,ma).add(t)}getCurrentQuery(){return T(this,Je)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const s=T(this,fr).defaultQueryOptions(t),i=T(this,fr).getQueryCache().build(T(this,fr),s);return i.fetch().then(()=>this.createResult(i,s))}fetch(t){return Be(this,st,dl).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),T(this,Xt)))}createResult(t,s){var te;const i=T(this,Je),l=this.options,o=T(this,Xt),u=T(this,li),f=T(this,da),y=t!==i?t.state:T(this,jl),{state:g}=t;let v={...g},w=!1,N;if(s._optimisticResults){const pe=this.hasListeners(),Le=!pe&&Tp(t,s),be=pe&&Rp(t,i,s,l);(Le||be)&&(v={...v,...uy(g.data,t.options)}),s._optimisticResults==="isRestoring"&&(v.fetchStatus="idle")}let{error:S,errorUpdatedAt:x,status:k}=v;N=v.data;let P=!1;if(s.placeholderData!==void 0&&N===void 0&&k==="pending"){let pe;o!=null&&o.isPlaceholderData&&s.placeholderData===(f==null?void 0:f.placeholderData)?(pe=o.data,P=!0):pe=typeof s.placeholderData=="function"?s.placeholderData((te=T(this,fa))==null?void 0:te.state.data,T(this,fa)):s.placeholderData,pe!==void 0&&(k="success",N=$d(o==null?void 0:o.data,pe,s),w=!0)}if(s.select&&N!==void 0&&!P)if(o&&N===(u==null?void 0:u.data)&&s.select===T(this,Tl))N=T(this,ha);else try{ue(this,Tl,s.select),N=s.select(N),N=$d(o==null?void 0:o.data,N,s),ue(this,ha,N),ue(this,Ns,null)}catch(pe){ue(this,Ns,pe)}T(this,Ns)&&(S=T(this,Ns),N=T(this,ha),x=Date.now(),k="error");const B=v.fetchStatus==="fetching",D=k==="pending",H=k==="error",V=D&&B,A=N!==void 0,le={status:k,fetchStatus:v.fetchStatus,isPending:D,isSuccess:k==="success",isError:H,isInitialLoading:V,isLoading:V,data:N,dataUpdatedAt:v.dataUpdatedAt,error:S,errorUpdatedAt:x,failureCount:v.fetchFailureCount,failureReason:v.fetchFailureReason,errorUpdateCount:v.errorUpdateCount,isFetched:v.dataUpdateCount>0||v.errorUpdateCount>0,isFetchedAfterMount:v.dataUpdateCount>y.dataUpdateCount||v.errorUpdateCount>y.errorUpdateCount,isFetching:B,isRefetching:B&&!D,isLoadingError:H&&!A,isPaused:v.fetchStatus==="paused",isPlaceholderData:w,isRefetchError:H&&A,isStale:yh(t,s),refetch:this.refetch,promise:T(this,ks)};if(this.options.experimental_prefetchInRender){const pe=Se=>{le.status==="error"?Se.reject(le.error):le.data!==void 0&&Se.resolve(le.data)},Le=()=>{const Se=ue(this,ks,le.promise=Md());pe(Se)},be=T(this,ks);switch(be.status){case"pending":t.queryHash===i.queryHash&&pe(be);break;case"fulfilled":(le.status==="error"||le.data!==be.value)&&Le();break;case"rejected":(le.status!=="error"||le.error!==be.reason)&&Le();break}}return le}updateResult(){const t=T(this,Xt),s=this.createResult(T(this,Je),this.options);if(ue(this,li,T(this,Je).state),ue(this,da,this.options),T(this,li).data!==void 0&&ue(this,fa,T(this,Je)),hc(s,t))return;ue(this,Xt,s);const i=()=>{if(!t)return!0;const{notifyOnChangeProps:l}=this.options,o=typeof l=="function"?l():l;if(o==="all"||!o&&!T(this,ma).size)return!0;const u=new Set(o??T(this,ma));return this.options.throwOnError&&u.add("error"),Object.keys(T(this,Xt)).some(f=>{const m=f;return T(this,Xt)[m]!==t[m]&&u.has(m)})};Be(this,st,hy).call(this,{listeners:i()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Be(this,st,Bd).call(this)}},fr=new WeakMap,Je=new WeakMap,jl=new WeakMap,Xt=new WeakMap,li=new WeakMap,da=new WeakMap,ks=new WeakMap,Ns=new WeakMap,Tl=new WeakMap,ha=new WeakMap,fa=new WeakMap,oi=new WeakMap,ci=new WeakMap,Ss=new WeakMap,ma=new WeakMap,st=new WeakSet,dl=function(t){Be(this,st,Wd).call(this);let s=T(this,Je).fetch(this.options,t);return t!=null&&t.throwOnError||(s=s.catch(er)),s},Id=function(){Be(this,st,qd).call(this);const t=Ps(this.options.staleTime,T(this,Je));if(di||T(this,Xt).isStale||!zd(t))return;const i=ry(T(this,Xt).dataUpdatedAt,t)+1;ue(this,oi,setTimeout(()=>{T(this,Xt).isStale||this.updateResult()},i))},Fd=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(T(this,Je)):this.options.refetchInterval)??!1},Ud=function(t){Be(this,st,Vd).call(this),ue(this,Ss,t),!(di||Gr(this.options.enabled,T(this,Je))===!1||!zd(T(this,Ss))||T(this,Ss)===0)&&ue(this,ci,setInterval(()=>{(this.options.refetchIntervalInBackground||gh.isFocused())&&Be(this,st,dl).call(this)},T(this,Ss)))},Bd=function(){Be(this,st,Id).call(this),Be(this,st,Ud).call(this,Be(this,st,Fd).call(this))},qd=function(){T(this,oi)&&(clearTimeout(T(this,oi)),ue(this,oi,void 0))},Vd=function(){T(this,ci)&&(clearInterval(T(this,ci)),ue(this,ci,void 0))},Wd=function(){const t=T(this,fr).getQueryCache().build(T(this,fr),this.options);if(t===T(this,Je))return;const s=T(this,Je);ue(this,Je,t),ue(this,jl,t.state),this.hasListeners()&&(s==null||s.removeObserver(this),t.addObserver(this))},hy=function(t){Lt.batch(()=>{t.listeners&&this.listeners.forEach(s=>{s(T(this,Xt))}),T(this,fr).getQueryCache().notify({query:T(this,Je),type:"observerResultsUpdated"})})},Zg);function $w(r,t){return Gr(t.enabled,r)!==!1&&r.state.data===void 0&&!(r.state.status==="error"&&t.retryOnMount===!1)}function Tp(r,t){return $w(r,t)||r.state.data!==void 0&&Hd(r,t,t.refetchOnMount)}function Hd(r,t,s){if(Gr(t.enabled,r)!==!1&&Ps(t.staleTime,r)!=="static"){const i=typeof s=="function"?s(r):s;return i==="always"||i!==!1&&yh(r,t)}return!1}function Rp(r,t,s,i){return(r!==t||Gr(i.enabled,r)===!1)&&(!s.suspense||r.state.status!=="error")&&yh(r,s)}function yh(r,t){return Gr(t.enabled,r)!==!1&&r.isStaleByTime(Ps(t.staleTime,r))}function Mw(r,t){return!hc(r.getCurrentResult(),t)}var Es,Cs,mr,Ln,zn,ic,Kd,Xg,Iw=(Xg=class extends ga{constructor(s,i){super();je(this,zn);je(this,Es);je(this,Cs);je(this,mr);je(this,Ln);ue(this,Es,s),this.setOptions(i),this.bindMethods(),Be(this,zn,ic).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(s){var l;const i=this.options;this.options=T(this,Es).defaultMutationOptions(s),hc(this.options,i)||T(this,Es).getMutationCache().notify({type:"observerOptionsUpdated",mutation:T(this,mr),observer:this}),i!=null&&i.mutationKey&&this.options.mutationKey&&hi(i.mutationKey)!==hi(this.options.mutationKey)?this.reset():((l=T(this,mr))==null?void 0:l.state.status)==="pending"&&T(this,mr).setOptions(this.options)}onUnsubscribe(){var s;this.hasListeners()||(s=T(this,mr))==null||s.removeObserver(this)}onMutationUpdate(s){Be(this,zn,ic).call(this),Be(this,zn,Kd).call(this,s)}getCurrentResult(){return T(this,Cs)}reset(){var s;(s=T(this,mr))==null||s.removeObserver(this),ue(this,mr,void 0),Be(this,zn,ic).call(this),Be(this,zn,Kd).call(this)}mutate(s,i){var l;return ue(this,Ln,i),(l=T(this,mr))==null||l.removeObserver(this),ue(this,mr,T(this,Es).getMutationCache().build(T(this,Es),this.options)),T(this,mr).addObserver(this),T(this,mr).execute(s)}},Es=new WeakMap,Cs=new WeakMap,mr=new WeakMap,Ln=new WeakMap,zn=new WeakSet,ic=function(){var i;const s=((i=T(this,mr))==null?void 0:i.state)??dy();ue(this,Cs,{...s,isPending:s.status==="pending",isSuccess:s.status==="success",isError:s.status==="error",isIdle:s.status==="idle",mutate:this.mutate,reset:this.reset})},Kd=function(s){Lt.batch(()=>{var i,l,o,u,f,m,y,g;if(T(this,Ln)&&this.hasListeners()){const v=T(this,Cs).variables,w=T(this,Cs).context;(s==null?void 0:s.type)==="success"?((l=(i=T(this,Ln)).onSuccess)==null||l.call(i,s.data,v,w),(u=(o=T(this,Ln)).onSettled)==null||u.call(o,s.data,null,v,w)):(s==null?void 0:s.type)==="error"&&((m=(f=T(this,Ln)).onError)==null||m.call(f,s.error,v,w),(g=(y=T(this,Ln)).onSettled)==null||g.call(y,void 0,s.error,v,w))}this.listeners.forEach(v=>{v(T(this,Cs))})})},Xg),xd={exports:{}},rl={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Op;function Fw(){if(Op)return rl;Op=1;var r=fh(),t=Symbol.for("react.element"),s=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,l=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function u(f,m,y){var g,v={},w=null,N=null;y!==void 0&&(w=""+y),m.key!==void 0&&(w=""+m.key),m.ref!==void 0&&(N=m.ref);for(g in m)i.call(m,g)&&!o.hasOwnProperty(g)&&(v[g]=m[g]);if(f&&f.defaultProps)for(g in m=f.defaultProps,m)v[g]===void 0&&(v[g]=m[g]);return{$$typeof:t,type:f,key:w,ref:N,props:v,_owner:l.current}}return rl.Fragment=s,rl.jsx=u,rl.jsxs=u,rl}var Lp;function Uw(){return Lp||(Lp=1,xd.exports=Fw()),xd.exports}var vh=Uw();const d=vh.jsx,b=vh.jsxs,kr=vh.Fragment;var fy=L.createContext(void 0),Ol=r=>{const t=L.useContext(fy);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Bw=({client:r,children:t})=>(L.useEffect(()=>(r.mount(),()=>{r.unmount()}),[r]),d(fy.Provider,{value:r,children:t})),my=L.createContext(!1),qw=()=>L.useContext(my);my.Provider;function Vw(){let r=!1;return{clearReset:()=>{r=!1},reset:()=>{r=!0},isReset:()=>r}}var Ww=L.createContext(Vw()),Hw=()=>L.useContext(Ww),Kw=(r,t)=>{(r.suspense||r.throwOnError||r.experimental_prefetchInRender)&&(t.isReset()||(r.retryOnMount=!1))},Qw=r=>{L.useEffect(()=>{r.clearReset()},[r])},Gw=({result:r,errorResetBoundary:t,throwOnError:s,query:i,suspense:l})=>r.isError&&!t.isReset()&&!r.isFetching&&i&&(l&&r.data===void 0||iy(s,[r.error,i])),Jw=r=>{if(r.suspense){const t=i=>i==="static"?i:Math.max(i??1e3,1e3),s=r.staleTime;r.staleTime=typeof s=="function"?(...i)=>t(s(...i)):t(s),typeof r.gcTime=="number"&&(r.gcTime=Math.max(r.gcTime,1e3))}},Yw=(r,t)=>r.isLoading&&r.isFetching&&!t,Zw=(r,t)=>(r==null?void 0:r.suspense)&&t.isPending,Ap=(r,t,s)=>t.fetchOptimistic(r).catch(()=>{s.clearReset()});function Xw(r,t,s){var v,w,N,S,x;const i=qw(),l=Hw(),o=Ol(),u=o.defaultQueryOptions(r);(w=(v=o.getDefaultOptions().queries)==null?void 0:v._experimental_beforeQuery)==null||w.call(v,u),u._optimisticResults=i?"isRestoring":"optimistic",Jw(u),Kw(u,l),Qw(l);const f=!o.getQueryCache().get(u.queryHash),[m]=L.useState(()=>new t(o,u)),y=m.getOptimisticResult(u),g=!i&&r.subscribed!==!1;if(L.useSyncExternalStore(L.useCallback(k=>{const P=g?m.subscribe(Lt.batchCalls(k)):er;return m.updateResult(),P},[m,g]),()=>m.getCurrentResult(),()=>m.getCurrentResult()),L.useEffect(()=>{m.setOptions(u)},[u,m]),Zw(u,y))throw Ap(u,m,l);if(Gw({result:y,errorResetBoundary:l,throwOnError:u.throwOnError,query:o.getQueryCache().get(u.queryHash),suspense:u.suspense}))throw y.error;if((S=(N=o.getDefaultOptions().queries)==null?void 0:N._experimental_afterQuery)==null||S.call(N,u,y),u.experimental_prefetchInRender&&!di&&Yw(y,i)){const k=f?Ap(u,m,l):(x=o.getQueryCache().get(u.queryHash))==null?void 0:x.promise;k==null||k.catch(er).finally(()=>{m.updateResult()})}return u.notifyOnChangeProps?y:m.trackResult(y)}function eb(r,t){return Xw(r,Dw)}function wh(r,t){const s=Ol(),[i]=L.useState(()=>new Iw(s,r));L.useEffect(()=>{i.setOptions(r)},[i,r]);const l=L.useSyncExternalStore(L.useCallback(u=>i.subscribe(Lt.batchCalls(u)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),o=L.useCallback((u,f)=>{i.mutate(u,f).catch(er)},[i]);if(l.error&&iy(i.options.throwOnError,[l.error]))throw l.error;return{...l,mutate:o,mutateAsync:l.mutate}}var nl={},zp;function tb(){if(zp)return nl;zp=1,Object.defineProperty(nl,"__esModule",{value:!0}),nl.parse=u,nl.serialize=y;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,s=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,o=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function u(w,N){const S=new o,x=w.length;if(x<2)return S;const k=(N==null?void 0:N.decode)||g;let P=0;do{const B=w.indexOf("=",P);if(B===-1)break;const D=w.indexOf(";",P),H=D===-1?x:D;if(B>H){P=w.lastIndexOf(";",B-1)+1;continue}const V=f(w,P,B),A=m(w,B,V),ne=w.slice(V,A);if(S[ne]===void 0){let le=f(w,B+1,H),te=m(w,H,le);const pe=k(w.slice(le,te));S[ne]=pe}P=H+1}while(P<x);return S}function f(w,N,S){do{const x=w.charCodeAt(N);if(x!==32&&x!==9)return N}while(++N<S);return S}function m(w,N,S){for(;N>S;){const x=w.charCodeAt(--N);if(x!==32&&x!==9)return N+1}return S}function y(w,N,S){const x=(S==null?void 0:S.encode)||encodeURIComponent;if(!r.test(w))throw new TypeError(`argument name is invalid: ${w}`);const k=x(N);if(!t.test(k))throw new TypeError(`argument val is invalid: ${N}`);let P=w+"="+k;if(!S)return P;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);P+="; Max-Age="+S.maxAge}if(S.domain){if(!s.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);P+="; Domain="+S.domain}if(S.path){if(!i.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);P+="; Path="+S.path}if(S.expires){if(!v(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);P+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(P+="; HttpOnly"),S.secure&&(P+="; Secure"),S.partitioned&&(P+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":P+="; Priority=Low";break;case"medium":P+="; Priority=Medium";break;case"high":P+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":P+="; SameSite=Strict";break;case"lax":P+="; SameSite=Lax";break;case"none":P+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return P}function g(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function v(w){return l.call(w)==="[object Date]"}return nl}tb();/**
 * react-router v7.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var py=r=>{throw TypeError(r)},rb=(r,t,s)=>t.has(r)||py("Cannot "+s),kd=(r,t,s)=>(rb(r,t,"read from private field"),s?s.call(r):t.get(r)),nb=(r,t,s)=>t.has(r)?py("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(r):t.set(r,s),Dp="popstate";function sb(r={}){function t(i,l){let{pathname:o,search:u,hash:f}=i.location;return xl("",{pathname:o,search:u,hash:f},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function s(i,l){return typeof l=="string"?l:js(l)}return ab(t,s,null,r)}function qe(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function kt(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ib(){return Math.random().toString(36).substring(2,10)}function $p(r,t){return{usr:r.state,key:r.key,idx:t}}function xl(r,t,s=null,i){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?Ts(t):t,state:s,key:t&&t.key||i||ib()}}function js({pathname:r="/",search:t="",hash:s=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),s&&s!=="#"&&(r+=s.charAt(0)==="#"?s:"#"+s),r}function Ts(r){let t={};if(r){let s=r.indexOf("#");s>=0&&(t.hash=r.substring(s),r=r.substring(0,s));let i=r.indexOf("?");i>=0&&(t.search=r.substring(i),r=r.substring(0,i)),r&&(t.pathname=r)}return t}function ab(r,t,s,i={}){let{window:l=document.defaultView,v5Compat:o=!1}=i,u=l.history,f="POP",m=null,y=g();y==null&&(y=0,u.replaceState({...u.state,idx:y},""));function g(){return(u.state||{idx:null}).idx}function v(){f="POP";let k=g(),P=k==null?null:k-y;y=k,m&&m({action:f,location:x.location,delta:P})}function w(k,P){f="PUSH";let B=xl(x.location,k,P);y=g()+1;let D=$p(B,y),H=x.createHref(B);try{u.pushState(D,"",H)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;l.location.assign(H)}o&&m&&m({action:f,location:x.location,delta:1})}function N(k,P){f="REPLACE";let B=xl(x.location,k,P);y=g();let D=$p(B,y),H=x.createHref(B);u.replaceState(D,"",H),o&&m&&m({action:f,location:x.location,delta:0})}function S(k){return gy(k)}let x={get action(){return f},get location(){return r(l,u)},listen(k){if(m)throw new Error("A history only accepts one active listener");return l.addEventListener(Dp,v),m=k,()=>{l.removeEventListener(Dp,v),m=null}},createHref(k){return t(l,k)},createURL:S,encodeLocation(k){let P=S(k);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:w,replace:N,go(k){return u.go(k)}};return x}function gy(r,t=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),qe(s,"No window.location.(origin|href) available to create URL");let i=typeof r=="string"?r:js(r);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=s+i),new URL(i,s)}var hl,Mp=class{constructor(r){if(nb(this,hl,new Map),r)for(let[t,s]of r)this.set(t,s)}get(r){if(kd(this,hl).has(r))return kd(this,hl).get(r);if(r.defaultValue!==void 0)return r.defaultValue;throw new Error("No value found for context")}set(r,t){kd(this,hl).set(r,t)}};hl=new WeakMap;var lb=new Set(["lazy","caseSensitive","path","id","index","children"]);function ob(r){return lb.has(r)}var cb=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function ub(r){return cb.has(r)}function db(r){return r.index===!0}function mc(r,t,s=[],i={}){return r.map((l,o)=>{let u=[...s,String(o)],f=typeof l.id=="string"?l.id:u.join("-");if(qe(l.index!==!0||!l.children,"Cannot specify children on an index route"),qe(!i[f],`Found a route id collision on id "${f}".  Route id's must be globally unique within Data Router usages`),db(l)){let m={...l,...t(l),id:f};return i[f]=m,m}else{let m={...l,...t(l),id:f,children:void 0};return i[f]=m,l.children&&(m.children=mc(l.children,t,u,i)),m}})}function ps(r,t,s="/"){return ac(r,t,s,!1)}function ac(r,t,s,i){let l=typeof t=="string"?Ts(t):t,o=zr(l.pathname||"/",s);if(o==null)return null;let u=yy(r);fb(u);let f=null;for(let m=0;f==null&&m<u.length;++m){let y=Nb(o);f=xb(u[m],y,i)}return f}function hb(r,t){let{route:s,pathname:i,params:l}=r;return{id:s.id,pathname:i,params:l,data:t[s.id],handle:s.handle}}function yy(r,t=[],s=[],i=""){let l=(o,u,f)=>{let m={relativePath:f===void 0?o.path||"":f,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};m.relativePath.startsWith("/")&&(qe(m.relativePath.startsWith(i),`Absolute route path "${m.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(i.length));let y=fn([i,m.relativePath]),g=s.concat(m);o.children&&o.children.length>0&&(qe(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),yy(o.children,t,g,y)),!(o.path==null&&!o.index)&&t.push({path:y,score:bb(y,o.index),routesMeta:g})};return r.forEach((o,u)=>{var f;if(o.path===""||!((f=o.path)!=null&&f.includes("?")))l(o,u);else for(let m of vy(o.path))l(o,u,m)}),t}function vy(r){let t=r.split("/");if(t.length===0)return[];let[s,...i]=t,l=s.endsWith("?"),o=s.replace(/\?$/,"");if(i.length===0)return l?[o,""]:[o];let u=vy(i.join("/")),f=[];return f.push(...u.map(m=>m===""?o:[o,m].join("/"))),l&&f.push(...u),f.map(m=>r.startsWith("/")&&m===""?"/":m)}function fb(r){r.sort((t,s)=>t.score!==s.score?s.score-t.score:_b(t.routesMeta.map(i=>i.childrenIndex),s.routesMeta.map(i=>i.childrenIndex)))}var mb=/^:[\w-]+$/,pb=3,gb=2,yb=1,vb=10,wb=-2,Ip=r=>r==="*";function bb(r,t){let s=r.split("/"),i=s.length;return s.some(Ip)&&(i+=wb),t&&(i+=gb),s.filter(l=>!Ip(l)).reduce((l,o)=>l+(mb.test(o)?pb:o===""?yb:vb),i)}function _b(r,t){return r.length===t.length&&r.slice(0,-1).every((i,l)=>i===t[l])?r[r.length-1]-t[t.length-1]:0}function xb(r,t,s=!1){let{routesMeta:i}=r,l={},o="/",u=[];for(let f=0;f<i.length;++f){let m=i[f],y=f===i.length-1,g=o==="/"?t:t.slice(o.length)||"/",v=pc({path:m.relativePath,caseSensitive:m.caseSensitive,end:y},g),w=m.route;if(!v&&y&&s&&!i[i.length-1].route.index&&(v=pc({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},g)),!v)return null;Object.assign(l,v.params),u.push({params:l,pathname:fn([o,v.pathname]),pathnameBase:Cb(fn([o,v.pathnameBase])),route:w}),v.pathnameBase!=="/"&&(o=fn([o,v.pathnameBase]))}return u}function pc(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[s,i]=kb(r.path,r.caseSensitive,r.end),l=t.match(s);if(!l)return null;let o=l[0],u=o.replace(/(.)\/+$/,"$1"),f=l.slice(1);return{params:i.reduce((y,{paramName:g,isOptional:v},w)=>{if(g==="*"){let S=f[w]||"";u=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const N=f[w];return v&&!N?y[g]=void 0:y[g]=(N||"").replace(/%2F/g,"/"),y},{}),pathname:o,pathnameBase:u,pattern:r}}function kb(r,t=!1,s=!0){kt(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let i=[],l="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,m)=>(i.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(i.push({paramName:"*"}),l+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?l+="\\/*$":r!==""&&r!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),i]}function Nb(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return kt(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function zr(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,i=r.charAt(s);return i&&i!=="/"?null:r.slice(s)||"/"}function Sb(r,t="/"){let{pathname:s,search:i="",hash:l=""}=typeof r=="string"?Ts(r):r;return{pathname:s?s.startsWith("/")?s:Eb(s,t):t,search:Pb(i),hash:jb(l)}}function Eb(r,t){let s=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(l=>{l===".."?s.length>1&&s.pop():l!=="."&&s.push(l)}),s.length>1?s.join("/"):"/"}function Nd(r,t,s,i){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function wy(r){return r.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function Sc(r){let t=wy(r);return t.map((s,i)=>i===t.length-1?s.pathname:s.pathnameBase)}function Ec(r,t,s,i=!1){let l;typeof r=="string"?l=Ts(r):(l={...r},qe(!l.pathname||!l.pathname.includes("?"),Nd("?","pathname","search",l)),qe(!l.pathname||!l.pathname.includes("#"),Nd("#","pathname","hash",l)),qe(!l.search||!l.search.includes("#"),Nd("#","search","hash",l)));let o=r===""||l.pathname==="",u=o?"/":l.pathname,f;if(u==null)f=s;else{let v=t.length-1;if(!i&&u.startsWith("..")){let w=u.split("/");for(;w[0]==="..";)w.shift(),v-=1;l.pathname=w.join("/")}f=v>=0?t[v]:"/"}let m=Sb(l,f),y=u&&u!=="/"&&u.endsWith("/"),g=(o||u===".")&&s.endsWith("/");return!m.pathname.endsWith("/")&&(y||g)&&(m.pathname+="/"),m}var fn=r=>r.join("/").replace(/\/\/+/g,"/"),Cb=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Pb=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,jb=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,gc=class{constructor(r,t,s,i=!1){this.status=r,this.statusText=t||"",this.internal=i,s instanceof Error?(this.data=s.toString(),this.error=s):this.data=s}};function kl(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var by=["POST","PUT","PATCH","DELETE"],Tb=new Set(by),Rb=["GET",...by],Ob=new Set(Rb),Lb=new Set([301,302,303,307,308]),Ab=new Set([307,308]),Sd={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},zb={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},sl={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},bh=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Db=r=>({hasErrorBoundary:!!r.hasErrorBoundary}),_y="remix-router-transitions",xy=Symbol("ResetLoaderData");function $b(r){const t=r.window?r.window:typeof window<"u"?window:void 0,s=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u";qe(r.routes.length>0,"You must provide a non-empty routes array to createRouter");let i=r.hydrationRouteProperties||[],l=r.mapRouteProperties||Db,o={},u=mc(r.routes,l,void 0,o),f,m=r.basename||"/",y=r.dataStrategy||Bb,g={unstable_middleware:!1,...r.future},v=null,w=new Set,N=null,S=null,x=null,k=r.hydrationData!=null,P=ps(u,r.history.location,m),B=!1,D=null,H;if(P==null&&!r.patchRoutesOnNavigation){let R=Ar(404,{pathname:r.history.location.pathname}),{matches:$,route:q}=Yp(u);H=!0,P=$,D={[q.id]:R}}else if(P&&!r.hydrationData&&As(P,u,r.history.location.pathname).active&&(P=null),P)if(P.some(R=>R.route.lazy))H=!1;else if(!P.some(R=>R.route.loader))H=!0;else{let R=r.hydrationData?r.hydrationData.loaderData:null,$=r.hydrationData?r.hydrationData.errors:null;if($){let q=P.findIndex(J=>$[J.route.id]!==void 0);H=P.slice(0,q+1).every(J=>!Gd(J.route,R,$))}else H=P.every(q=>!Gd(q.route,R,$))}else{H=!1,P=[];let R=As(null,u,r.history.location.pathname);R.active&&R.matches&&(B=!0,P=R.matches)}let V,A={historyAction:r.history.action,location:r.history.location,matches:P,initialized:H,navigation:Sd,restoreScrollPosition:r.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:r.hydrationData&&r.hydrationData.loaderData||{},actionData:r.hydrationData&&r.hydrationData.actionData||null,errors:r.hydrationData&&r.hydrationData.errors||D,fetchers:new Map,blockers:new Map},ne="POP",le=!1,te,pe=!1,Le=new Map,be=null,Se=!1,ye=!1,ze=new Set,ke=new Map,Oe=0,Z=-1,ae=new Map,C=new Set,K=new Map,ce=new Map,Ce=new Set,Ae=new Map,Ye,Ue=null;function et(){if(v=r.history.listen(({action:R,location:$,delta:q})=>{if(Ye){Ye(),Ye=void 0;return}kt(Ae.size===0||q!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let J=yn({currentLocation:A.location,nextLocation:$,historyAction:R});if(J&&q!=null){let se=new Promise(xe=>{Ye=xe});r.history.go(q*-1),en(J,{state:"blocked",location:$,proceed(){en(J,{state:"proceeding",proceed:void 0,reset:void 0,location:$}),se.then(()=>r.history.go(q))},reset(){let xe=new Map(A.blockers);xe.set(J,sl),_t({blockers:xe})}});return}return rr(R,$)}),s){Xb(t,Le);let R=()=>e_(t,Le);t.addEventListener("pagehide",R),be=()=>t.removeEventListener("pagehide",R)}return A.initialized||rr("POP",A.location,{initialHydration:!0}),V}function Qe(){v&&v(),be&&be(),w.clear(),te&&te.abort(),A.fetchers.forEach((R,$)=>Pt($)),A.blockers.forEach((R,$)=>gn($))}function St(R){return w.add(R),()=>w.delete(R)}function _t(R,$={}){A={...A,...R};let q=[],J=[];A.fetchers.forEach((se,xe)=>{se.state==="idle"&&(Ce.has(xe)?q.push(xe):J.push(xe))}),Ce.forEach(se=>{!A.fetchers.has(se)&&!ke.has(se)&&q.push(se)}),[...w].forEach(se=>se(A,{deletedFetchers:q,viewTransitionOpts:$.viewTransitionOpts,flushSync:$.flushSync===!0})),q.forEach(se=>Pt(se)),J.forEach(se=>A.fetchers.delete(se))}function gr(R,$,{flushSync:q}={}){var Ne,$e;let J=A.actionData!=null&&A.navigation.formMethod!=null&&xr(A.navigation.formMethod)&&A.navigation.state==="loading"&&((Ne=R.state)==null?void 0:Ne._isRedirect)!==!0,se;$.actionData?Object.keys($.actionData).length>0?se=$.actionData:se=null:J?se=A.actionData:se=null;let xe=$.loaderData?Gp(A.loaderData,$.loaderData,$.matches||[],$.errors):A.loaderData,Pe=A.blockers;Pe.size>0&&(Pe=new Map(Pe),Pe.forEach((Ee,Ie)=>Pe.set(Ie,sl)));let de=le===!0||A.navigation.formMethod!=null&&xr(A.navigation.formMethod)&&(($e=R.state)==null?void 0:$e._isRedirect)!==!0;f&&(u=f,f=void 0),Se||ne==="POP"||(ne==="PUSH"?r.history.push(R,R.state):ne==="REPLACE"&&r.history.replace(R,R.state));let _e;if(ne==="POP"){let Ee=Le.get(A.location.pathname);Ee&&Ee.has(R.pathname)?_e={currentLocation:A.location,nextLocation:R}:Le.has(R.pathname)&&(_e={currentLocation:R,nextLocation:A.location})}else if(pe){let Ee=Le.get(A.location.pathname);Ee?Ee.add(R.pathname):(Ee=new Set([R.pathname]),Le.set(A.location.pathname,Ee)),_e={currentLocation:A.location,nextLocation:R}}_t({...$,actionData:se,loaderData:xe,historyAction:ne,location:R,initialized:!0,navigation:Sd,revalidation:"idle",restoreScrollPosition:_a(R,$.matches||A.matches),preventScrollReset:de,blockers:Pe},{viewTransitionOpts:_e,flushSync:q===!0}),ne="POP",le=!1,pe=!1,Se=!1,ye=!1,Ue==null||Ue.resolve(),Ue=null}async function In(R,$){if(typeof R=="number"){r.history.go(R);return}let q=Qd(A.location,A.matches,m,R,$==null?void 0:$.fromRouteId,$==null?void 0:$.relative),{path:J,submission:se,error:xe}=Fp(!1,q,$),Pe=A.location,de=xl(A.location,J,$&&$.state);de={...de,...r.history.encodeLocation(de)};let _e=$&&$.replace!=null?$.replace:void 0,Ne="PUSH";_e===!0?Ne="REPLACE":_e===!1||se!=null&&xr(se.formMethod)&&se.formAction===A.location.pathname+A.location.search&&(Ne="REPLACE");let $e=$&&"preventScrollReset"in $?$.preventScrollReset===!0:void 0,Ee=($&&$.flushSync)===!0,Ie=yn({currentLocation:Pe,nextLocation:de,historyAction:Ne});if(Ie){en(Ie,{state:"blocked",location:de,proceed(){en(Ie,{state:"proceeding",proceed:void 0,reset:void 0,location:de}),In(R,$)},reset(){let Xe=new Map(A.blockers);Xe.set(Ie,sl),_t({blockers:Xe})}});return}await rr(Ne,de,{submission:se,pendingError:xe,preventScrollReset:$e,replace:$&&$.replace,enableViewTransition:$&&$.viewTransition,flushSync:Ee})}function Fn(){Ue||(Ue=t_()),X(),_t({revalidation:"loading"});let R=Ue.promise;return A.navigation.state==="submitting"?R:A.navigation.state==="idle"?(rr(A.historyAction,A.location,{startUninterruptedRevalidation:!0}),R):(rr(ne||A.historyAction,A.navigation.location,{overrideNavigation:A.navigation,enableViewTransition:pe===!0}),R)}async function rr(R,$,q){te&&te.abort(),te=null,ne=R,Se=(q&&q.startUninterruptedRevalidation)===!0,qn(A.location,A.matches),le=(q&&q.preventScrollReset)===!0,pe=(q&&q.enableViewTransition)===!0;let J=f||u,se=q&&q.overrideNavigation,xe=q!=null&&q.initialHydration&&A.matches&&A.matches.length>0&&!B?A.matches:ps(J,$,m),Pe=(q&&q.flushSync)===!0;if(xe&&A.initialized&&!ye&&Qb(A.location,$)&&!(q&&q.submission&&xr(q.submission.formMethod))){gr($,{matches:xe},{flushSync:Pe});return}let de=As(xe,J,$.pathname);if(de.active&&de.matches&&(xe=de.matches),!xe){let{error:jt,notFoundMatches:Qt,route:Ge}=Ls($.pathname);gr($,{matches:Qt,loaderData:{},errors:{[Ge.id]:jt}},{flushSync:Pe});return}te=new AbortController;let _e=Yi(r.history,$,te.signal,q&&q.submission),Ne=new Mp(r.unstable_getContext?await r.unstable_getContext():void 0),$e;if(q&&q.pendingError)$e=[Zs(xe).route.id,{type:"error",error:q.pendingError}];else if(q&&q.submission&&xr(q.submission.formMethod)){let jt=await Os(_e,$,q.submission,xe,Ne,de.active,q&&q.initialHydration===!0,{replace:q.replace,flushSync:Pe});if(jt.shortCircuited)return;if(jt.pendingActionResult){let[Qt,Ge]=jt.pendingActionResult;if(_r(Ge)&&kl(Ge.error)&&Ge.error.status===404){te=null,gr($,{matches:jt.matches,loaderData:{},errors:{[Qt]:Ge.error}});return}}xe=jt.matches||xe,$e=jt.pendingActionResult,se=Ed($,q.submission),Pe=!1,de.active=!1,_e=Yi(r.history,_e.url,_e.signal)}let{shortCircuited:Ee,matches:Ie,loaderData:Xe,errors:yt}=await yi(_e,$,xe,Ne,de.active,se,q&&q.submission,q&&q.fetcherSubmission,q&&q.replace,q&&q.initialHydration===!0,Pe,$e);Ee||(te=null,gr($,{matches:Ie||xe,...Jp($e),loaderData:Xe,errors:yt}))}async function Os(R,$,q,J,se,xe,Pe,de={}){X();let _e=Yb($,q);if(_t({navigation:_e},{flushSync:de.flushSync===!0}),xe){let Ee=await zs(J,$.pathname,R.signal);if(Ee.type==="aborted")return{shortCircuited:!0};if(Ee.type==="error"){let Ie=Zs(Ee.partialMatches).route.id;return{matches:Ee.partialMatches,pendingActionResult:[Ie,{type:"error",error:Ee.error}]}}else if(Ee.matches)J=Ee.matches;else{let{notFoundMatches:Ie,error:Xe,route:yt}=Ls($.pathname);return{matches:Ie,pendingActionResult:[yt.id,{type:"error",error:Xe}]}}}let Ne,$e=fl(J,$);if(!$e.route.action&&!$e.route.lazy)Ne={type:"error",error:Ar(405,{method:R.method,pathname:$.pathname,routeId:$e.route.id})};else{let Ee=Xi(l,o,R,J,$e,Pe?[]:i,se),Ie=await ie(R,Ee,se,null);if(Ne=Ie[$e.route.id],!Ne){for(let Xe of J)if(Ie[Xe.route.id]){Ne=Ie[Xe.route.id];break}}if(R.signal.aborted)return{shortCircuited:!0}}if(ei(Ne)){let Ee;return de&&de.replace!=null?Ee=de.replace:Ee=Hp(Ne.response.headers.get("Location"),new URL(R.url),m)===A.location.pathname+A.location.search,await W(R,Ne,!0,{submission:q,replace:Ee}),{shortCircuited:!0}}if(_r(Ne)){let Ee=Zs(J,$e.route.id);return(de&&de.replace)!==!0&&(ne="PUSH"),{matches:J,pendingActionResult:[Ee.route.id,Ne,$e.route.id]}}return{matches:J,pendingActionResult:[$e.route.id,Ne]}}async function yi(R,$,q,J,se,xe,Pe,de,_e,Ne,$e,Ee){let Ie=xe||Ed($,Pe),Xe=Pe||de||Xp(Ie),yt=!Se&&!Ne;if(se){if(yt){let sr=Un(Ee);_t({navigation:Ie,...sr!==void 0?{actionData:sr}:{}},{flushSync:$e})}let tt=await zs(q,$.pathname,R.signal);if(tt.type==="aborted")return{shortCircuited:!0};if(tt.type==="error"){let sr=Zs(tt.partialMatches).route.id;return{matches:tt.partialMatches,loaderData:{},errors:{[sr]:tt.error}}}else if(tt.matches)q=tt.matches;else{let{error:sr,notFoundMatches:Mr,route:wn}=Ls($.pathname);return{matches:Mr,loaderData:{},errors:{[wn.id]:sr}}}}let jt=f||u,{dsMatches:Qt,revalidatingFetchers:Ge}=Up(R,J,l,o,r.history,A,q,Xe,$,Ne?[]:i,Ne===!0,ye,ze,Ce,K,C,jt,m,r.patchRoutesOnNavigation!=null,Ee);if(Z=++Oe,!r.dataStrategy&&!Qt.some(tt=>tt.shouldLoad)&&Ge.length===0){let tt=mn();return gr($,{matches:q,loaderData:{},errors:Ee&&_r(Ee[1])?{[Ee[0]]:Ee[1].error}:null,...Jp(Ee),...tt?{fetchers:new Map(A.fetchers)}:{}},{flushSync:$e}),{shortCircuited:!0}}if(yt){let tt={};if(!se){tt.navigation=Ie;let sr=Un(Ee);sr!==void 0&&(tt.actionData=sr)}Ge.length>0&&(tt.fetchers=va(Ge)),_t(tt,{flushSync:$e})}Ge.forEach(tt=>{mt(tt.key),tt.controller&&ke.set(tt.key,tt.controller)});let Vn=()=>Ge.forEach(tt=>mt(tt.key));te&&te.signal.addEventListener("abort",Vn);let{loaderResults:tn,fetcherResults:Wn}=await re(Qt,Ge,R,J);if(R.signal.aborted)return{shortCircuited:!0};te&&te.signal.removeEventListener("abort",Vn),Ge.forEach(tt=>ke.delete(tt.key));let nr=Yo(tn);if(nr)return await W(R,nr.result,!0,{replace:_e}),{shortCircuited:!0};if(nr=Yo(Wn),nr)return C.add(nr.key),await W(R,nr.result,!0,{replace:_e}),{shortCircuited:!0};let{loaderData:Ds,errors:lt}=Qp(A,q,tn,Ee,Ge,Wn);Ne&&A.errors&&(lt={...A.errors,...lt});let xa=mn(),$r=pn(Z),$s=xa||$r||Ge.length>0;return{matches:q,loaderData:Ds,errors:lt,...$s?{fetchers:new Map(A.fetchers)}:{}}}function Un(R){if(R&&!_r(R[1]))return{[R[0]]:R[1].data};if(A.actionData)return Object.keys(A.actionData).length===0?null:A.actionData}function va(R){return R.forEach($=>{let q=A.fetchers.get($.key),J=il(void 0,q?q.data:void 0);A.fetchers.set($.key,J)}),new Map(A.fetchers)}async function Bn(R,$,q,J){mt(R);let se=(J&&J.flushSync)===!0,xe=f||u,Pe=Qd(A.location,A.matches,m,q,$,J==null?void 0:J.relative),de=ps(xe,Pe,m),_e=As(de,xe,Pe);if(_e.active&&_e.matches&&(de=_e.matches),!de){Me(R,$,Ar(404,{pathname:Pe}),{flushSync:se});return}let{path:Ne,submission:$e,error:Ee}=Fp(!0,Pe,J);if(Ee){Me(R,$,Ee,{flushSync:se});return}let Ie=fl(de,Ne),Xe=new Mp(r.unstable_getContext?await r.unstable_getContext():void 0),yt=(J&&J.preventScrollReset)===!0;if($e&&xr($e.formMethod)){await j(R,$,Ne,Ie,de,Xe,_e.active,se,yt,$e);return}K.set(R,{routeId:$,path:Ne}),await I(R,$,Ne,Ie,de,Xe,_e.active,se,yt,$e)}async function j(R,$,q,J,se,xe,Pe,de,_e,Ne){X(),K.delete(R);function $e(vt){if(!vt.route.action&&!vt.route.lazy){let At=Ar(405,{method:Ne.formMethod,pathname:q,routeId:$});return Me(R,$,At,{flushSync:de}),!0}return!1}if(!Pe&&$e(J))return;let Ee=A.fetchers.get(R);he(R,Zb(Ne,Ee),{flushSync:de});let Ie=new AbortController,Xe=Yi(r.history,q,Ie.signal,Ne);if(Pe){let vt=await zs(se,q,Xe.signal,R);if(vt.type==="aborted")return;if(vt.type==="error"){Me(R,$,vt.error,{flushSync:de});return}else if(vt.matches){if(se=vt.matches,J=fl(se,q),$e(J))return}else{Me(R,$,Ar(404,{pathname:q}),{flushSync:de});return}}ke.set(R,Ie);let yt=Oe,jt=Xi(l,o,Xe,se,J,i,xe),Ge=(await ie(Xe,jt,xe,R))[J.route.id];if(Xe.signal.aborted){ke.get(R)===Ie&&ke.delete(R);return}if(Ce.has(R)){if(ei(Ge)||_r(Ge)){he(R,hs(void 0));return}}else{if(ei(Ge))if(ke.delete(R),Z>yt){he(R,hs(void 0));return}else return C.add(R),he(R,il(Ne)),W(Xe,Ge,!1,{fetcherSubmission:Ne,preventScrollReset:_e});if(_r(Ge)){Me(R,$,Ge.error);return}}let Vn=A.navigation.location||A.location,tn=Yi(r.history,Vn,Ie.signal),Wn=f||u,nr=A.navigation.state!=="idle"?ps(Wn,A.navigation.location,m):A.matches;qe(nr,"Didn't find any matches after fetcher action");let Ds=++Oe;ae.set(R,Ds);let lt=il(Ne,Ge.data);A.fetchers.set(R,lt);let{dsMatches:xa,revalidatingFetchers:$r}=Up(tn,xe,l,o,r.history,A,nr,Ne,Vn,i,!1,ye,ze,Ce,K,C,Wn,m,r.patchRoutesOnNavigation!=null,[J.route.id,Ge]);$r.filter(vt=>vt.key!==R).forEach(vt=>{let At=vt.key,ql=A.fetchers.get(At),Dc=il(void 0,ql?ql.data:void 0);A.fetchers.set(At,Dc),mt(At),vt.controller&&ke.set(At,vt.controller)}),_t({fetchers:new Map(A.fetchers)});let $s=()=>$r.forEach(vt=>mt(vt.key));Ie.signal.addEventListener("abort",$s);let{loaderResults:tt,fetcherResults:sr}=await re(xa,$r,tn,xe);if(Ie.signal.aborted)return;if(Ie.signal.removeEventListener("abort",$s),ae.delete(R),ke.delete(R),$r.forEach(vt=>ke.delete(vt.key)),A.fetchers.has(R)){let vt=hs(Ge.data);A.fetchers.set(R,vt)}let Mr=Yo(tt);if(Mr)return W(tn,Mr.result,!1,{preventScrollReset:_e});if(Mr=Yo(sr),Mr)return C.add(Mr.key),W(tn,Mr.result,!1,{preventScrollReset:_e});let{loaderData:wn,errors:ir}=Qp(A,nr,tt,void 0,$r,sr);pn(Ds),A.navigation.state==="loading"&&Ds>Z?(qe(ne,"Expected pending action"),te&&te.abort(),gr(A.navigation.location,{matches:nr,loaderData:wn,errors:ir,fetchers:new Map(A.fetchers)})):(_t({errors:ir,loaderData:Gp(A.loaderData,wn,nr,ir),fetchers:new Map(A.fetchers)}),ye=!1)}async function I(R,$,q,J,se,xe,Pe,de,_e,Ne){let $e=A.fetchers.get(R);he(R,il(Ne,$e?$e.data:void 0),{flushSync:de});let Ee=new AbortController,Ie=Yi(r.history,q,Ee.signal);if(Pe){let Ge=await zs(se,q,Ie.signal,R);if(Ge.type==="aborted")return;if(Ge.type==="error"){Me(R,$,Ge.error,{flushSync:de});return}else if(Ge.matches)se=Ge.matches,J=fl(se,q);else{Me(R,$,Ar(404,{pathname:q}),{flushSync:de});return}}ke.set(R,Ee);let Xe=Oe,yt=Xi(l,o,Ie,se,J,i,xe),Qt=(await ie(Ie,yt,xe,R))[J.route.id];if(ke.get(R)===Ee&&ke.delete(R),!Ie.signal.aborted){if(Ce.has(R)){he(R,hs(void 0));return}if(ei(Qt))if(Z>Xe){he(R,hs(void 0));return}else{C.add(R),await W(Ie,Qt,!1,{preventScrollReset:_e});return}if(_r(Qt)){Me(R,$,Qt.error);return}he(R,hs(Qt.data))}}async function W(R,$,q,{submission:J,fetcherSubmission:se,preventScrollReset:xe,replace:Pe}={}){$.response.headers.has("X-Remix-Revalidate")&&(ye=!0);let de=$.response.headers.get("Location");qe(de,"Expected a Location header on the redirect Response"),de=Hp(de,new URL(R.url),m);let _e=xl(A.location,de,{_isRedirect:!0});if(s){let yt=!1;if($.response.headers.has("X-Remix-Reload-Document"))yt=!0;else if(bh.test(de)){const jt=gy(de,!0);yt=jt.origin!==t.location.origin||zr(jt.pathname,m)==null}if(yt){Pe?t.location.replace(de):t.location.assign(de);return}}te=null;let Ne=Pe===!0||$.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:$e,formAction:Ee,formEncType:Ie}=A.navigation;!J&&!se&&$e&&Ee&&Ie&&(J=Xp(A.navigation));let Xe=J||se;if(Ab.has($.response.status)&&Xe&&xr(Xe.formMethod))await rr(Ne,_e,{submission:{...Xe,formAction:de},preventScrollReset:xe||le,enableViewTransition:q?pe:void 0});else{let yt=Ed(_e,J);await rr(Ne,_e,{overrideNavigation:yt,fetcherSubmission:se,preventScrollReset:xe||le,enableViewTransition:q?pe:void 0})}}async function ie(R,$,q,J){let se,xe={};try{se=await qb(y,R,$,J,q,!1)}catch(Pe){return $.filter(de=>de.shouldLoad).forEach(de=>{xe[de.route.id]={type:"error",error:Pe}}),xe}if(R.signal.aborted)return xe;for(let[Pe,de]of Object.entries(se))if(Gb(de)){let _e=de.result;xe[Pe]={type:"redirect",response:Hb(_e,R,Pe,$,m)}}else xe[Pe]=await Wb(de);return xe}async function re(R,$,q,J){let se=ie(q,R,J,null),xe=Promise.all($.map(async _e=>{if(_e.matches&&_e.match&&_e.request&&_e.controller){let $e=(await ie(_e.request,_e.matches,J,_e.key))[_e.match.route.id];return{[_e.key]:$e}}else return Promise.resolve({[_e.key]:{type:"error",error:Ar(404,{pathname:_e.path})}})})),Pe=await se,de=(await xe).reduce((_e,Ne)=>Object.assign(_e,Ne),{});return{loaderResults:Pe,fetcherResults:de}}function X(){ye=!0,K.forEach((R,$)=>{ke.has($)&&ze.add($),mt($)})}function he(R,$,q={}){A.fetchers.set(R,$),_t({fetchers:new Map(A.fetchers)},{flushSync:(q&&q.flushSync)===!0})}function Me(R,$,q,J={}){let se=Zs(A.matches,$);Pt(R),_t({errors:{[se.route.id]:q},fetchers:new Map(A.fetchers)},{flushSync:(J&&J.flushSync)===!0})}function Ze(R){return ce.set(R,(ce.get(R)||0)+1),Ce.has(R)&&Ce.delete(R),A.fetchers.get(R)||zb}function Pt(R){let $=A.fetchers.get(R);ke.has(R)&&!($&&$.state==="loading"&&ae.has(R))&&mt(R),K.delete(R),ae.delete(R),C.delete(R),Ce.delete(R),ze.delete(R),A.fetchers.delete(R)}function Sr(R){let $=(ce.get(R)||0)-1;$<=0?(ce.delete(R),Ce.add(R)):ce.set(R,$),_t({fetchers:new Map(A.fetchers)})}function mt(R){let $=ke.get(R);$&&($.abort(),ke.delete(R))}function vi(R){for(let $ of R){let q=Ze($),J=hs(q.data);A.fetchers.set($,J)}}function mn(){let R=[],$=!1;for(let q of C){let J=A.fetchers.get(q);qe(J,`Expected fetcher: ${q}`),J.state==="loading"&&(C.delete(q),R.push(q),$=!0)}return vi(R),$}function pn(R){let $=[];for(let[q,J]of ae)if(J<R){let se=A.fetchers.get(q);qe(se,`Expected fetcher: ${q}`),se.state==="loading"&&(mt(q),ae.delete(q),$.push(q))}return vi($),$.length>0}function wa(R,$){let q=A.blockers.get(R)||sl;return Ae.get(R)!==$&&Ae.set(R,$),q}function gn(R){A.blockers.delete(R),Ae.delete(R)}function en(R,$){let q=A.blockers.get(R)||sl;qe(q.state==="unblocked"&&$.state==="blocked"||q.state==="blocked"&&$.state==="blocked"||q.state==="blocked"&&$.state==="proceeding"||q.state==="blocked"&&$.state==="unblocked"||q.state==="proceeding"&&$.state==="unblocked",`Invalid blocker state transition: ${q.state} -> ${$.state}`);let J=new Map(A.blockers);J.set(R,$),_t({blockers:J})}function yn({currentLocation:R,nextLocation:$,historyAction:q}){if(Ae.size===0)return;Ae.size>1&&kt(!1,"A router only supports one blocker at a time");let J=Array.from(Ae.entries()),[se,xe]=J[J.length-1],Pe=A.blockers.get(se);if(!(Pe&&Pe.state==="proceeding")&&xe({currentLocation:R,nextLocation:$,historyAction:q}))return se}function Ls(R){let $=Ar(404,{pathname:R}),q=f||u,{matches:J,route:se}=Yp(q);return{notFoundMatches:J,route:se,error:$}}function ba(R,$,q){if(N=R,x=$,S=q||null,!k&&A.navigation===Sd){k=!0;let J=_a(A.location,A.matches);J!=null&&_t({restoreScrollPosition:J})}return()=>{N=null,x=null,S=null}}function vn(R,$){return S&&S(R,$.map(J=>hb(J,A.loaderData)))||R.key}function qn(R,$){if(N&&x){let q=vn(R,$);N[q]=x()}}function _a(R,$){if(N){let q=vn(R,$),J=N[q];if(typeof J=="number")return J}return null}function As(R,$,q){if(r.patchRoutesOnNavigation)if(R){if(Object.keys(R[0].params).length>0)return{active:!0,matches:ac($,q,m,!0)}}else return{active:!0,matches:ac($,q,m,!0)||[]};return{active:!1,matches:null}}async function zs(R,$,q,J){if(!r.patchRoutesOnNavigation)return{type:"success",matches:R};let se=R;for(;;){let xe=f==null,Pe=f||u,de=o;try{await r.patchRoutesOnNavigation({signal:q,path:$,matches:se,fetcherKey:J,patch:($e,Ee)=>{q.aborted||Bp($e,Ee,Pe,de,l)}})}catch($e){return{type:"error",error:$e,partialMatches:se}}finally{xe&&!q.aborted&&(u=[...u])}if(q.aborted)return{type:"aborted"};let _e=ps(Pe,$,m);if(_e)return{type:"success",matches:_e};let Ne=ac(Pe,$,m,!0);if(!Ne||se.length===Ne.length&&se.every(($e,Ee)=>$e.route.id===Ne[Ee].route.id))return{type:"success",matches:null};se=Ne}}function Ul(R){o={},f=mc(R,l,void 0,o)}function Bl(R,$){let q=f==null;Bp(R,$,f||u,o,l),q&&(u=[...u],_t({}))}return V={get basename(){return m},get future(){return g},get state(){return A},get routes(){return u},get window(){return t},initialize:et,subscribe:St,enableScrollRestoration:ba,navigate:In,fetch:Bn,revalidate:Fn,createHref:R=>r.history.createHref(R),encodeLocation:R=>r.history.encodeLocation(R),getFetcher:Ze,deleteFetcher:Sr,dispose:Qe,getBlocker:wa,deleteBlocker:gn,patchRoutes:Bl,_internalFetchControllers:ke,_internalSetRoutes:Ul},V}function Mb(r){return r!=null&&("formData"in r&&r.formData!=null||"body"in r&&r.body!==void 0)}function Qd(r,t,s,i,l,o){let u,f;if(l){u=[];for(let y of t)if(u.push(y),y.route.id===l){f=y;break}}else u=t,f=t[t.length-1];let m=Ec(i||".",Sc(u),zr(r.pathname,s)||r.pathname,o==="path");if(i==null&&(m.search=r.search,m.hash=r.hash),(i==null||i===""||i===".")&&f){let y=_h(m.search);if(f.route.index&&!y)m.search=m.search?m.search.replace(/^\?/,"?index&"):"?index";else if(!f.route.index&&y){let g=new URLSearchParams(m.search),v=g.getAll("index");g.delete("index"),v.filter(N=>N).forEach(N=>g.append("index",N));let w=g.toString();m.search=w?`?${w}`:""}}return s!=="/"&&(m.pathname=m.pathname==="/"?s:fn([s,m.pathname])),js(m)}function Fp(r,t,s){if(!s||!Mb(s))return{path:t};if(s.formMethod&&!Jb(s.formMethod))return{path:t,error:Ar(405,{method:s.formMethod})};let i=()=>({path:t,error:Ar(400,{type:"invalid-body"})}),o=(s.formMethod||"get").toUpperCase(),u=Py(t);if(s.body!==void 0){if(s.formEncType==="text/plain"){if(!xr(o))return i();let v=typeof s.body=="string"?s.body:s.body instanceof FormData||s.body instanceof URLSearchParams?Array.from(s.body.entries()).reduce((w,[N,S])=>`${w}${N}=${S}
`,""):String(s.body);return{path:t,submission:{formMethod:o,formAction:u,formEncType:s.formEncType,formData:void 0,json:void 0,text:v}}}else if(s.formEncType==="application/json"){if(!xr(o))return i();try{let v=typeof s.body=="string"?JSON.parse(s.body):s.body;return{path:t,submission:{formMethod:o,formAction:u,formEncType:s.formEncType,formData:void 0,json:v,text:void 0}}}catch{return i()}}}qe(typeof FormData=="function","FormData is not available in this environment");let f,m;if(s.formData)f=Yd(s.formData),m=s.formData;else if(s.body instanceof FormData)f=Yd(s.body),m=s.body;else if(s.body instanceof URLSearchParams)f=s.body,m=Kp(f);else if(s.body==null)f=new URLSearchParams,m=new FormData;else try{f=new URLSearchParams(s.body),m=Kp(f)}catch{return i()}let y={formMethod:o,formAction:u,formEncType:s&&s.formEncType||"application/x-www-form-urlencoded",formData:m,json:void 0,text:void 0};if(xr(y.formMethod))return{path:t,submission:y};let g=Ts(t);return r&&g.search&&_h(g.search)&&f.append("index",""),g.search=`?${f}`,{path:js(g),submission:y}}function Up(r,t,s,i,l,o,u,f,m,y,g,v,w,N,S,x,k,P,B,D){var Se;let H=D?_r(D[1])?D[1].error:D[1].data:void 0,V=l.createURL(o.location),A=l.createURL(m),ne;if(g&&o.errors){let ye=Object.keys(o.errors)[0];ne=u.findIndex(ze=>ze.route.id===ye)}else if(D&&_r(D[1])){let ye=D[0];ne=u.findIndex(ze=>ze.route.id===ye)-1}let le=D?D[1].statusCode:void 0,te=le&&le>=400,pe={currentUrl:V,currentParams:((Se=o.matches[0])==null?void 0:Se.params)||{},nextUrl:A,nextParams:u[0].params,...f,actionResult:H,actionStatus:le},Le=u.map((ye,ze)=>{let{route:ke}=ye,Oe=null;if(ne!=null&&ze>ne?Oe=!1:ke.lazy?Oe=!0:ke.loader==null?Oe=!1:g?Oe=Gd(ke,o.loaderData,o.errors):Ib(o.loaderData,o.matches[ze],ye)&&(Oe=!0),Oe!==null)return Jd(s,i,r,ye,y,t,Oe);let Z=te?!1:v||V.pathname+V.search===A.pathname+A.search||V.search!==A.search||Fb(o.matches[ze],ye),ae={...pe,defaultShouldRevalidate:Z},C=yc(ye,ae);return Jd(s,i,r,ye,y,t,C,ae)}),be=[];return S.forEach((ye,ze)=>{if(g||!u.some(Ce=>Ce.route.id===ye.routeId)||N.has(ze))return;let ke=o.fetchers.get(ze),Oe=ke&&ke.state!=="idle"&&ke.data===void 0,Z=ps(k,ye.path,P);if(!Z){if(B&&Oe)return;be.push({key:ze,routeId:ye.routeId,path:ye.path,matches:null,match:null,request:null,controller:null});return}if(x.has(ze))return;let ae=fl(Z,ye.path),C=new AbortController,K=Yi(l,ye.path,C.signal),ce=null;if(w.has(ze))w.delete(ze),ce=Xi(s,i,K,Z,ae,y,t);else if(Oe)v&&(ce=Xi(s,i,K,Z,ae,y,t));else{let Ce={...pe,defaultShouldRevalidate:te?!1:v};yc(ae,Ce)&&(ce=Xi(s,i,K,Z,ae,y,t,Ce))}ce&&be.push({key:ze,routeId:ye.routeId,path:ye.path,matches:ce,match:ae,request:K,controller:C})}),{dsMatches:Le,revalidatingFetchers:be}}function Gd(r,t,s){if(r.lazy)return!0;if(!r.loader)return!1;let i=t!=null&&r.id in t,l=s!=null&&s[r.id]!==void 0;return!i&&l?!1:typeof r.loader=="function"&&r.loader.hydrate===!0?!0:!i&&!l}function Ib(r,t,s){let i=!t||s.route.id!==t.route.id,l=!r.hasOwnProperty(s.route.id);return i||l}function Fb(r,t){let s=r.route.path;return r.pathname!==t.pathname||s!=null&&s.endsWith("*")&&r.params["*"]!==t.params["*"]}function yc(r,t){if(r.route.shouldRevalidate){let s=r.route.shouldRevalidate(t);if(typeof s=="boolean")return s}return t.defaultShouldRevalidate}function Bp(r,t,s,i,l){let o;if(r){let m=i[r];qe(m,`No route found to patch children into: routeId = ${r}`),m.children||(m.children=[]),o=m.children}else o=s;let u=t.filter(m=>!o.some(y=>ky(m,y))),f=mc(u,l,[r||"_","patch",String((o==null?void 0:o.length)||"0")],i);o.push(...f)}function ky(r,t){return"id"in r&&"id"in t&&r.id===t.id?!0:r.index===t.index&&r.path===t.path&&r.caseSensitive===t.caseSensitive?(!r.children||r.children.length===0)&&(!t.children||t.children.length===0)?!0:r.children.every((s,i)=>{var l;return(l=t.children)==null?void 0:l.some(o=>ky(s,o))}):!1}var qp=new WeakMap,Ny=({key:r,route:t,manifest:s,mapRouteProperties:i})=>{let l=s[t.id];if(qe(l,"No route found in manifest"),!l.lazy||typeof l.lazy!="object")return;let o=l.lazy[r];if(!o)return;let u=qp.get(l);u||(u={},qp.set(l,u));let f=u[r];if(f)return f;let m=(async()=>{let y=ob(r),v=l[r]!==void 0&&r!=="hasErrorBoundary";if(y)kt(!y,"Route property "+r+" is not a supported lazy route property. This property will be ignored."),u[r]=Promise.resolve();else if(v)kt(!1,`Route "${l.id}" has a static property "${r}" defined. The lazy property will be ignored.`);else{let w=await o();w!=null&&(Object.assign(l,{[r]:w}),Object.assign(l,i(l)))}typeof l.lazy=="object"&&(l.lazy[r]=void 0,Object.values(l.lazy).every(w=>w===void 0)&&(l.lazy=void 0))})();return u[r]=m,m},Vp=new WeakMap;function Ub(r,t,s,i,l){let o=s[r.id];if(qe(o,"No route found in manifest"),!r.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof r.lazy=="function"){let g=Vp.get(o);if(g)return{lazyRoutePromise:g,lazyHandlerPromise:g};let v=(async()=>{qe(typeof r.lazy=="function","No lazy route function found");let w=await r.lazy(),N={};for(let S in w){let x=w[S];if(x===void 0)continue;let k=ub(S),B=o[S]!==void 0&&S!=="hasErrorBoundary";k?kt(!k,"Route property "+S+" is not a supported property to be returned from a lazy route function. This property will be ignored."):B?kt(!B,`Route "${o.id}" has a static property "${S}" defined but its lazy function is also returning a value for this property. The lazy route property "${S}" will be ignored.`):N[S]=x}Object.assign(o,N),Object.assign(o,{...i(o),lazy:void 0})})();return Vp.set(o,v),v.catch(()=>{}),{lazyRoutePromise:v,lazyHandlerPromise:v}}let u=Object.keys(r.lazy),f=[],m;for(let g of u){if(l&&l.includes(g))continue;let v=Ny({key:g,route:r,manifest:s,mapRouteProperties:i});v&&(f.push(v),g===t&&(m=v))}let y=f.length>0?Promise.all(f).then(()=>{}):void 0;return y==null||y.catch(()=>{}),m==null||m.catch(()=>{}),{lazyRoutePromise:y,lazyHandlerPromise:m}}async function Wp(r){let t=r.matches.filter(l=>l.shouldLoad),s={};return(await Promise.all(t.map(l=>l.resolve()))).forEach((l,o)=>{s[t[o].route.id]=l}),s}async function Bb(r){return r.matches.some(t=>t.route.unstable_middleware)?Sy(r,!1,()=>Wp(r),(t,s)=>({[s]:{type:"error",result:t}})):Wp(r)}async function Sy(r,t,s,i){let{matches:l,request:o,params:u,context:f}=r,m={handlerResult:void 0};try{let y=l.flatMap(v=>v.route.unstable_middleware?v.route.unstable_middleware.map(w=>[v.route.id,w]):[]),g=await Ey({request:o,params:u,context:f},y,t,m,s);return t?g:m.handlerResult}catch(y){if(!m.middlewareError)throw y;let g=await i(m.middlewareError.error,m.middlewareError.routeId);return m.handlerResult?Object.assign(m.handlerResult,g):g}}async function Ey(r,t,s,i,l,o=0){let{request:u}=r;if(u.signal.aborted)throw u.signal.reason?u.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${u.method} ${u.url}`);let f=t[o];if(!f)return i.handlerResult=await l(),i.handlerResult;let[m,y]=f,g=!1,v,w=async()=>{if(g)throw new Error("You may only call `next()` once per middleware");g=!0,await Ey(r,t,s,i,l,o+1)};try{let N=await y({request:r.request,params:r.params,context:r.context},w);return g?N===void 0?v:N:w()}catch(N){throw i.middlewareError?i.middlewareError.error!==N&&(i.middlewareError={routeId:m,error:N}):i.middlewareError={routeId:m,error:N},N}}function Cy(r,t,s,i,l){let o=Ny({key:"unstable_middleware",route:i.route,manifest:t,mapRouteProperties:r}),u=Ub(i.route,xr(s.method)?"action":"loader",t,r,l);return{middleware:o,route:u.lazyRoutePromise,handler:u.lazyHandlerPromise}}function Jd(r,t,s,i,l,o,u,f=null){let m=!1,y=Cy(r,t,s,i,l);return{...i,_lazyPromises:y,shouldLoad:u,unstable_shouldRevalidateArgs:f,unstable_shouldCallHandler(g){return m=!0,f?typeof g=="boolean"?yc(i,{...f,defaultShouldRevalidate:g}):yc(i,f):u},resolve(g){return m||u||g&&s.method==="GET"&&(i.route.lazy||i.route.loader)?Vb({request:s,match:i,lazyHandlerPromise:y==null?void 0:y.handler,lazyRoutePromise:y==null?void 0:y.route,handlerOverride:g,scopedContext:o}):Promise.resolve({type:"data",result:void 0})}}}function Xi(r,t,s,i,l,o,u,f=null){return i.map(m=>m.route.id!==l.route.id?{...m,shouldLoad:!1,unstable_shouldRevalidateArgs:f,unstable_shouldCallHandler:()=>!1,_lazyPromises:Cy(r,t,s,m,o),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Jd(r,t,s,m,o,u,!0,f))}async function qb(r,t,s,i,l,o){s.some(y=>{var g;return(g=y._lazyPromises)==null?void 0:g.middleware})&&await Promise.all(s.map(y=>{var g;return(g=y._lazyPromises)==null?void 0:g.middleware}));let u={request:t,params:s[0].params,context:l,matches:s},m=await r({...u,fetcherKey:i,unstable_runClientMiddleware:y=>{let g=u;return Sy(g,!1,()=>y({...g,fetcherKey:i,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(v,w)=>({[w]:{type:"error",result:v}}))}});try{await Promise.all(s.flatMap(y=>{var g,v;return[(g=y._lazyPromises)==null?void 0:g.handler,(v=y._lazyPromises)==null?void 0:v.route]}))}catch{}return m}async function Vb({request:r,match:t,lazyHandlerPromise:s,lazyRoutePromise:i,handlerOverride:l,scopedContext:o}){let u,f,m=xr(r.method),y=m?"action":"loader",g=v=>{let w,N=new Promise((k,P)=>w=P);f=()=>w(),r.signal.addEventListener("abort",f);let S=k=>typeof v!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${y}" [routeId: ${t.route.id}]`)):v({request:r,params:t.params,context:o},...k!==void 0?[k]:[]),x=(async()=>{try{return{type:"data",result:await(l?l(P=>S(P)):S())}}catch(k){return{type:"error",result:k}}})();return Promise.race([x,N])};try{let v=m?t.route.action:t.route.loader;if(s||i)if(v){let w,[N]=await Promise.all([g(v).catch(S=>{w=S}),s,i]);if(w!==void 0)throw w;u=N}else{await s;let w=m?t.route.action:t.route.loader;if(w)[u]=await Promise.all([g(w),i]);else if(y==="action"){let N=new URL(r.url),S=N.pathname+N.search;throw Ar(405,{method:r.method,pathname:S,routeId:t.route.id})}else return{type:"data",result:void 0}}else if(v)u=await g(v);else{let w=new URL(r.url),N=w.pathname+w.search;throw Ar(404,{pathname:N})}}catch(v){return{type:"error",result:v}}finally{f&&r.signal.removeEventListener("abort",f)}return u}async function Wb(r){var i,l,o,u,f,m;let{result:t,type:s}=r;if(jy(t)){let y;try{let g=t.headers.get("Content-Type");g&&/\bapplication\/json\b/.test(g)?t.body==null?y=null:y=await t.json():y=await t.text()}catch(g){return{type:"error",error:g}}return s==="error"?{type:"error",error:new gc(t.status,t.statusText,y),statusCode:t.status,headers:t.headers}:{type:"data",data:y,statusCode:t.status,headers:t.headers}}return s==="error"?Zp(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:(i=t.init)==null?void 0:i.status,headers:(l=t.init)!=null&&l.headers?new Headers(t.init.headers):void 0}:{type:"error",error:new gc(((o=t.init)==null?void 0:o.status)||500,void 0,t.data),statusCode:kl(t)?t.status:void 0,headers:(u=t.init)!=null&&u.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:kl(t)?t.status:void 0}:Zp(t)?{type:"data",data:t.data,statusCode:(f=t.init)==null?void 0:f.status,headers:(m=t.init)!=null&&m.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function Hb(r,t,s,i,l){let o=r.headers.get("Location");if(qe(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!bh.test(o)){let u=i.slice(0,i.findIndex(f=>f.route.id===s)+1);o=Qd(new URL(t.url),u,l,o),r.headers.set("Location",o)}return r}function Hp(r,t,s){if(bh.test(r)){let i=r,l=i.startsWith("//")?new URL(t.protocol+i):new URL(i),o=zr(l.pathname,s)!=null;if(l.origin===t.origin&&o)return l.pathname+l.search+l.hash}return r}function Yi(r,t,s,i){let l=r.createURL(Py(t)).toString(),o={signal:s};if(i&&xr(i.formMethod)){let{formMethod:u,formEncType:f}=i;o.method=u.toUpperCase(),f==="application/json"?(o.headers=new Headers({"Content-Type":f}),o.body=JSON.stringify(i.json)):f==="text/plain"?o.body=i.text:f==="application/x-www-form-urlencoded"&&i.formData?o.body=Yd(i.formData):o.body=i.formData}return new Request(l,o)}function Yd(r){let t=new URLSearchParams;for(let[s,i]of r.entries())t.append(s,typeof i=="string"?i:i.name);return t}function Kp(r){let t=new FormData;for(let[s,i]of r.entries())t.append(s,i);return t}function Kb(r,t,s,i=!1,l=!1){let o={},u=null,f,m=!1,y={},g=s&&_r(s[1])?s[1].error:void 0;return r.forEach(v=>{if(!(v.route.id in t))return;let w=v.route.id,N=t[w];if(qe(!ei(N),"Cannot handle redirect results in processLoaderData"),_r(N)){let S=N.error;if(g!==void 0&&(S=g,g=void 0),u=u||{},l)u[w]=S;else{let x=Zs(r,w);u[x.route.id]==null&&(u[x.route.id]=S)}i||(o[w]=xy),m||(m=!0,f=kl(N.error)?N.error.status:500),N.headers&&(y[w]=N.headers)}else o[w]=N.data,N.statusCode&&N.statusCode!==200&&!m&&(f=N.statusCode),N.headers&&(y[w]=N.headers)}),g!==void 0&&s&&(u={[s[0]]:g},s[2]&&(o[s[2]]=void 0)),{loaderData:o,errors:u,statusCode:f||200,loaderHeaders:y}}function Qp(r,t,s,i,l,o){let{loaderData:u,errors:f}=Kb(t,s,i);return l.filter(m=>!m.matches||m.matches.some(y=>y.shouldLoad)).forEach(m=>{let{key:y,match:g,controller:v}=m,w=o[y];if(qe(w,"Did not find corresponding fetcher result"),!(v&&v.signal.aborted))if(_r(w)){let N=Zs(r.matches,g==null?void 0:g.route.id);f&&f[N.route.id]||(f={...f,[N.route.id]:w.error}),r.fetchers.delete(y)}else if(ei(w))qe(!1,"Unhandled fetcher revalidation redirect");else{let N=hs(w.data);r.fetchers.set(y,N)}}),{loaderData:u,errors:f}}function Gp(r,t,s,i){let l=Object.entries(t).filter(([,o])=>o!==xy).reduce((o,[u,f])=>(o[u]=f,o),{});for(let o of s){let u=o.route.id;if(!t.hasOwnProperty(u)&&r.hasOwnProperty(u)&&o.route.loader&&(l[u]=r[u]),i&&i.hasOwnProperty(u))break}return l}function Jp(r){return r?_r(r[1])?{actionData:{}}:{actionData:{[r[0]]:r[1].data}}:{}}function Zs(r,t){return(t?r.slice(0,r.findIndex(i=>i.route.id===t)+1):[...r]).reverse().find(i=>i.route.hasErrorBoundary===!0)||r[0]}function Yp(r){let t=r.length===1?r[0]:r.find(s=>s.index||!s.path||s.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Ar(r,{pathname:t,routeId:s,method:i,type:l,message:o}={}){let u="Unknown Server Error",f="Unknown @remix-run/router error";return r===400?(u="Bad Request",i&&t&&s?f=`You made a ${i} request to "${t}" but did not provide a \`loader\` for route "${s}", so there is no way to handle the request.`:l==="invalid-body"&&(f="Unable to encode submission body")):r===403?(u="Forbidden",f=`Route "${s}" does not match URL "${t}"`):r===404?(u="Not Found",f=`No route matches URL "${t}"`):r===405&&(u="Method Not Allowed",i&&t&&s?f=`You made a ${i.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${s}", so there is no way to handle the request.`:i&&(f=`Invalid request method "${i.toUpperCase()}"`)),new gc(r||500,u,new Error(f),!0)}function Yo(r){let t=Object.entries(r);for(let s=t.length-1;s>=0;s--){let[i,l]=t[s];if(ei(l))return{key:i,result:l}}}function Py(r){let t=typeof r=="string"?Ts(r):r;return js({...t,hash:""})}function Qb(r,t){return r.pathname!==t.pathname||r.search!==t.search?!1:r.hash===""?t.hash!=="":r.hash===t.hash?!0:t.hash!==""}function Gb(r){return jy(r.result)&&Lb.has(r.result.status)}function _r(r){return r.type==="error"}function ei(r){return(r&&r.type)==="redirect"}function Zp(r){return typeof r=="object"&&r!=null&&"type"in r&&"data"in r&&"init"in r&&r.type==="DataWithResponseInit"}function jy(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.headers=="object"&&typeof r.body<"u"}function Jb(r){return Ob.has(r.toUpperCase())}function xr(r){return Tb.has(r.toUpperCase())}function _h(r){return new URLSearchParams(r).getAll("index").some(t=>t==="")}function fl(r,t){let s=typeof t=="string"?Ts(t).search:t.search;if(r[r.length-1].route.index&&_h(s||""))return r[r.length-1];let i=wy(r);return i[i.length-1]}function Xp(r){let{formMethod:t,formAction:s,formEncType:i,text:l,formData:o,json:u}=r;if(!(!t||!s||!i)){if(l!=null)return{formMethod:t,formAction:s,formEncType:i,formData:void 0,json:void 0,text:l};if(o!=null)return{formMethod:t,formAction:s,formEncType:i,formData:o,json:void 0,text:void 0};if(u!==void 0)return{formMethod:t,formAction:s,formEncType:i,formData:void 0,json:u,text:void 0}}}function Ed(r,t){return t?{state:"loading",location:r,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:r,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Yb(r,t){return{state:"submitting",location:r,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function il(r,t){return r?{state:"loading",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Zb(r,t){return{state:"submitting",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:t?t.data:void 0}}function hs(r){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:r}}function Xb(r,t){try{let s=r.sessionStorage.getItem(_y);if(s){let i=JSON.parse(s);for(let[l,o]of Object.entries(i||{}))o&&Array.isArray(o)&&t.set(l,new Set(o||[]))}}catch{}}function e_(r,t){if(t.size>0){let s={};for(let[i,l]of t)s[i]=[...l];try{r.sessionStorage.setItem(_y,JSON.stringify(s))}catch(i){kt(!1,`Failed to save applied view transitions in sessionStorage (${i}).`)}}}function t_(){let r,t,s=new Promise((i,l)=>{r=async o=>{i(o);try{await s}catch{}},t=async o=>{l(o);try{await s}catch{}}});return{promise:s,resolve:r,reject:t}}var pi=L.createContext(null);pi.displayName="DataRouter";var Ll=L.createContext(null);Ll.displayName="DataRouterState";var xh=L.createContext({isTransitioning:!1});xh.displayName="ViewTransition";var Ty=L.createContext(new Map);Ty.displayName="Fetchers";var r_=L.createContext(null);r_.displayName="Await";var Zr=L.createContext(null);Zr.displayName="Navigation";var Cc=L.createContext(null);Cc.displayName="Location";var Xr=L.createContext({outlet:null,matches:[],isDataRoute:!1});Xr.displayName="Route";var kh=L.createContext(null);kh.displayName="RouteError";function n_(r,{relative:t}={}){qe(ya(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:i}=L.useContext(Zr),{hash:l,pathname:o,search:u}=Al(r,{relative:t}),f=o;return s!=="/"&&(f=o==="/"?s:fn([s,o])),i.createHref({pathname:f,search:u,hash:l})}function ya(){return L.useContext(Cc)!=null}function Dn(){return qe(ya(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(Cc).location}var Ry="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Oy(r){L.useContext(Zr).static||L.useLayoutEffect(r)}function Nr(){let{isDataRoute:r}=L.useContext(Xr);return r?g_():s_()}function s_(){qe(ya(),"useNavigate() may be used only in the context of a <Router> component.");let r=L.useContext(pi),{basename:t,navigator:s}=L.useContext(Zr),{matches:i}=L.useContext(Xr),{pathname:l}=Dn(),o=JSON.stringify(Sc(i)),u=L.useRef(!1);return Oy(()=>{u.current=!0}),L.useCallback((m,y={})=>{if(kt(u.current,Ry),!u.current)return;if(typeof m=="number"){s.go(m);return}let g=Ec(m,JSON.parse(o),l,y.relative==="path");r==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:fn([t,g.pathname])),(y.replace?s.replace:s.push)(g,y.state,y)},[t,s,o,l,r])}L.createContext(null);function $n(){let{matches:r}=L.useContext(Xr),t=r[r.length-1];return t?t.params:{}}function Al(r,{relative:t}={}){let{matches:s}=L.useContext(Xr),{pathname:i}=Dn(),l=JSON.stringify(Sc(s));return L.useMemo(()=>Ec(r,JSON.parse(l),i,t==="path"),[r,l,i,t])}function i_(r,t,s,i){qe(ya(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=L.useContext(Zr),{matches:o}=L.useContext(Xr),u=o[o.length-1],f=u?u.params:{},m=u?u.pathname:"/",y=u?u.pathnameBase:"/",g=u&&u.route;{let P=g&&g.path||"";Ay(m,!g||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let v=Dn(),w;w=v;let N=w.pathname||"/",S=N;if(y!=="/"){let P=y.replace(/^\//,"").split("/");S="/"+N.replace(/^\//,"").split("/").slice(P.length).join("/")}let x=ps(r,{pathname:S});return kt(g||x!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),kt(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),u_(x&&x.map(P=>Object.assign({},P,{params:Object.assign({},f,P.params),pathname:fn([y,l.encodeLocation?l.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?y:fn([y,l.encodeLocation?l.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),o,s,i)}function a_(){let r=p_(),t=kl(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),s=r instanceof Error?r.stack:null,i="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",r),u=L.createElement(L.Fragment,null,L.createElement("p",null,"💿 Hey developer 👋"),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:o},"ErrorBoundary")," or"," ",L.createElement("code",{style:o},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},t),s?L.createElement("pre",{style:l},s):null,u)}var l_=L.createElement(a_,null),o_=class extends L.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){console.error("React Router caught the following error during render",r,t)}render(){return this.state.error!==void 0?L.createElement(Xr.Provider,{value:this.props.routeContext},L.createElement(kh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function c_({routeContext:r,match:t,children:s}){let i=L.useContext(pi);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),L.createElement(Xr.Provider,{value:r},s)}function u_(r,t=[],s=null,i=null){if(r==null){if(!s)return null;if(s.errors)r=s.matches;else if(t.length===0&&!s.initialized&&s.matches.length>0)r=s.matches;else return null}let l=r,o=s==null?void 0:s.errors;if(o!=null){let m=l.findIndex(y=>y.route.id&&(o==null?void 0:o[y.route.id])!==void 0);qe(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),l=l.slice(0,Math.min(l.length,m+1))}let u=!1,f=-1;if(s)for(let m=0;m<l.length;m++){let y=l[m];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(f=m),y.route.id){let{loaderData:g,errors:v}=s,w=y.route.loader&&!g.hasOwnProperty(y.route.id)&&(!v||v[y.route.id]===void 0);if(y.route.lazy||w){u=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}return l.reduceRight((m,y,g)=>{let v,w=!1,N=null,S=null;s&&(v=o&&y.route.id?o[y.route.id]:void 0,N=y.route.errorElement||l_,u&&(f<0&&g===0?(Ay("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,S=null):f===g&&(w=!0,S=y.route.hydrateFallbackElement||null)));let x=t.concat(l.slice(0,g+1)),k=()=>{let P;return v?P=N:w?P=S:y.route.Component?P=L.createElement(y.route.Component,null):y.route.element?P=y.route.element:P=m,L.createElement(c_,{match:y,routeContext:{outlet:m,matches:x,isDataRoute:s!=null},children:P})};return s&&(y.route.ErrorBoundary||y.route.errorElement||g===0)?L.createElement(o_,{location:s.location,revalidation:s.revalidation,component:N,error:v,children:k(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):k()},null)}function Nh(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function d_(r){let t=L.useContext(pi);return qe(t,Nh(r)),t}function Ly(r){let t=L.useContext(Ll);return qe(t,Nh(r)),t}function h_(r){let t=L.useContext(Xr);return qe(t,Nh(r)),t}function Pc(r){let t=h_(r),s=t.matches[t.matches.length-1];return qe(s.route.id,`${r} can only be used on routes that contain a unique "id"`),s.route.id}function f_(){return Pc("useRouteId")}function m_(){let r=Ly("useLoaderData"),t=Pc("useLoaderData");return r.loaderData[t]}function p_(){var i;let r=L.useContext(kh),t=Ly("useRouteError"),s=Pc("useRouteError");return r!==void 0?r:(i=t.errors)==null?void 0:i[s]}function g_(){let{router:r}=d_("useNavigate"),t=Pc("useNavigate"),s=L.useRef(!1);return Oy(()=>{s.current=!0}),L.useCallback(async(l,o={})=>{kt(s.current,Ry),s.current&&(typeof l=="number"?r.navigate(l):await r.navigate(l,{fromRouteId:t,...o}))},[r,t])}var eg={};function Ay(r,t,s){!t&&!eg[r]&&(eg[r]=!0,kt(!1,s))}var tg={};function rg(r,t){!r&&!tg[t]&&(tg[t]=!0,console.warn(t))}function y_(r){let t={hasErrorBoundary:r.hasErrorBoundary||r.ErrorBoundary!=null||r.errorElement!=null};return r.Component&&(r.element&&kt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:L.createElement(r.Component),Component:void 0})),r.HydrateFallback&&(r.hydrateFallbackElement&&kt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:L.createElement(r.HydrateFallback),HydrateFallback:void 0})),r.ErrorBoundary&&(r.errorElement&&kt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:L.createElement(r.ErrorBoundary),ErrorBoundary:void 0})),t}var v_=["HydrateFallback","hydrateFallbackElement"],w_=class{constructor(){this.status="pending",this.promise=new Promise((t,s)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",t(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",s(i))}})}};function b_({router:r,flushSync:t}){let[s,i]=L.useState(r.state),[l,o]=L.useState(),[u,f]=L.useState({isTransitioning:!1}),[m,y]=L.useState(),[g,v]=L.useState(),[w,N]=L.useState(),S=L.useRef(new Map),x=L.useCallback((D,{deletedFetchers:H,flushSync:V,viewTransitionOpts:A})=>{D.fetchers.forEach((le,te)=>{le.data!==void 0&&S.current.set(te,le.data)}),H.forEach(le=>S.current.delete(le)),rg(V===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let ne=r.window!=null&&r.window.document!=null&&typeof r.window.document.startViewTransition=="function";if(rg(A==null||ne,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!A||!ne){t&&V?t(()=>i(D)):L.startTransition(()=>i(D));return}if(t&&V){t(()=>{g&&(m&&m.resolve(),g.skipTransition()),f({isTransitioning:!0,flushSync:!0,currentLocation:A.currentLocation,nextLocation:A.nextLocation})});let le=r.window.document.startViewTransition(()=>{t(()=>i(D))});le.finished.finally(()=>{t(()=>{y(void 0),v(void 0),o(void 0),f({isTransitioning:!1})})}),t(()=>v(le));return}g?(m&&m.resolve(),g.skipTransition(),N({state:D,currentLocation:A.currentLocation,nextLocation:A.nextLocation})):(o(D),f({isTransitioning:!0,flushSync:!1,currentLocation:A.currentLocation,nextLocation:A.nextLocation}))},[r.window,t,g,m]);L.useLayoutEffect(()=>r.subscribe(x),[r,x]),L.useEffect(()=>{u.isTransitioning&&!u.flushSync&&y(new w_)},[u]),L.useEffect(()=>{if(m&&l&&r.window){let D=l,H=m.promise,V=r.window.document.startViewTransition(async()=>{L.startTransition(()=>i(D)),await H});V.finished.finally(()=>{y(void 0),v(void 0),o(void 0),f({isTransitioning:!1})}),v(V)}},[l,m,r.window]),L.useEffect(()=>{m&&l&&s.location.key===l.location.key&&m.resolve()},[m,g,s.location,l]),L.useEffect(()=>{!u.isTransitioning&&w&&(o(w.state),f({isTransitioning:!0,flushSync:!1,currentLocation:w.currentLocation,nextLocation:w.nextLocation}),N(void 0))},[u.isTransitioning,w]);let k=L.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:D=>r.navigate(D),push:(D,H,V)=>r.navigate(D,{state:H,preventScrollReset:V==null?void 0:V.preventScrollReset}),replace:(D,H,V)=>r.navigate(D,{replace:!0,state:H,preventScrollReset:V==null?void 0:V.preventScrollReset})}),[r]),P=r.basename||"/",B=L.useMemo(()=>({router:r,navigator:k,static:!1,basename:P}),[r,k,P]);return L.createElement(L.Fragment,null,L.createElement(pi.Provider,{value:B},L.createElement(Ll.Provider,{value:s},L.createElement(Ty.Provider,{value:S.current},L.createElement(xh.Provider,{value:u},L.createElement(k_,{basename:P,location:s.location,navigationType:s.historyAction,navigator:k},L.createElement(__,{routes:r.routes,future:r.future,state:s})))))),null)}var __=L.memo(x_);function x_({routes:r,future:t,state:s}){return i_(r,void 0,s,t)}function Zd({to:r,replace:t,state:s,relative:i}){qe(ya(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=L.useContext(Zr);kt(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=L.useContext(Xr),{pathname:u}=Dn(),f=Nr(),m=Ec(r,Sc(o),u,i==="path"),y=JSON.stringify(m);return L.useEffect(()=>{f(JSON.parse(y),{replace:t,state:s,relative:i})},[f,y,i,t,s]),null}function k_({basename:r="/",children:t=null,location:s,navigationType:i="POP",navigator:l,static:o=!1}){qe(!ya(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=r.replace(/^\/*/,"/"),f=L.useMemo(()=>({basename:u,navigator:l,static:o,future:{}}),[u,l,o]);typeof s=="string"&&(s=Ts(s));let{pathname:m="/",search:y="",hash:g="",state:v=null,key:w="default"}=s,N=L.useMemo(()=>{let S=zr(m,u);return S==null?null:{location:{pathname:S,search:y,hash:g,state:v,key:w},navigationType:i}},[u,m,y,g,v,w,i]);return kt(N!=null,`<Router basename="${u}"> is not able to match the URL "${m}${y}${g}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:L.createElement(Zr.Provider,{value:f},L.createElement(Cc.Provider,{children:t,value:N}))}var lc="get",oc="application/x-www-form-urlencoded";function jc(r){return r!=null&&typeof r.tagName=="string"}function N_(r){return jc(r)&&r.tagName.toLowerCase()==="button"}function S_(r){return jc(r)&&r.tagName.toLowerCase()==="form"}function E_(r){return jc(r)&&r.tagName.toLowerCase()==="input"}function C_(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function P_(r,t){return r.button===0&&(!t||t==="_self")&&!C_(r)}var Zo=null;function j_(){if(Zo===null)try{new FormData(document.createElement("form"),0),Zo=!1}catch{Zo=!0}return Zo}var T_=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Cd(r){return r!=null&&!T_.has(r)?(kt(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${oc}"`),null):r}function R_(r,t){let s,i,l,o,u;if(S_(r)){let f=r.getAttribute("action");i=f?zr(f,t):null,s=r.getAttribute("method")||lc,l=Cd(r.getAttribute("enctype"))||oc,o=new FormData(r)}else if(N_(r)||E_(r)&&(r.type==="submit"||r.type==="image")){let f=r.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=r.getAttribute("formaction")||f.getAttribute("action");if(i=m?zr(m,t):null,s=r.getAttribute("formmethod")||f.getAttribute("method")||lc,l=Cd(r.getAttribute("formenctype"))||Cd(f.getAttribute("enctype"))||oc,o=new FormData(f,r),!j_()){let{name:y,type:g,value:v}=r;if(g==="image"){let w=y?`${y}.`:"";o.append(`${w}x`,"0"),o.append(`${w}y`,"0")}else y&&o.append(y,v)}}else{if(jc(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=lc,i=null,l=oc,u=r}return o&&l==="text/plain"&&(u=o,o=void 0),{action:i,method:s.toLowerCase(),encType:l,formData:o,body:u}}function Sh(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}async function O_(r,t){if(r.id in t)return t[r.id];try{let s=await import(r.module);return t[r.id]=s,s}catch(s){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function L_(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function A_(r,t,s){let i=await Promise.all(r.map(async l=>{let o=t.routes[l.route.id];if(o){let u=await O_(o,s);return u.links?u.links():[]}return[]}));return M_(i.flat(1).filter(L_).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function ng(r,t,s,i,l,o){let u=(m,y)=>s[y]?m.route.id!==s[y].route.id:!0,f=(m,y)=>{var g;return s[y].pathname!==m.pathname||((g=s[y].route.path)==null?void 0:g.endsWith("*"))&&s[y].params["*"]!==m.params["*"]};return o==="assets"?t.filter((m,y)=>u(m,y)||f(m,y)):o==="data"?t.filter((m,y)=>{var v;let g=i.routes[m.route.id];if(!g||!g.hasLoader)return!1;if(u(m,y)||f(m,y))return!0;if(m.route.shouldRevalidate){let w=m.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((v=s[0])==null?void 0:v.params)||{},nextUrl:new URL(r,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function z_(r,t,{includeHydrateFallback:s}={}){return D_(r.map(i=>{let l=t.routes[i.route.id];if(!l)return[];let o=[l.module];return l.clientActionModule&&(o=o.concat(l.clientActionModule)),l.clientLoaderModule&&(o=o.concat(l.clientLoaderModule)),s&&l.hydrateFallbackModule&&(o=o.concat(l.hydrateFallbackModule)),l.imports&&(o=o.concat(l.imports)),o}).flat(1))}function D_(r){return[...new Set(r)]}function $_(r){let t={},s=Object.keys(r).sort();for(let i of s)t[i]=r[i];return t}function M_(r,t){let s=new Set;return new Set(t),r.reduce((i,l)=>{let o=JSON.stringify($_(l));return s.has(o)||(s.add(o),i.push({key:o,link:l})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var I_=new Set([100,101,204,205]);function F_(r,t){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname="_root.data":t&&zr(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.data`:s.pathname=`${s.pathname.replace(/\/$/,"")}.data`,s}function zy(){let r=L.useContext(pi);return Sh(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function U_(){let r=L.useContext(Ll);return Sh(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Eh=L.createContext(void 0);Eh.displayName="FrameworkContext";function Dy(){let r=L.useContext(Eh);return Sh(r,"You must render this element inside a <HydratedRouter> element"),r}function B_(r,t){let s=L.useContext(Eh),[i,l]=L.useState(!1),[o,u]=L.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:y,onMouseLeave:g,onTouchStart:v}=t,w=L.useRef(null);L.useEffect(()=>{if(r==="render"&&u(!0),r==="viewport"){let x=P=>{P.forEach(B=>{u(B.isIntersecting)})},k=new IntersectionObserver(x,{threshold:.5});return w.current&&k.observe(w.current),()=>{k.disconnect()}}},[r]),L.useEffect(()=>{if(i){let x=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(x)}}},[i]);let N=()=>{l(!0)},S=()=>{l(!1),u(!1)};return s?r!=="intent"?[o,w,{}]:[o,w,{onFocus:al(f,N),onBlur:al(m,S),onMouseEnter:al(y,N),onMouseLeave:al(g,S),onTouchStart:al(v,N)}]:[!1,w,{}]}function al(r,t){return s=>{r&&r(s),s.defaultPrevented||t(s)}}function q_({page:r,...t}){let{router:s}=zy(),i=L.useMemo(()=>ps(s.routes,r,s.basename),[s.routes,r,s.basename]);return i?L.createElement(W_,{page:r,matches:i,...t}):null}function V_(r){let{manifest:t,routeModules:s}=Dy(),[i,l]=L.useState([]);return L.useEffect(()=>{let o=!1;return A_(r,t,s).then(u=>{o||l(u)}),()=>{o=!0}},[r,t,s]),i}function W_({page:r,matches:t,...s}){let i=Dn(),{manifest:l,routeModules:o}=Dy(),{basename:u}=zy(),{loaderData:f,matches:m}=U_(),y=L.useMemo(()=>ng(r,t,m,l,i,"data"),[r,t,m,l,i]),g=L.useMemo(()=>ng(r,t,m,l,i,"assets"),[r,t,m,l,i]),v=L.useMemo(()=>{if(r===i.pathname+i.search+i.hash)return[];let S=new Set,x=!1;if(t.forEach(P=>{var D;let B=l.routes[P.route.id];!B||!B.hasLoader||(!y.some(H=>H.route.id===P.route.id)&&P.route.id in f&&((D=o[P.route.id])!=null&&D.shouldRevalidate)||B.hasClientLoader?x=!0:S.add(P.route.id))}),S.size===0)return[];let k=F_(r,u);return x&&S.size>0&&k.searchParams.set("_routes",t.filter(P=>S.has(P.route.id)).map(P=>P.route.id).join(",")),[k.pathname+k.search]},[u,f,i,l,y,t,r,o]),w=L.useMemo(()=>z_(g,l),[g,l]),N=V_(g);return L.createElement(L.Fragment,null,v.map(S=>L.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...s})),w.map(S=>L.createElement("link",{key:S,rel:"modulepreload",href:S,...s})),N.map(({key:S,link:x})=>L.createElement("link",{key:S,...x})))}function H_(...r){return t=>{r.forEach(s=>{typeof s=="function"?s(t):s!=null&&(s.current=t)})}}var $y=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{$y&&(window.__reactRouterVersion="7.6.2")}catch{}function K_(r,t){return $b({basename:t==null?void 0:t.basename,unstable_getContext:t==null?void 0:t.unstable_getContext,future:t==null?void 0:t.future,history:sb({window:t==null?void 0:t.window}),hydrationData:Q_(),routes:r,mapRouteProperties:y_,hydrationRouteProperties:v_,dataStrategy:t==null?void 0:t.dataStrategy,patchRoutesOnNavigation:t==null?void 0:t.patchRoutesOnNavigation,window:t==null?void 0:t.window}).initialize()}function Q_(){let r=window==null?void 0:window.__staticRouterHydrationData;return r&&r.errors&&(r={...r,errors:G_(r.errors)}),r}function G_(r){if(!r)return null;let t=Object.entries(r),s={};for(let[i,l]of t)if(l&&l.__type==="RouteErrorResponse")s[i]=new gc(l.status,l.statusText,l.data,l.internal===!0);else if(l&&l.__type==="Error"){if(l.__subType){let o=window[l.__subType];if(typeof o=="function")try{let u=new o(l.message);u.stack="",s[i]=u}catch{}}if(s[i]==null){let o=new Error(l.message);o.stack="",s[i]=o}}else s[i]=l;return s}var My=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ke=L.forwardRef(function({onClick:t,discover:s="render",prefetch:i="none",relative:l,reloadDocument:o,replace:u,state:f,target:m,to:y,preventScrollReset:g,viewTransition:v,...w},N){let{basename:S}=L.useContext(Zr),x=typeof y=="string"&&My.test(y),k,P=!1;if(typeof y=="string"&&x&&(k=y,$y))try{let te=new URL(window.location.href),pe=y.startsWith("//")?new URL(te.protocol+y):new URL(y),Le=zr(pe.pathname,S);pe.origin===te.origin&&Le!=null?y=Le+pe.search+pe.hash:P=!0}catch{kt(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let B=n_(y,{relative:l}),[D,H,V]=B_(i,w),A=Z_(y,{replace:u,state:f,target:m,preventScrollReset:g,relative:l,viewTransition:v});function ne(te){t&&t(te),te.defaultPrevented||A(te)}let le=L.createElement("a",{...w,...V,href:k||B,onClick:P||o?t:ne,ref:H_(N,H),target:m,"data-discover":!x&&s==="render"?"true":void 0});return D&&!x?L.createElement(L.Fragment,null,le,L.createElement(q_,{page:B})):le});Ke.displayName="Link";var Ch=L.forwardRef(function({"aria-current":t="page",caseSensitive:s=!1,className:i="",end:l=!1,style:o,to:u,viewTransition:f,children:m,...y},g){let v=Al(u,{relative:y.relative}),w=Dn(),N=L.useContext(Ll),{navigator:S,basename:x}=L.useContext(Zr),k=N!=null&&nx(v)&&f===!0,P=S.encodeLocation?S.encodeLocation(v).pathname:v.pathname,B=w.pathname,D=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;s||(B=B.toLowerCase(),D=D?D.toLowerCase():null,P=P.toLowerCase()),D&&x&&(D=zr(D,x)||D);const H=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let V=B===P||!l&&B.startsWith(P)&&B.charAt(H)==="/",A=D!=null&&(D===P||!l&&D.startsWith(P)&&D.charAt(P.length)==="/"),ne={isActive:V,isPending:A,isTransitioning:k},le=V?t:void 0,te;typeof i=="function"?te=i(ne):te=[i,V?"active":null,A?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let pe=typeof o=="function"?o(ne):o;return L.createElement(Ke,{...y,"aria-current":le,className:te,ref:g,style:pe,to:u,viewTransition:f},typeof m=="function"?m(ne):m)});Ch.displayName="NavLink";var J_=L.forwardRef(({discover:r="render",fetcherKey:t,navigate:s,reloadDocument:i,replace:l,state:o,method:u=lc,action:f,onSubmit:m,relative:y,preventScrollReset:g,viewTransition:v,...w},N)=>{let S=tx(),x=rx(f,{relative:y}),k=u.toLowerCase()==="get"?"get":"post",P=typeof f=="string"&&My.test(f),B=D=>{if(m&&m(D),D.defaultPrevented)return;D.preventDefault();let H=D.nativeEvent.submitter,V=(H==null?void 0:H.getAttribute("formmethod"))||u;S(H||D.currentTarget,{fetcherKey:t,method:V,navigate:s,replace:l,state:o,relative:y,preventScrollReset:g,viewTransition:v})};return L.createElement("form",{ref:N,method:k,action:x,onSubmit:i?m:B,...w,"data-discover":!P&&r==="render"?"true":void 0})});J_.displayName="Form";function Y_(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Iy(r){let t=L.useContext(pi);return qe(t,Y_(r)),t}function Z_(r,{target:t,replace:s,state:i,preventScrollReset:l,relative:o,viewTransition:u}={}){let f=Nr(),m=Dn(),y=Al(r,{relative:o});return L.useCallback(g=>{if(P_(g,t)){g.preventDefault();let v=s!==void 0?s:js(m)===js(y);f(r,{replace:v,state:i,preventScrollReset:l,relative:o,viewTransition:u})}},[m,f,y,s,i,t,r,l,o,u])}var X_=0,ex=()=>`__${String(++X_)}__`;function tx(){let{router:r}=Iy("useSubmit"),{basename:t}=L.useContext(Zr),s=f_();return L.useCallback(async(i,l={})=>{let{action:o,method:u,encType:f,formData:m,body:y}=R_(i,t);if(l.navigate===!1){let g=l.fetcherKey||ex();await r.fetch(g,s,l.action||o,{preventScrollReset:l.preventScrollReset,formData:m,body:y,formMethod:l.method||u,formEncType:l.encType||f,flushSync:l.flushSync})}else await r.navigate(l.action||o,{preventScrollReset:l.preventScrollReset,formData:m,body:y,formMethod:l.method||u,formEncType:l.encType||f,replace:l.replace,state:l.state,fromRouteId:s,flushSync:l.flushSync,viewTransition:l.viewTransition})},[r,t,s])}function rx(r,{relative:t}={}){let{basename:s}=L.useContext(Zr),i=L.useContext(Xr);qe(i,"useFormAction must be used inside a RouteContext");let[l]=i.matches.slice(-1),o={...Al(r||".",{relative:t})},u=Dn();if(r==null){o.search=u.search;let f=new URLSearchParams(o.search),m=f.getAll("index");if(m.some(g=>g==="")){f.delete("index"),m.filter(v=>v).forEach(v=>f.append("index",v));let g=f.toString();o.search=g?`?${g}`:""}}return(!r||r===".")&&l.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(o.pathname=o.pathname==="/"?s:fn([s,o.pathname])),js(o)}function nx(r,t={}){let s=L.useContext(xh);qe(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Iy("useViewTransitionState"),l=Al(r,{relative:t.relative});if(!s.isTransitioning)return!1;let o=zr(s.currentLocation.pathname,i)||s.currentLocation.pathname,u=zr(s.nextLocation.pathname,i)||s.nextLocation.pathname;return pc(l.pathname,u)!=null||pc(l.pathname,o)!=null}[...I_];var sx=ty();/**
 * react-router v7.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ix(r){return L.createElement(b_,{flushSync:sx.flushSync,...r})}const ax=r=>{let t;return r?t=r:typeof fetch>"u"?t=(...s)=>Rl(async()=>{const{default:i}=await Promise.resolve().then(()=>zl);return{default:i}},[]).then(({default:i})=>i(...s)):t=fetch,(...s)=>t(...s)};class Ph extends Error{constructor(t,s="FunctionsError",i){super(t),this.name=s,this.context=i}}class lx extends Ph{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class ox extends Ph{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class cx extends Ph{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Xd;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(Xd||(Xd={}));var ux=function(r,t,s,i){function l(o){return o instanceof s?o:new s(function(u){u(o)})}return new(s||(s=Promise))(function(o,u){function f(g){try{y(i.next(g))}catch(v){u(v)}}function m(g){try{y(i.throw(g))}catch(v){u(v)}}function y(g){g.done?o(g.value):l(g.value).then(f,m)}y((i=i.apply(r,t||[])).next())})};class dx{constructor(t,{headers:s={},customFetch:i,region:l=Xd.Any}={}){this.url=t,this.headers=s,this.region=l,this.fetch=ax(i)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,s={}){var i;return ux(this,void 0,void 0,function*(){try{const{headers:l,method:o,body:u}=s;let f={},{region:m}=s;m||(m=this.region),m&&m!=="any"&&(f["x-region"]=m);let y;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)&&(typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",y=u):typeof u=="string"?(f["Content-Type"]="text/plain",y=u):typeof FormData<"u"&&u instanceof FormData?y=u:(f["Content-Type"]="application/json",y=JSON.stringify(u)));const g=yield this.fetch(`${this.url}/${t}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),l),body:y}).catch(S=>{throw new lx(S)}),v=g.headers.get("x-relay-error");if(v&&v==="true")throw new ox(g);if(!g.ok)throw new cx(g);let w=((i=g.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),N;return w==="application/json"?N=yield g.json():w==="application/octet-stream"?N=yield g.blob():w==="text/event-stream"?N=g:w==="multipart/form-data"?N=yield g.formData():N=yield g.text(),{data:N,error:null}}catch(l){return{data:null,error:l}}})}}var Mt={},Ui={},Bi={},qi={},Vi={},Wi={},hx=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},pa=hx();const fx=pa.fetch,Fy=pa.fetch.bind(pa),Uy=pa.Headers,mx=pa.Request,px=pa.Response,zl=Object.freeze(Object.defineProperty({__proto__:null,Headers:Uy,Request:mx,Response:px,default:Fy,fetch:fx},Symbol.toStringTag,{value:"Module"})),gx=dw(zl);var Xo={},sg;function By(){if(sg)return Xo;sg=1,Object.defineProperty(Xo,"__esModule",{value:!0});class r extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return Xo.default=r,Xo}var ig;function qy(){if(ig)return Wi;ig=1;var r=Wi&&Wi.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Wi,"__esModule",{value:!0});const t=r(gx),s=r(By());class i{constructor(o){this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=o.headers,this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=o.shouldThrowOnError,this.signal=o.signal,this.isMaybeSingle=o.isMaybeSingle,o.fetch?this.fetch=o.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,u){return this.headers=Object.assign({},this.headers),this.headers[o]=u,this}then(o,u){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const f=this.fetch;let m=f(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async y=>{var g,v,w;let N=null,S=null,x=null,k=y.status,P=y.statusText;if(y.ok){if(this.method!=="HEAD"){const V=await y.text();V===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?S=V:S=JSON.parse(V))}const D=(g=this.headers.Prefer)===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),H=(v=y.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");D&&H&&H.length>1&&(x=parseInt(H[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(S)&&(S.length>1?(N={code:"PGRST116",details:`Results contain ${S.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},S=null,x=null,k=406,P="Not Acceptable"):S.length===1?S=S[0]:S=null)}else{const D=await y.text();try{N=JSON.parse(D),Array.isArray(N)&&y.status===404&&(S=[],N=null,k=200,P="OK")}catch{y.status===404&&D===""?(k=204,P="No Content"):N={message:D}}if(N&&this.isMaybeSingle&&(!((w=N==null?void 0:N.details)===null||w===void 0)&&w.includes("0 rows"))&&(N=null,k=200,P="OK"),N&&this.shouldThrowOnError)throw new s.default(N)}return{error:N,data:S,count:x,status:k,statusText:P}});return this.shouldThrowOnError||(m=m.catch(y=>{var g,v,w;return{error:{message:`${(g=y==null?void 0:y.name)!==null&&g!==void 0?g:"FetchError"}: ${y==null?void 0:y.message}`,details:`${(v=y==null?void 0:y.stack)!==null&&v!==void 0?v:""}`,hint:"",code:`${(w=y==null?void 0:y.code)!==null&&w!==void 0?w:""}`},data:null,count:null,status:0,statusText:""}})),m.then(o,u)}returns(){return this}overrideTypes(){return this}}return Wi.default=i,Wi}var ag;function Vy(){if(ag)return Vi;ag=1;var r=Vi&&Vi.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Vi,"__esModule",{value:!0});const t=r(qy());class s extends t.default{select(l){let o=!1;const u=(l??"*").split("").map(f=>/\s/.test(f)&&!o?"":(f==='"'&&(o=!o),f)).join("");return this.url.searchParams.set("select",u),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(l,{ascending:o=!0,nullsFirst:u,foreignTable:f,referencedTable:m=f}={}){const y=m?`${m}.order`:"order",g=this.url.searchParams.get(y);return this.url.searchParams.set(y,`${g?`${g},`:""}${l}.${o?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(l,{foreignTable:o,referencedTable:u=o}={}){const f=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(f,`${l}`),this}range(l,o,{foreignTable:u,referencedTable:f=u}={}){const m=typeof f>"u"?"offset":`${f}.offset`,y=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(m,`${l}`),this.url.searchParams.set(y,`${o-l+1}`),this}abortSignal(l){return this.signal=l,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:l=!1,verbose:o=!1,settings:u=!1,buffers:f=!1,wal:m=!1,format:y="text"}={}){var g;const v=[l?"analyze":null,o?"verbose":null,u?"settings":null,f?"buffers":null,m?"wal":null].filter(Boolean).join("|"),w=(g=this.headers.Accept)!==null&&g!==void 0?g:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${y}; for="${w}"; options=${v};`,y==="json"?this:this}rollback(){var l;return((l=this.headers.Prefer)!==null&&l!==void 0?l:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Vi.default=s,Vi}var lg;function jh(){if(lg)return qi;lg=1;var r=qi&&qi.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(qi,"__esModule",{value:!0});const t=r(Vy());class s extends t.default{eq(l,o){return this.url.searchParams.append(l,`eq.${o}`),this}neq(l,o){return this.url.searchParams.append(l,`neq.${o}`),this}gt(l,o){return this.url.searchParams.append(l,`gt.${o}`),this}gte(l,o){return this.url.searchParams.append(l,`gte.${o}`),this}lt(l,o){return this.url.searchParams.append(l,`lt.${o}`),this}lte(l,o){return this.url.searchParams.append(l,`lte.${o}`),this}like(l,o){return this.url.searchParams.append(l,`like.${o}`),this}likeAllOf(l,o){return this.url.searchParams.append(l,`like(all).{${o.join(",")}}`),this}likeAnyOf(l,o){return this.url.searchParams.append(l,`like(any).{${o.join(",")}}`),this}ilike(l,o){return this.url.searchParams.append(l,`ilike.${o}`),this}ilikeAllOf(l,o){return this.url.searchParams.append(l,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(l,o){return this.url.searchParams.append(l,`ilike(any).{${o.join(",")}}`),this}is(l,o){return this.url.searchParams.append(l,`is.${o}`),this}in(l,o){const u=Array.from(new Set(o)).map(f=>typeof f=="string"&&new RegExp("[,()]").test(f)?`"${f}"`:`${f}`).join(",");return this.url.searchParams.append(l,`in.(${u})`),this}contains(l,o){return typeof o=="string"?this.url.searchParams.append(l,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(l,`cs.{${o.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(o)}`),this}containedBy(l,o){return typeof o=="string"?this.url.searchParams.append(l,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(l,`cd.{${o.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(o)}`),this}rangeGt(l,o){return this.url.searchParams.append(l,`sr.${o}`),this}rangeGte(l,o){return this.url.searchParams.append(l,`nxl.${o}`),this}rangeLt(l,o){return this.url.searchParams.append(l,`sl.${o}`),this}rangeLte(l,o){return this.url.searchParams.append(l,`nxr.${o}`),this}rangeAdjacent(l,o){return this.url.searchParams.append(l,`adj.${o}`),this}overlaps(l,o){return typeof o=="string"?this.url.searchParams.append(l,`ov.${o}`):this.url.searchParams.append(l,`ov.{${o.join(",")}}`),this}textSearch(l,o,{config:u,type:f}={}){let m="";f==="plain"?m="pl":f==="phrase"?m="ph":f==="websearch"&&(m="w");const y=u===void 0?"":`(${u})`;return this.url.searchParams.append(l,`${m}fts${y}.${o}`),this}match(l){return Object.entries(l).forEach(([o,u])=>{this.url.searchParams.append(o,`eq.${u}`)}),this}not(l,o,u){return this.url.searchParams.append(l,`not.${o}.${u}`),this}or(l,{foreignTable:o,referencedTable:u=o}={}){const f=u?`${u}.or`:"or";return this.url.searchParams.append(f,`(${l})`),this}filter(l,o,u){return this.url.searchParams.append(l,`${o}.${u}`),this}}return qi.default=s,qi}var og;function Wy(){if(og)return Bi;og=1;var r=Bi&&Bi.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Bi,"__esModule",{value:!0});const t=r(jh());class s{constructor(l,{headers:o={},schema:u,fetch:f}){this.url=l,this.headers=o,this.schema=u,this.fetch=f}select(l,{head:o=!1,count:u}={}){const f=o?"HEAD":"GET";let m=!1;const y=(l??"*").split("").map(g=>/\s/.test(g)&&!m?"":(g==='"'&&(m=!m),g)).join("");return this.url.searchParams.set("select",y),u&&(this.headers.Prefer=`count=${u}`),new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(l,{count:o,defaultToNull:u=!0}={}){const f="POST",m=[];if(this.headers.Prefer&&m.push(this.headers.Prefer),o&&m.push(`count=${o}`),u||m.push("missing=default"),this.headers.Prefer=m.join(","),Array.isArray(l)){const y=l.reduce((g,v)=>g.concat(Object.keys(v)),[]);if(y.length>0){const g=[...new Set(y)].map(v=>`"${v}"`);this.url.searchParams.set("columns",g.join(","))}}return new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:this.fetch,allowEmpty:!1})}upsert(l,{onConflict:o,ignoreDuplicates:u=!1,count:f,defaultToNull:m=!0}={}){const y="POST",g=[`resolution=${u?"ignore":"merge"}-duplicates`];if(o!==void 0&&this.url.searchParams.set("on_conflict",o),this.headers.Prefer&&g.push(this.headers.Prefer),f&&g.push(`count=${f}`),m||g.push("missing=default"),this.headers.Prefer=g.join(","),Array.isArray(l)){const v=l.reduce((w,N)=>w.concat(Object.keys(N)),[]);if(v.length>0){const w=[...new Set(v)].map(N=>`"${N}"`);this.url.searchParams.set("columns",w.join(","))}}return new t.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:this.fetch,allowEmpty:!1})}update(l,{count:o}={}){const u="PATCH",f=[];return this.headers.Prefer&&f.push(this.headers.Prefer),o&&f.push(`count=${o}`),this.headers.Prefer=f.join(","),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:this.fetch,allowEmpty:!1})}delete({count:l}={}){const o="DELETE",u=[];return l&&u.push(`count=${l}`),this.headers.Prefer&&u.unshift(this.headers.Prefer),this.headers.Prefer=u.join(","),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Bi.default=s,Bi}var ll={},ol={},cg;function yx(){return cg||(cg=1,Object.defineProperty(ol,"__esModule",{value:!0}),ol.version=void 0,ol.version="0.0.0-automated"),ol}var ug;function vx(){if(ug)return ll;ug=1,Object.defineProperty(ll,"__esModule",{value:!0}),ll.DEFAULT_HEADERS=void 0;const r=yx();return ll.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${r.version}`},ll}var dg;function wx(){if(dg)return Ui;dg=1;var r=Ui&&Ui.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Ui,"__esModule",{value:!0});const t=r(Wy()),s=r(jh()),i=vx();class l{constructor(u,{headers:f={},schema:m,fetch:y}={}){this.url=u,this.headers=Object.assign(Object.assign({},i.DEFAULT_HEADERS),f),this.schemaName=m,this.fetch=y}from(u){const f=new URL(`${this.url}/${u}`);return new t.default(f,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(u){return new l(this.url,{headers:this.headers,schema:u,fetch:this.fetch})}rpc(u,f={},{head:m=!1,get:y=!1,count:g}={}){let v;const w=new URL(`${this.url}/rpc/${u}`);let N;m||y?(v=m?"HEAD":"GET",Object.entries(f).filter(([x,k])=>k!==void 0).map(([x,k])=>[x,Array.isArray(k)?`{${k.join(",")}}`:`${k}`]).forEach(([x,k])=>{w.searchParams.append(x,k)})):(v="POST",N=f);const S=Object.assign({},this.headers);return g&&(S.Prefer=`count=${g}`),new s.default({method:v,url:w,headers:S,schema:this.schemaName,body:N,fetch:this.fetch,allowEmpty:!1})}}return Ui.default=l,Ui}var hg;function bx(){if(hg)return Mt;hg=1;var r=Mt&&Mt.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(Mt,"__esModule",{value:!0}),Mt.PostgrestError=Mt.PostgrestBuilder=Mt.PostgrestTransformBuilder=Mt.PostgrestFilterBuilder=Mt.PostgrestQueryBuilder=Mt.PostgrestClient=void 0;const t=r(wx());Mt.PostgrestClient=t.default;const s=r(Wy());Mt.PostgrestQueryBuilder=s.default;const i=r(jh());Mt.PostgrestFilterBuilder=i.default;const l=r(Vy());Mt.PostgrestTransformBuilder=l.default;const o=r(qy());Mt.PostgrestBuilder=o.default;const u=r(By());return Mt.PostgrestError=u.default,Mt.default={PostgrestClient:t.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:l.default,PostgrestBuilder:o.default,PostgrestError:u.default},Mt}var _x=bx();const xx=ey(_x),{PostgrestClient:kx,PostgrestQueryBuilder:lC,PostgrestFilterBuilder:oC,PostgrestTransformBuilder:cC,PostgrestBuilder:uC,PostgrestError:dC}=xx;let eh;typeof window>"u"?eh=require("ws"):eh=window.WebSocket;const Nx="2.11.10",Sx={"X-Client-Info":`realtime-js/${Nx}`},Ex="1.0.0",Hy=1e4,Cx=1e3;var ea;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(ea||(ea={}));var Yt;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(Yt||(Yt={}));var Qr;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(Qr||(Qr={}));var th;(function(r){r.websocket="websocket"})(th||(th={}));var Xs;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(Xs||(Xs={}));class Px{constructor(){this.HEADER_LENGTH=1}decode(t,s){return t.constructor===ArrayBuffer?s(this._binaryDecode(t)):s(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const s=new DataView(t),i=new TextDecoder;return this._decodeBroadcast(t,s,i)}_decodeBroadcast(t,s,i){const l=s.getUint8(1),o=s.getUint8(2);let u=this.HEADER_LENGTH+2;const f=i.decode(t.slice(u,u+l));u=u+l;const m=i.decode(t.slice(u,u+o));u=u+o;const y=JSON.parse(i.decode(t.slice(u,t.byteLength)));return{ref:null,topic:f,event:m,payload:y}}}class Ky{constructor(t,s){this.callback=t,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ct;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(ct||(ct={}));const fg=(r,t,s={})=>{var i;const l=(i=s.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(t).reduce((o,u)=>(o[u]=jx(u,r,t,l),o),{})},jx=(r,t,s,i)=>{const l=t.find(f=>f.name===r),o=l==null?void 0:l.type,u=s[r];return o&&!i.includes(o)?Qy(o,u):rh(u)},Qy=(r,t)=>{if(r.charAt(0)==="_"){const s=r.slice(1,r.length);return Lx(t,s)}switch(r){case ct.bool:return Tx(t);case ct.float4:case ct.float8:case ct.int2:case ct.int4:case ct.int8:case ct.numeric:case ct.oid:return Rx(t);case ct.json:case ct.jsonb:return Ox(t);case ct.timestamp:return Ax(t);case ct.abstime:case ct.date:case ct.daterange:case ct.int4range:case ct.int8range:case ct.money:case ct.reltime:case ct.text:case ct.time:case ct.timestamptz:case ct.timetz:case ct.tsrange:case ct.tstzrange:return rh(t);default:return rh(t)}},rh=r=>r,Tx=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},Rx=r=>{if(typeof r=="string"){const t=parseFloat(r);if(!Number.isNaN(t))return t}return r},Ox=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(t){return console.log(`JSON parse error: ${t}`),r}return r},Lx=(r,t)=>{if(typeof r!="string")return r;const s=r.length-1,i=r[s];if(r[0]==="{"&&i==="}"){let o;const u=r.slice(1,s);try{o=JSON.parse("["+u+"]")}catch{o=u?u.split(","):[]}return o.map(f=>Qy(t,f))}return r},Ax=r=>typeof r=="string"?r.replace(" ","T"):r,Gy=r=>{let t=r;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Pd{constructor(t,s,i={},l=Hy){this.channel=t,this.event=s,this.payload=i,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,s){var i;return this._hasReceived(t)&&s((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:t,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:s}){this.recHooks.filter(i=>i.status===t).forEach(i=>i.callback(s))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var mg;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(mg||(mg={}));class gl{constructor(t,s){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},l=>{const{onJoin:o,onLeave:u,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=gl.syncState(this.state,l,o,u),this.pendingDiffs.forEach(m=>{this.state=gl.syncDiff(this.state,m,o,u)}),this.pendingDiffs=[],f()}),this.channel._on(i.diff,{},l=>{const{onJoin:o,onLeave:u,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=gl.syncDiff(this.state,l,o,u),f())}),this.onJoin((l,o,u)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:o,newPresences:u})}),this.onLeave((l,o,u)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:o,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,s,i,l){const o=this.cloneDeep(t),u=this.transformState(s),f={},m={};return this.map(o,(y,g)=>{u[y]||(m[y]=g)}),this.map(u,(y,g)=>{const v=o[y];if(v){const w=g.map(k=>k.presence_ref),N=v.map(k=>k.presence_ref),S=g.filter(k=>N.indexOf(k.presence_ref)<0),x=v.filter(k=>w.indexOf(k.presence_ref)<0);S.length>0&&(f[y]=S),x.length>0&&(m[y]=x)}else f[y]=g}),this.syncDiff(o,{joins:f,leaves:m},i,l)}static syncDiff(t,s,i,l){const{joins:o,leaves:u}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return i||(i=()=>{}),l||(l=()=>{}),this.map(o,(f,m)=>{var y;const g=(y=t[f])!==null&&y!==void 0?y:[];if(t[f]=this.cloneDeep(m),g.length>0){const v=t[f].map(N=>N.presence_ref),w=g.filter(N=>v.indexOf(N.presence_ref)<0);t[f].unshift(...w)}i(f,g,m)}),this.map(u,(f,m)=>{let y=t[f];if(!y)return;const g=m.map(v=>v.presence_ref);y=y.filter(v=>g.indexOf(v.presence_ref)<0),t[f]=y,l(f,y,m),y.length===0&&delete t[f]}),t}static map(t,s){return Object.getOwnPropertyNames(t).map(i=>s(i,t[i]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((s,i)=>{const l=t[i];return"metas"in l?s[i]=l.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):s[i]=l,s},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var pg;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(pg||(pg={}));var gg;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(gg||(gg={}));var Rn;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(Rn||(Rn={}));class Th{constructor(t,s={config:{}},i){this.topic=t,this.params=s,this.socket=i,this.bindings={},this.state=Yt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Pd(this,Qr.join,this.params,this.timeout),this.rejoinTimer=new Ky(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Yt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Yt.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Yt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Yt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Qr.reply,{},(l,o)=>{this._trigger(this._replyEventName(o),l)}),this.presence=new gl(this),this.broadcastEndpointURL=Gy(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,s=this.timeout){var i,l;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:o,presence:u,private:f}}=this.params;this._onError(g=>t==null?void 0:t(Rn.CHANNEL_ERROR,g)),this._onClose(()=>t==null?void 0:t(Rn.CLOSED));const m={},y={broadcast:o,presence:u,postgres_changes:(l=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(g=>g.filter))!==null&&l!==void 0?l:[],private:f};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:y},m)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:g})=>{var v;if(this.socket.setAuth(),g===void 0){t==null||t(Rn.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,N=(v=w==null?void 0:w.length)!==null&&v!==void 0?v:0,S=[];for(let x=0;x<N;x++){const k=w[x],{filter:{event:P,schema:B,table:D,filter:H}}=k,V=g&&g[x];if(V&&V.event===P&&V.schema===B&&V.table===D&&V.filter===H)S.push(Object.assign(Object.assign({},k),{id:V.id}));else{this.unsubscribe(),this.state=Yt.errored,t==null||t(Rn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=S,t&&t(Rn.SUBSCRIBED);return}}).receive("error",g=>{this.state=Yt.errored,t==null||t(Rn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Rn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,s={}){return await this.send({type:"presence",event:"track",payload:t},s.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,s,i){return this._on(t,s,i)}async send(t,s={}){var i,l;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:u}=t,m={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:u,private:this.private}]})};try{const y=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(i=s.timeout)!==null&&i!==void 0?i:this.timeout);return await((l=y.body)===null||l===void 0?void 0:l.cancel()),y.ok?"ok":"error"}catch(y){return y.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var u,f,m;const y=this._push(t.type,t,s.timeout||this.timeout);t.type==="broadcast"&&!(!((m=(f=(u=this.params)===null||u===void 0?void 0:u.config)===null||f===void 0?void 0:f.broadcast)===null||m===void 0)&&m.ack)&&o("ok"),y.receive("ok",()=>o("ok")),y.receive("error",()=>o("error")),y.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Yt.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Qr.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(i=>{const l=new Pd(this,Qr.leave,{},t);l.receive("ok",()=>{s(),i("ok")}).receive("timeout",()=>{s(),i("timed out")}).receive("error",()=>{i("error")}),l.send(),this._canPush()||l.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,s,i){const l=new AbortController,o=setTimeout(()=>l.abort(),i),u=await this.socket.fetch(t,Object.assign(Object.assign({},s),{signal:l.signal}));return clearTimeout(o),u}_push(t,s,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new Pd(this,t,s,i);return this._canPush()?l.send():(l.startTimeout(),this.pushBuffer.push(l)),l}_onMessage(t,s,i){return s}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,s,i){var l,o;const u=t.toLocaleLowerCase(),{close:f,error:m,leave:y,join:g}=Qr;if(i&&[f,m,y,g].indexOf(u)>=0&&i!==this._joinRef())return;let w=this._onMessage(u,s,i);if(s&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(N=>{var S,x,k;return((S=N.filter)===null||S===void 0?void 0:S.event)==="*"||((k=(x=N.filter)===null||x===void 0?void 0:x.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===u}).map(N=>N.callback(w,i)):(o=this.bindings[u])===null||o===void 0||o.filter(N=>{var S,x,k,P,B,D;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in N){const H=N.id,V=(S=N.filter)===null||S===void 0?void 0:S.event;return H&&((x=s.ids)===null||x===void 0?void 0:x.includes(H))&&(V==="*"||(V==null?void 0:V.toLocaleLowerCase())===((k=s.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const H=(B=(P=N==null?void 0:N.filter)===null||P===void 0?void 0:P.event)===null||B===void 0?void 0:B.toLocaleLowerCase();return H==="*"||H===((D=s==null?void 0:s.event)===null||D===void 0?void 0:D.toLocaleLowerCase())}else return N.type.toLocaleLowerCase()===u}).map(N=>{if(typeof w=="object"&&"ids"in w){const S=w.data,{schema:x,table:k,commit_timestamp:P,type:B,errors:D}=S;w=Object.assign(Object.assign({},{schema:x,table:k,commit_timestamp:P,eventType:B,new:{},old:{},errors:D}),this._getPayloadRecords(S))}N.callback(w,i)})}_isClosed(){return this.state===Yt.closed}_isJoined(){return this.state===Yt.joined}_isJoining(){return this.state===Yt.joining}_isLeaving(){return this.state===Yt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,s,i){const l=t.toLocaleLowerCase(),o={type:l,filter:s,callback:i};return this.bindings[l]?this.bindings[l].push(o):this.bindings[l]=[o],this}_off(t,s){const i=t.toLocaleLowerCase();return this.bindings[i]=this.bindings[i].filter(l=>{var o;return!(((o=l.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===i&&Th.isEqual(l.filter,s))}),this}static isEqual(t,s){if(Object.keys(t).length!==Object.keys(s).length)return!1;for(const i in t)if(t[i]!==s[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Qr.close,{},t)}_onError(t){this._on(Qr.error,{},s=>t(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Yt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const s={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(s.new=fg(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(s.old=fg(t.columns,t.old_record)),s}}const yg=()=>{},zx=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Dx{constructor(t,s){var i;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=Sx,this.params={},this.timeout=Hy,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=yg,this.ref=0,this.logger=yg,this.conn=null,this.sendBuffer=[],this.serializer=new Px,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let u;return o?u=o:typeof fetch>"u"?u=(...f)=>Rl(async()=>{const{default:m}=await import("./index-DY4Tqotv.js");return{default:m}},[]).then(({default:m})=>m(...f)):u=fetch,(...f)=>u(...f)},this.endPoint=`${t}/${th.websocket}`,this.httpEndpoint=Gy(t),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.headers&&(this.headers=Object.assign(Object.assign({},this.headers),s.headers)),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),(s!=null&&s.logLevel||s!=null&&s.log_level)&&(this.logLevel=s.logLevel||s.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const l=(i=s==null?void 0:s.params)===null||i===void 0?void 0:i.apikey;if(l&&(this.accessTokenValue=l,this.apiKey=l),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(o,u)=>u(JSON.stringify(o)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Ky(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch),s!=null&&s.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(s==null?void 0:s.worker)||!1,this.workerUrl=s==null?void 0:s.workerUrl}this.accessToken=(s==null?void 0:s.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=eh),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new $x(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Ex}))}disconnect(t,s){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(i=>i.teardown()))}getChannels(){return this.channels}async removeChannel(t){const s=await t.unsubscribe();return this.channels=this.channels.filter(i=>i._joinRef!==t._joinRef),this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const t=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,s,i){this.logger(t,s,i)}connectionState(){switch(this.conn&&this.conn.readyState){case ea.connecting:return Xs.Connecting;case ea.open:return Xs.Open;case ea.closing:return Xs.Closing;default:return Xs.Closed}}isConnected(){return this.connectionState()===Xs.Open}channel(t,s={config:{}}){const i=`realtime:${t}`,l=this.getChannels().find(o=>o.topic===i);if(l)return l;{const o=new Th(`realtime:${t}`,s,this);return this.channels.push(o),o}}push(t){const{topic:s,event:i,payload:l,ref:o}=t,u=()=>{this.encode(t,f=>{var m;(m=this.conn)===null||m===void 0||m.send(f)})};this.log("push",`${s} ${i} (${o})`,l),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(t=null){let s=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(i=>{s&&i.updateJoinPayload({access_token:s,version:this.headers&&this.headers["X-Client-Info"]}),i.joinedOnce&&i._isJoined()&&i._push(Qr.access_token,{access_token:s})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(Cx,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let s=this.channels.find(i=>i.topic===t&&(i._isJoined()||i._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${t}"`),s.unsubscribe())}_remove(t){this.channels=this.channels.filter(s=>s.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,s=>{let{topic:i,event:l,payload:o,ref:u}=s;i==="phoenix"&&l==="phx_reply"&&this.heartbeatCallback(s.payload.status=="ok"?"ok":"error"),u&&u===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${i} ${l} ${u&&"("+u+")"||""}`,o),Array.from(this.channels).filter(f=>f._isMember(i)).forEach(f=>f._trigger(l,o,u)),this.stateChangeCallbacks.message.forEach(f=>f(s))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Qr.error))}_appendParams(t,s){if(Object.keys(s).length===0)return t;const i=t.match(/\?/)?"&":"?",l=new URLSearchParams(s);return`${t}${i}${l}`}_workerObjectUrl(t){let s;if(t)s=t;else{const i=new Blob([zx],{type:"application/javascript"});s=URL.createObjectURL(i)}return s}}class $x{constructor(t,s,i){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=ea.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=i.close}}class Rh extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function It(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class Mx extends Rh{constructor(t,s){super(t),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class nh extends Rh{constructor(t,s){super(t),this.name="StorageUnknownError",this.originalError=s}}var Ix=function(r,t,s,i){function l(o){return o instanceof s?o:new s(function(u){u(o)})}return new(s||(s=Promise))(function(o,u){function f(g){try{y(i.next(g))}catch(v){u(v)}}function m(g){try{y(i.throw(g))}catch(v){u(v)}}function y(g){g.done?o(g.value):l(g.value).then(f,m)}y((i=i.apply(r,t||[])).next())})};const Jy=r=>{let t;return r?t=r:typeof fetch>"u"?t=(...s)=>Rl(async()=>{const{default:i}=await Promise.resolve().then(()=>zl);return{default:i}},void 0).then(({default:i})=>i(...s)):t=fetch,(...s)=>t(...s)},Fx=()=>Ix(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Rl(()=>Promise.resolve().then(()=>zl),void 0)).Response:Response}),sh=r=>{if(Array.isArray(r))return r.map(s=>sh(s));if(typeof r=="function"||r!==Object(r))return r;const t={};return Object.entries(r).forEach(([s,i])=>{const l=s.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[l]=sh(i)}),t};var gi=function(r,t,s,i){function l(o){return o instanceof s?o:new s(function(u){u(o)})}return new(s||(s=Promise))(function(o,u){function f(g){try{y(i.next(g))}catch(v){u(v)}}function m(g){try{y(i.throw(g))}catch(v){u(v)}}function y(g){g.done?o(g.value):l(g.value).then(f,m)}y((i=i.apply(r,t||[])).next())})};const jd=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),Ux=(r,t,s)=>gi(void 0,void 0,void 0,function*(){const i=yield Fx();r instanceof i&&!(s!=null&&s.noResolveJson)?r.json().then(l=>{t(new Mx(jd(l),r.status||500))}).catch(l=>{t(new nh(jd(l),l))}):t(new nh(jd(r),r))}),Bx=(r,t,s,i)=>{const l={method:r,headers:(t==null?void 0:t.headers)||{}};return r==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i&&(l.body=JSON.stringify(i)),Object.assign(Object.assign({},l),s))};function Dl(r,t,s,i,l,o){return gi(this,void 0,void 0,function*(){return new Promise((u,f)=>{r(s,Bx(t,i,l,o)).then(m=>{if(!m.ok)throw m;return i!=null&&i.noResolveJson?m:m.json()}).then(m=>u(m)).catch(m=>Ux(m,f,i))})})}function vc(r,t,s,i){return gi(this,void 0,void 0,function*(){return Dl(r,"GET",t,s,i)})}function ms(r,t,s,i,l){return gi(this,void 0,void 0,function*(){return Dl(r,"POST",t,i,l,s)})}function qx(r,t,s,i,l){return gi(this,void 0,void 0,function*(){return Dl(r,"PUT",t,i,l,s)})}function Vx(r,t,s,i){return gi(this,void 0,void 0,function*(){return Dl(r,"HEAD",t,Object.assign(Object.assign({},s),{noResolveJson:!0}),i)})}function Yy(r,t,s,i,l){return gi(this,void 0,void 0,function*(){return Dl(r,"DELETE",t,i,l,s)})}var hr=function(r,t,s,i){function l(o){return o instanceof s?o:new s(function(u){u(o)})}return new(s||(s=Promise))(function(o,u){function f(g){try{y(i.next(g))}catch(v){u(v)}}function m(g){try{y(i.throw(g))}catch(v){u(v)}}function y(g){g.done?o(g.value):l(g.value).then(f,m)}y((i=i.apply(r,t||[])).next())})};const Wx={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},vg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Hx{constructor(t,s={},i,l){this.url=t,this.headers=s,this.bucketId=i,this.fetch=Jy(l)}uploadOrUpdate(t,s,i,l){return hr(this,void 0,void 0,function*(){try{let o;const u=Object.assign(Object.assign({},vg),l);let f=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(u.upsert)});const m=u.metadata;typeof Blob<"u"&&i instanceof Blob?(o=new FormData,o.append("cacheControl",u.cacheControl),m&&o.append("metadata",this.encodeMetadata(m)),o.append("",i)):typeof FormData<"u"&&i instanceof FormData?(o=i,o.append("cacheControl",u.cacheControl),m&&o.append("metadata",this.encodeMetadata(m))):(o=i,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType,m&&(f["x-metadata"]=this.toBase64(this.encodeMetadata(m)))),l!=null&&l.headers&&(f=Object.assign(Object.assign({},f),l.headers));const y=this._removeEmptyFolders(s),g=this._getFinalPath(y),v=yield this.fetch(`${this.url}/object/${g}`,Object.assign({method:t,body:o,headers:f},u!=null&&u.duplex?{duplex:u.duplex}:{})),w=yield v.json();return v.ok?{data:{path:y,id:w.Id,fullPath:w.Key},error:null}:{data:null,error:w}}catch(o){if(It(o))return{data:null,error:o};throw o}})}upload(t,s,i){return hr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,s,i)})}uploadToSignedUrl(t,s,i,l){return hr(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),u=this._getFinalPath(o),f=new URL(this.url+`/object/upload/sign/${u}`);f.searchParams.set("token",s);try{let m;const y=Object.assign({upsert:vg.upsert},l),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(y.upsert)});typeof Blob<"u"&&i instanceof Blob?(m=new FormData,m.append("cacheControl",y.cacheControl),m.append("",i)):typeof FormData<"u"&&i instanceof FormData?(m=i,m.append("cacheControl",y.cacheControl)):(m=i,g["cache-control"]=`max-age=${y.cacheControl}`,g["content-type"]=y.contentType);const v=yield this.fetch(f.toString(),{method:"PUT",body:m,headers:g}),w=yield v.json();return v.ok?{data:{path:o,fullPath:w.Key},error:null}:{data:null,error:w}}catch(m){if(It(m))return{data:null,error:m};throw m}})}createSignedUploadUrl(t,s){return hr(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t);const l=Object.assign({},this.headers);s!=null&&s.upsert&&(l["x-upsert"]="true");const o=yield ms(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:l}),u=new URL(this.url+o.url),f=u.searchParams.get("token");if(!f)throw new Rh("No token returned by API");return{data:{signedUrl:u.toString(),path:t,token:f},error:null}}catch(i){if(It(i))return{data:null,error:i};throw i}})}update(t,s,i){return hr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,s,i)})}move(t,s,i){return hr(this,void 0,void 0,function*(){try{return{data:yield ms(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers}),error:null}}catch(l){if(It(l))return{data:null,error:l};throw l}})}copy(t,s,i){return hr(this,void 0,void 0,function*(){try{return{data:{path:(yield ms(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers})).Key},error:null}}catch(l){if(It(l))return{data:null,error:l};throw l}})}createSignedUrl(t,s,i){return hr(this,void 0,void 0,function*(){try{let l=this._getFinalPath(t),o=yield ms(this.fetch,`${this.url}/object/sign/${l}`,Object.assign({expiresIn:s},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const u=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${u}`)},{data:o,error:null}}catch(l){if(It(l))return{data:null,error:l};throw l}})}createSignedUrls(t,s,i){return hr(this,void 0,void 0,function*(){try{const l=yield ms(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:t},{headers:this.headers}),o=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:l.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${o}`):null})),error:null}}catch(l){if(It(l))return{data:null,error:l};throw l}})}download(t,s){return hr(this,void 0,void 0,function*(){const l=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),u=o?`?${o}`:"";try{const f=this._getFinalPath(t);return{data:yield(yield vc(this.fetch,`${this.url}/${l}/${f}${u}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(f){if(It(f))return{data:null,error:f};throw f}})}info(t){return hr(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{const i=yield vc(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:sh(i),error:null}}catch(i){if(It(i))return{data:null,error:i};throw i}})}exists(t){return hr(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{return yield Vx(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(It(i)&&i instanceof nh){const l=i.originalError;if([400,404].includes(l==null?void 0:l.status))return{data:!1,error:i}}throw i}})}getPublicUrl(t,s){const i=this._getFinalPath(t),l=[],o=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";o!==""&&l.push(o);const f=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",m=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});m!==""&&l.push(m);let y=l.join("&");return y!==""&&(y=`?${y}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${i}${y}`)}}}remove(t){return hr(this,void 0,void 0,function*(){try{return{data:yield Yy(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(s){if(It(s))return{data:null,error:s};throw s}})}list(t,s,i){return hr(this,void 0,void 0,function*(){try{const l=Object.assign(Object.assign(Object.assign({},Wx),s),{prefix:t||""});return{data:yield ms(this.fetch,`${this.url}/object/list/${this.bucketId}`,l,{headers:this.headers},i),error:null}}catch(l){if(It(l))return{data:null,error:l};throw l}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const s=[];return t.width&&s.push(`width=${t.width}`),t.height&&s.push(`height=${t.height}`),t.resize&&s.push(`resize=${t.resize}`),t.format&&s.push(`format=${t.format}`),t.quality&&s.push(`quality=${t.quality}`),s.join("&")}}const Kx="2.7.1",Qx={"X-Client-Info":`storage-js/${Kx}`};var Hi=function(r,t,s,i){function l(o){return o instanceof s?o:new s(function(u){u(o)})}return new(s||(s=Promise))(function(o,u){function f(g){try{y(i.next(g))}catch(v){u(v)}}function m(g){try{y(i.throw(g))}catch(v){u(v)}}function y(g){g.done?o(g.value):l(g.value).then(f,m)}y((i=i.apply(r,t||[])).next())})};class Gx{constructor(t,s={},i){this.url=t,this.headers=Object.assign(Object.assign({},Qx),s),this.fetch=Jy(i)}listBuckets(){return Hi(this,void 0,void 0,function*(){try{return{data:yield vc(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(It(t))return{data:null,error:t};throw t}})}getBucket(t){return Hi(this,void 0,void 0,function*(){try{return{data:yield vc(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(s){if(It(s))return{data:null,error:s};throw s}})}createBucket(t,s={public:!1}){return Hi(this,void 0,void 0,function*(){try{return{data:yield ms(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(It(i))return{data:null,error:i};throw i}})}updateBucket(t,s){return Hi(this,void 0,void 0,function*(){try{return{data:yield qx(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(It(i))return{data:null,error:i};throw i}})}emptyBucket(t){return Hi(this,void 0,void 0,function*(){try{return{data:yield ms(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(It(s))return{data:null,error:s};throw s}})}deleteBucket(t){return Hi(this,void 0,void 0,function*(){try{return{data:yield Yy(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(s){if(It(s))return{data:null,error:s};throw s}})}}class Jx extends Gx{constructor(t,s={},i){super(t,s,i)}from(t){return new Hx(this.url,this.headers,t,this.fetch)}}const Yx="2.50.0";let ml="";typeof Deno<"u"?ml="deno":typeof document<"u"?ml="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ml="react-native":ml="node";const Zx={"X-Client-Info":`supabase-js-${ml}/${Yx}`},Xx={headers:Zx},e1={schema:"public"},t1={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},r1={};var n1=function(r,t,s,i){function l(o){return o instanceof s?o:new s(function(u){u(o)})}return new(s||(s=Promise))(function(o,u){function f(g){try{y(i.next(g))}catch(v){u(v)}}function m(g){try{y(i.throw(g))}catch(v){u(v)}}function y(g){g.done?o(g.value):l(g.value).then(f,m)}y((i=i.apply(r,t||[])).next())})};const s1=r=>{let t;return r?t=r:typeof fetch>"u"?t=Fy:t=fetch,(...s)=>t(...s)},i1=()=>typeof Headers>"u"?Uy:Headers,a1=(r,t,s)=>{const i=s1(s),l=i1();return(o,u)=>n1(void 0,void 0,void 0,function*(){var f;const m=(f=yield t())!==null&&f!==void 0?f:r;let y=new l(u==null?void 0:u.headers);return y.has("apikey")||y.set("apikey",r),y.has("Authorization")||y.set("Authorization",`Bearer ${m}`),i(o,Object.assign(Object.assign({},u),{headers:y}))})};var l1=function(r,t,s,i){function l(o){return o instanceof s?o:new s(function(u){u(o)})}return new(s||(s=Promise))(function(o,u){function f(g){try{y(i.next(g))}catch(v){u(v)}}function m(g){try{y(i.throw(g))}catch(v){u(v)}}function y(g){g.done?o(g.value):l(g.value).then(f,m)}y((i=i.apply(r,t||[])).next())})};function o1(r){return r.endsWith("/")?r:r+"/"}function c1(r,t){var s,i;const{db:l,auth:o,realtime:u,global:f}=r,{db:m,auth:y,realtime:g,global:v}=t,w={db:Object.assign(Object.assign({},m),l),auth:Object.assign(Object.assign({},y),o),realtime:Object.assign(Object.assign({},g),u),global:Object.assign(Object.assign(Object.assign({},v),f),{headers:Object.assign(Object.assign({},(s=v==null?void 0:v.headers)!==null&&s!==void 0?s:{}),(i=f==null?void 0:f.headers)!==null&&i!==void 0?i:{})}),accessToken:()=>l1(this,void 0,void 0,function*(){return""})};return r.accessToken?w.accessToken=r.accessToken:delete w.accessToken,w}const Zy="2.70.0",Zi=30*1e3,ih=3,Td=ih*Zi,u1="http://localhost:9999",d1="supabase.auth.token",h1={"X-Client-Info":`gotrue-js/${Zy}`},ah="X-Supabase-Api-Version",Xy={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},f1=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,m1=6e5;class Oh extends Error{constructor(t,s,i){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=i}}function Fe(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class p1 extends Oh{constructor(t,s,i){super(t,s,i),this.name="AuthApiError",this.status=s,this.code=i}}function g1(r){return Fe(r)&&r.name==="AuthApiError"}class ev extends Oh{constructor(t,s){super(t),this.name="AuthUnknownError",this.originalError=s}}class Rs extends Oh{constructor(t,s,i,l){super(t,i,l),this.name=s,this.status=i}}class fs extends Rs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function y1(r){return Fe(r)&&r.name==="AuthSessionMissingError"}class ec extends Rs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class tc extends Rs{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class rc extends Rs{constructor(t,s=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function v1(r){return Fe(r)&&r.name==="AuthImplicitGrantRedirectError"}class wg extends Rs{constructor(t,s=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class lh extends Rs{constructor(t,s){super(t,"AuthRetryableFetchError",s,void 0)}}function Rd(r){return Fe(r)&&r.name==="AuthRetryableFetchError"}class bg extends Rs{constructor(t,s,i){super(t,"AuthWeakPasswordError",s,"weak_password"),this.reasons=i}}class yl extends Rs{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const wc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),_g=` 	
\r=`.split(""),w1=(()=>{const r=new Array(128);for(let t=0;t<r.length;t+=1)r[t]=-1;for(let t=0;t<_g.length;t+=1)r[_g[t].charCodeAt(0)]=-2;for(let t=0;t<wc.length;t+=1)r[wc[t].charCodeAt(0)]=t;return r})();function xg(r,t,s){if(r!==null)for(t.queue=t.queue<<8|r,t.queuedBits+=8;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;s(wc[i]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;s(wc[i]),t.queuedBits-=6}}function tv(r,t,s){const i=w1[r];if(i>-1)for(t.queue=t.queue<<6|i,t.queuedBits+=6;t.queuedBits>=8;)s(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function kg(r){const t=[],s=u=>{t.push(String.fromCodePoint(u))},i={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},o=u=>{x1(u,i,s)};for(let u=0;u<r.length;u+=1)tv(r.charCodeAt(u),l,o);return t.join("")}function b1(r,t){if(r<=127){t(r);return}else if(r<=2047){t(192|r>>6),t(128|r&63);return}else if(r<=65535){t(224|r>>12),t(128|r>>6&63),t(128|r&63);return}else if(r<=1114111){t(240|r>>18),t(128|r>>12&63),t(128|r>>6&63),t(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function _1(r,t){for(let s=0;s<r.length;s+=1){let i=r.charCodeAt(s);if(i>55295&&i<=56319){const l=(i-55296)*1024&65535;i=(r.charCodeAt(s+1)-56320&65535|l)+65536,s+=1}b1(i,t)}}function x1(r,t,s){if(t.utf8seq===0){if(r<=127){s(r);return}for(let i=1;i<6;i+=1)if((r>>7-i&1)===0){t.utf8seq=i;break}if(t.utf8seq===2)t.codepoint=r&31;else if(t.utf8seq===3)t.codepoint=r&15;else if(t.utf8seq===4)t.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|r&63,t.utf8seq-=1,t.utf8seq===0&&s(t.codepoint)}}function k1(r){const t=[],s={queue:0,queuedBits:0},i=l=>{t.push(l)};for(let l=0;l<r.length;l+=1)tv(r.charCodeAt(l),s,i);return new Uint8Array(t)}function N1(r){const t=[];return _1(r,s=>t.push(s)),new Uint8Array(t)}function S1(r){const t=[],s={queue:0,queuedBits:0},i=l=>{t.push(l)};return r.forEach(l=>xg(l,s,i)),xg(null,s,i),t.join("")}function E1(r){return Math.round(Date.now()/1e3)+r}function C1(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const t=Math.random()*16|0;return(r=="x"?t:t&3|8).toString(16)})}const Wr=()=>typeof window<"u"&&typeof document<"u",Js={tested:!1,writable:!1},vl=()=>{if(!Wr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Js.tested)return Js.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),Js.tested=!0,Js.writable=!0}catch{Js.tested=!0,Js.writable=!1}return Js.writable};function P1(r){const t={},s=new URL(r);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((l,o)=>{t[o]=l})}catch{}return s.searchParams.forEach((i,l)=>{t[l]=i}),t}const rv=r=>{let t;return r?t=r:typeof fetch>"u"?t=(...s)=>Rl(async()=>{const{default:i}=await Promise.resolve().then(()=>zl);return{default:i}},void 0).then(({default:i})=>i(...s)):t=fetch,(...s)=>t(...s)},j1=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",nv=async(r,t,s)=>{await r.setItem(t,JSON.stringify(s))},nc=async(r,t)=>{const s=await r.getItem(t);if(!s)return null;try{return JSON.parse(s)}catch{return s}},sc=async(r,t)=>{await r.removeItem(t)};class Tc{constructor(){this.promise=new Tc.promiseConstructor((t,s)=>{this.resolve=t,this.reject=s})}}Tc.promiseConstructor=Promise;function Od(r){const t=r.split(".");if(t.length!==3)throw new yl("Invalid JWT structure");for(let i=0;i<t.length;i++)if(!f1.test(t[i]))throw new yl("JWT not in base64url format");return{header:JSON.parse(kg(t[0])),payload:JSON.parse(kg(t[1])),signature:k1(t[2]),raw:{header:t[0],payload:t[1]}}}async function T1(r){return await new Promise(t=>{setTimeout(()=>t(null),r)})}function R1(r,t){return new Promise((i,l)=>{(async()=>{for(let o=0;o<1/0;o++)try{const u=await r(o);if(!t(o,null,u)){i(u);return}}catch(u){if(!t(o,u)){l(u);return}}})()})}function O1(r){return("0"+r.toString(16)).substr(-2)}function L1(){const t=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=s.length;let l="";for(let o=0;o<56;o++)l+=s.charAt(Math.floor(Math.random()*i));return l}return crypto.getRandomValues(t),Array.from(t,O1).join("")}async function A1(r){const s=new TextEncoder().encode(r),i=await crypto.subtle.digest("SHA-256",s),l=new Uint8Array(i);return Array.from(l).map(o=>String.fromCharCode(o)).join("")}async function z1(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const s=await A1(r);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ki(r,t,s=!1){const i=L1();let l=i;s&&(l+="/PASSWORD_RECOVERY"),await nv(r,`${t}-code-verifier`,l);const o=await z1(i);return[o,i===o?"plain":"s256"]}const D1=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function $1(r){const t=r.headers.get(ah);if(!t||!t.match(D1))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function M1(r){if(!r)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(r<=t)throw new Error("JWT has expired")}function I1(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const F1=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Qi(r){if(!F1.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var U1=function(r,t){var s={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(s[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(s[i[l]]=r[i[l]]);return s};const Ys=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),B1=[502,503,504];async function Ng(r){var t;if(!j1(r))throw new lh(Ys(r),0);if(B1.includes(r.status))throw new lh(Ys(r),r.status);let s;try{s=await r.json()}catch(o){throw new ev(Ys(o),o)}let i;const l=$1(r);if(l&&l.getTime()>=Xy["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?i=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(i=s.error_code),i){if(i==="weak_password")throw new bg(Ys(s),r.status,((t=s.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(i==="session_not_found")throw new fs}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((o,u)=>o&&typeof u=="string",!0))throw new bg(Ys(s),r.status,s.weak_password.reasons);throw new p1(Ys(s),r.status||500,i)}const q1=(r,t,s,i)=>{const l={method:r,headers:(t==null?void 0:t.headers)||{}};return r==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),l.body=JSON.stringify(i),Object.assign(Object.assign({},l),s))};async function We(r,t,s,i){var l;const o=Object.assign({},i==null?void 0:i.headers);o[ah]||(o[ah]=Xy["2024-01-01"].name),i!=null&&i.jwt&&(o.Authorization=`Bearer ${i.jwt}`);const u=(l=i==null?void 0:i.query)!==null&&l!==void 0?l:{};i!=null&&i.redirectTo&&(u.redirect_to=i.redirectTo);const f=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",m=await V1(r,t,s+f,{headers:o,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(m):{data:Object.assign({},m),error:null}}async function V1(r,t,s,i,l,o){const u=q1(t,i,l,o);let f;try{f=await r(s,Object.assign({},u))}catch(m){throw console.error(m),new lh(Ys(m),0)}if(f.ok||await Ng(f),i!=null&&i.noResolveJson)return f;try{return await f.json()}catch(m){await Ng(m)}}function Tn(r){var t;let s=null;Q1(r)&&(s=Object.assign({},r),r.expires_at||(s.expires_at=E1(r.expires_in)));const i=(t=r.user)!==null&&t!==void 0?t:r;return{data:{session:s,user:i},error:null}}function Sg(r){const t=Tn(r);return!t.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((s,i)=>s&&typeof i=="string",!0)&&(t.data.weak_password=r.weak_password),t}function gs(r){var t;return{data:{user:(t=r.user)!==null&&t!==void 0?t:r},error:null}}function W1(r){return{data:r,error:null}}function H1(r){const{action_link:t,email_otp:s,hashed_token:i,redirect_to:l,verification_type:o}=r,u=U1(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:t,email_otp:s,hashed_token:i,redirect_to:l,verification_type:o},m=Object.assign({},u);return{data:{properties:f,user:m},error:null}}function K1(r){return r}function Q1(r){return r.access_token&&r.refresh_token&&r.expires_in}const Ld=["global","local","others"];var G1=function(r,t){var s={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(s[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(s[i[l]]=r[i[l]]);return s};class J1{constructor({url:t="",headers:s={},fetch:i}){this.url=t,this.headers=s,this.fetch=rv(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,s=Ld[0]){if(Ld.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ld.join(", ")}`);try{return await We(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(i){if(Fe(i))return{data:null,error:i};throw i}}async inviteUserByEmail(t,s={}){try{return await We(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:gs})}catch(i){if(Fe(i))return{data:{user:null},error:i};throw i}}async generateLink(t){try{const{options:s}=t,i=G1(t,["options"]),l=Object.assign(Object.assign({},i),s);return"newEmail"in i&&(l.new_email=i==null?void 0:i.newEmail,delete l.newEmail),await We(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:H1,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(Fe(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(t){try{return await We(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:gs})}catch(s){if(Fe(s))return{data:{user:null},error:s};throw s}}async listUsers(t){var s,i,l,o,u,f,m;try{const y={nextPage:null,lastPage:0,total:0},g=await We(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(s=t==null?void 0:t.page)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:"",per_page:(o=(l=t==null?void 0:t.perPage)===null||l===void 0?void 0:l.toString())!==null&&o!==void 0?o:""},xform:K1});if(g.error)throw g.error;const v=await g.json(),w=(u=g.headers.get("x-total-count"))!==null&&u!==void 0?u:0,N=(m=(f=g.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&m!==void 0?m:[];return N.length>0&&(N.forEach(S=>{const x=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(S.split(";")[1].split("=")[1]);y[`${k}Page`]=x}),y.total=parseInt(w)),{data:Object.assign(Object.assign({},v),y),error:null}}catch(y){if(Fe(y))return{data:{users:[]},error:y};throw y}}async getUserById(t){Qi(t);try{return await We(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:gs})}catch(s){if(Fe(s))return{data:{user:null},error:s};throw s}}async updateUserById(t,s){Qi(t);try{return await We(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:s,headers:this.headers,xform:gs})}catch(i){if(Fe(i))return{data:{user:null},error:i};throw i}}async deleteUser(t,s=!1){Qi(t);try{return await We(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:s},xform:gs})}catch(i){if(Fe(i))return{data:{user:null},error:i};throw i}}async _listFactors(t){Qi(t.userId);try{const{data:s,error:i}=await We(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:s,error:i}}catch(s){if(Fe(s))return{data:null,error:s};throw s}}async _deleteFactor(t){Qi(t.userId),Qi(t.id);try{return{data:await We(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(s){if(Fe(s))return{data:null,error:s};throw s}}}const Y1={getItem:r=>vl()?globalThis.localStorage.getItem(r):null,setItem:(r,t)=>{vl()&&globalThis.localStorage.setItem(r,t)},removeItem:r=>{vl()&&globalThis.localStorage.removeItem(r)}};function Eg(r={}){return{getItem:t=>r[t]||null,setItem:(t,s)=>{r[t]=s},removeItem:t=>{delete r[t]}}}function Z1(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Gi={debug:!!(globalThis&&vl()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class sv extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class X1 extends sv{}async function ek(r,t,s){Gi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,t);const i=new globalThis.AbortController;return t>0&&setTimeout(()=>{i.abort(),Gi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async l=>{if(l){Gi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,l.name);try{return await s()}finally{Gi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,l.name)}}else{if(t===0)throw Gi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new X1(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(Gi.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}Z1();const tk={url:u1,storageKey:d1,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:h1,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Cg(r,t,s){return await s()}class Nl{constructor(t){var s,i;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Nl.nextInstanceID,Nl.nextInstanceID+=1,this.instanceID>0&&Wr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const l=Object.assign(Object.assign({},tk),t);if(this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.persistSession=l.persistSession,this.storageKey=l.storageKey,this.autoRefreshToken=l.autoRefreshToken,this.admin=new J1({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=rv(l.fetch),this.lock=l.lock||Cg,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,l.lock?this.lock=l.lock:Wr()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=ek:this.lock=Cg,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?l.storage?this.storage=l.storage:vl()?this.storage=Y1:(this.memoryStorage={},this.storage=Eg(this.memoryStorage)):(this.memoryStorage={},this.storage=Eg(this.memoryStorage)),Wr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Zy}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const s=P1(window.location.href);let i="none";if(this._isImplicitGrantCallback(s)?i="implicit":await this._isPKCECallback(s)&&(i="pkce"),Wr()&&this.detectSessionInUrl&&i!=="none"){const{data:l,error:o}=await this._getSessionFromURL(s,i);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),v1(o)){const m=(t=o.details)===null||t===void 0?void 0:t.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:u,redirectType:f}=l;return this._debug("#_initialize()","detected session in URL",u,"redirect type",f),await this._saveSession(u),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return Fe(s)?{error:s}:{error:new ev("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var s,i,l;try{const o=await We(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(l=t==null?void 0:t.options)===null||l===void 0?void 0:l.captchaToken}},xform:Tn}),{data:u,error:f}=o;if(f||!u)return{data:{user:null,session:null},error:f};const m=u.session,y=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:y,session:m},error:null}}catch(o){if(Fe(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var s,i,l;try{let o;if("email"in t){const{email:g,password:v,options:w}=t;let N=null,S=null;this.flowType==="pkce"&&([N,S]=await Ki(this.storage,this.storageKey)),o=await We(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w==null?void 0:w.emailRedirectTo,body:{email:g,password:v,data:(s=w==null?void 0:w.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken},code_challenge:N,code_challenge_method:S},xform:Tn})}else if("phone"in t){const{phone:g,password:v,options:w}=t;o=await We(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:v,data:(i=w==null?void 0:w.data)!==null&&i!==void 0?i:{},channel:(l=w==null?void 0:w.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken}},xform:Tn})}else throw new tc("You must provide either an email or phone number and a password");const{data:u,error:f}=o;if(f||!u)return{data:{user:null,session:null},error:f};const m=u.session,y=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:y,session:m},error:null}}catch(o){if(Fe(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let s;if("email"in t){const{email:o,password:u,options:f}=t;s=await We(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:u,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Sg})}else if("phone"in t){const{phone:o,password:u,options:f}=t;s=await We(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:u,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Sg})}else throw new tc("You must provide either an email or phone number and a password");const{data:i,error:l}=s;return l?{data:{user:null,session:null},error:l}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new ec}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:l})}catch(s){if(Fe(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(t){var s,i,l,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(i=t.options)===null||i===void 0?void 0:i.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:s}=t;if(s==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}async signInWithSolana(t){var s,i,l,o,u,f,m,y,g,v,w,N;let S,x;if("message"in t)S=t.message,x=t.signature;else{const{chain:k,wallet:P,statement:B,options:D}=t;let H;if(Wr())if(typeof P=="object")H=P;else{const A=window;if("solana"in A&&typeof A.solana=="object"&&("signIn"in A.solana&&typeof A.solana.signIn=="function"||"signMessage"in A.solana&&typeof A.solana.signMessage=="function"))H=A.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof P!="object"||!(D!=null&&D.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");H=P}const V=new URL((s=D==null?void 0:D.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in H&&H.signIn){const A=await H.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},D==null?void 0:D.signInWithSolana),{version:"1",domain:V.host,uri:V.href}),B?{statement:B}:null));let ne;if(Array.isArray(A)&&A[0]&&typeof A[0]=="object")ne=A[0];else if(A&&typeof A=="object"&&"signedMessage"in A&&"signature"in A)ne=A;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ne&&"signature"in ne&&(typeof ne.signedMessage=="string"||ne.signedMessage instanceof Uint8Array)&&ne.signature instanceof Uint8Array)S=typeof ne.signedMessage=="string"?ne.signedMessage:new TextDecoder().decode(ne.signedMessage),x=ne.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in H)||typeof H.signMessage!="function"||!("publicKey"in H)||typeof H!="object"||!H.publicKey||!("toBase58"in H.publicKey)||typeof H.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${V.host} wants you to sign in with your Solana account:`,H.publicKey.toBase58(),...B?["",B,""]:[""],"Version: 1",`URI: ${V.href}`,`Issued At: ${(l=(i=D==null?void 0:D.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((o=D==null?void 0:D.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${D.signInWithSolana.notBefore}`]:[],...!((u=D==null?void 0:D.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${D.signInWithSolana.expirationTime}`]:[],...!((f=D==null?void 0:D.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${D.signInWithSolana.chainId}`]:[],...!((m=D==null?void 0:D.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${D.signInWithSolana.nonce}`]:[],...!((y=D==null?void 0:D.signInWithSolana)===null||y===void 0)&&y.requestId?[`Request ID: ${D.signInWithSolana.requestId}`]:[],...!((v=(g=D==null?void 0:D.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||v===void 0)&&v.length?["Resources",...D.signInWithSolana.resources.map(ne=>`- ${ne}`)]:[]].join(`
`);const A=await H.signMessage(new TextEncoder().encode(S),"utf8");if(!A||!(A instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=A}}try{const{data:k,error:P}=await We(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:S1(x)},!((w=t.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(N=t.options)===null||N===void 0?void 0:N.captchaToken}}:null),xform:Tn});if(P)throw P;return!k||!k.session||!k.user?{data:{user:null,session:null},error:new ec}:(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),{data:Object.assign({},k),error:P})}catch(k){if(Fe(k))return{data:{user:null,session:null},error:k};throw k}}async _exchangeCodeForSession(t){const s=await nc(this.storage,`${this.storageKey}-code-verifier`),[i,l]=(s??"").split("/");try{const{data:o,error:u}=await We(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:i},xform:Tn});if(await sc(this.storage,`${this.storageKey}-code-verifier`),u)throw u;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new ec}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:l??null}),error:u})}catch(o){if(Fe(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:s,provider:i,token:l,access_token:o,nonce:u}=t,f=await We(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:l,access_token:o,nonce:u,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Tn}),{data:m,error:y}=f;return y?{data:{user:null,session:null},error:y}:!m||!m.session||!m.user?{data:{user:null,session:null},error:new ec}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:m,error:y})}catch(s){if(Fe(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(t){var s,i,l,o,u;try{if("email"in t){const{email:f,options:m}=t;let y=null,g=null;this.flowType==="pkce"&&([y,g]=await Ki(this.storage,this.storageKey));const{error:v}=await We(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(s=m==null?void 0:m.data)!==null&&s!==void 0?s:{},create_user:(i=m==null?void 0:m.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:y,code_challenge_method:g},redirectTo:m==null?void 0:m.emailRedirectTo});return{data:{user:null,session:null},error:v}}if("phone"in t){const{phone:f,options:m}=t,{data:y,error:g}=await We(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(l=m==null?void 0:m.data)!==null&&l!==void 0?l:{},create_user:(o=m==null?void 0:m.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},channel:(u=m==null?void 0:m.channel)!==null&&u!==void 0?u:"sms"}});return{data:{user:null,session:null,messageId:y==null?void 0:y.message_id},error:g}}throw new tc("You must provide either an email or phone number.")}catch(f){if(Fe(f))return{data:{user:null,session:null},error:f};throw f}}async verifyOtp(t){var s,i;try{let l,o;"options"in t&&(l=(s=t.options)===null||s===void 0?void 0:s.redirectTo,o=(i=t.options)===null||i===void 0?void 0:i.captchaToken);const{data:u,error:f}=await We(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:l,xform:Tn});if(f)throw f;if(!u)throw new Error("An error occurred on token verification.");const m=u.session,y=u.user;return m!=null&&m.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),{data:{user:y,session:m},error:null}}catch(l){if(Fe(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithSSO(t){var s,i,l;try{let o=null,u=null;return this.flowType==="pkce"&&([o,u]=await Ki(this.storage,this.storageKey)),await We(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(i=(s=t.options)===null||s===void 0?void 0:s.redirectTo)!==null&&i!==void 0?i:void 0}),!((l=t==null?void 0:t.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:u}),headers:this.headers,xform:W1})}catch(o){if(Fe(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:s},error:i}=t;if(i)throw i;if(!s)throw new fs;const{error:l}=await We(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:l}})}catch(t){if(Fe(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const s=`${this.url}/resend`;if("email"in t){const{email:i,type:l,options:o}=t,{error:u}=await We(this.fetch,"POST",s,{headers:this.headers,body:{email:i,type:l,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:u}}else if("phone"in t){const{phone:i,type:l,options:o}=t,{data:u,error:f}=await We(this.fetch,"POST",s,{headers:this.headers,body:{phone:i,type:l,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:f}}throw new tc("You must provide either an email or phone number and a type")}catch(s){if(Fe(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(t,s){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await i,await s()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=s();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await t(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const s=await nc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?t=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const i=t.expires_at?t.expires_at*1e3-Date.now()<Td:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",t.expires_at),!i){if(this.storage.isServer){let u=this.suppressGetSessionWarning;t=new Proxy(t,{get:(m,y,g)=>(!u&&y==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),u=!0,this.suppressGetSessionWarning=!0),Reflect.get(m,y,g))})}return{data:{session:t},error:null}}const{session:l,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:l},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await We(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:gs}):await this._useSession(async s=>{var i,l,o;const{data:u,error:f}=s;if(f)throw f;return!(!((i=u.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new fs}:await We(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(l=u.session)===null||l===void 0?void 0:l.access_token)!==null&&o!==void 0?o:void 0,xform:gs})})}catch(s){if(Fe(s))return y1(s)&&(await this._removeSession(),await sc(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(t,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,s))}async _updateUser(t,s={}){try{return await this._useSession(async i=>{const{data:l,error:o}=i;if(o)throw o;if(!l.session)throw new fs;const u=l.session;let f=null,m=null;this.flowType==="pkce"&&t.email!=null&&([f,m]=await Ki(this.storage,this.storageKey));const{data:y,error:g}=await We(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:f,code_challenge_method:m}),jwt:u.access_token,xform:gs});if(g)throw g;return u.user=y.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),{data:{user:u.user},error:null}})}catch(i){if(Fe(i))return{data:{user:null},error:i};throw i}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new fs;const s=Date.now()/1e3;let i=s,l=!0,o=null;const{payload:u}=Od(t.access_token);if(u.exp&&(i=u.exp,l=i<=s),l){const{session:f,error:m}=await this._callRefreshToken(t.refresh_token);if(m)return{data:{user:null,session:null},error:m};if(!f)return{data:{user:null,session:null},error:null};o=f}else{const{data:f,error:m}=await this._getUser(t.access_token);if(m)throw m;o={access_token:t.access_token,refresh_token:t.refresh_token,user:f.user,token_type:"bearer",expires_in:i-s,expires_at:i},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(s){if(Fe(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async s=>{var i;if(!t){const{data:u,error:f}=s;if(f)throw f;t=(i=u.session)!==null&&i!==void 0?i:void 0}if(!(t!=null&&t.refresh_token))throw new fs;const{session:l,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:l?{data:{user:l.user,session:l},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(Fe(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(t,s){try{if(!Wr())throw new rc("No browser detected.");if(t.error||t.error_description||t.error_code)throw new rc(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new wg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new rc("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new wg("No code detected.");const{data:B,error:D}=await this._exchangeCodeForSession(t.code);if(D)throw D;const H=new URL(window.location.href);return H.searchParams.delete("code"),window.history.replaceState(window.history.state,"",H.toString()),{data:{session:B.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:l,access_token:o,refresh_token:u,expires_in:f,expires_at:m,token_type:y}=t;if(!o||!f||!u||!y)throw new rc("No session defined in URL");const g=Math.round(Date.now()/1e3),v=parseInt(f);let w=g+v;m&&(w=parseInt(m));const N=w-g;N*1e3<=Zi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${N}s, should have been closer to ${v}s`);const S=w-v;g-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,w,g):g-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,w,g);const{data:x,error:k}=await this._getUser(o);if(k)throw k;const P={provider_token:i,provider_refresh_token:l,access_token:o,expires_in:v,expires_at:w,refresh_token:u,token_type:y,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:P,redirectType:t.type},error:null}}catch(i){if(Fe(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const s=await nc(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&s)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async s=>{var i;const{data:l,error:o}=s;if(o)return{error:o};const u=(i=l.session)===null||i===void 0?void 0:i.access_token;if(u){const{error:f}=await this.admin.signOut(u,t);if(f&&!(g1(f)&&(f.status===404||f.status===401||f.status===403)))return{error:f}}return t!=="others"&&(await this._removeSession(),await sc(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const s=C1(),i={id:s,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:i}}}async _emitInitialSession(t){return await this._useSession(async s=>{var i,l;try{const{data:{session:o},error:u}=s;if(u)throw u;await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((l=this.stateChangeEmitters.get(t))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,s={}){let i=null,l=null;this.flowType==="pkce"&&([i,l]=await Ki(this.storage,this.storageKey,!0));try{return await We(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:i,code_challenge_method:l,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(o){if(Fe(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:s,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(t=s.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(s){if(Fe(s))return{data:null,error:s};throw s}}async linkIdentity(t){var s;try{const{data:i,error:l}=await this._useSession(async o=>{var u,f,m,y,g;const{data:v,error:w}=o;if(w)throw w;const N=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(u=t.options)===null||u===void 0?void 0:u.redirectTo,scopes:(f=t.options)===null||f===void 0?void 0:f.scopes,queryParams:(m=t.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await We(this.fetch,"GET",N,{headers:this.headers,jwt:(g=(y=v.session)===null||y===void 0?void 0:y.access_token)!==null&&g!==void 0?g:void 0})});if(l)throw l;return Wr()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),{data:{provider:t.provider,url:i==null?void 0:i.url},error:null}}catch(i){if(Fe(i))return{data:{provider:t.provider,url:null},error:i};throw i}}async unlinkIdentity(t){try{return await this._useSession(async s=>{var i,l;const{data:o,error:u}=s;if(u)throw u;return await We(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(l=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&l!==void 0?l:void 0})})}catch(s){if(Fe(s))return{data:null,error:s};throw s}}async _refreshAccessToken(t){const s=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{const i=Date.now();return await R1(async l=>(l>0&&await T1(200*Math.pow(2,l-1)),this._debug(s,"refreshing attempt",l),await We(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Tn})),(l,o)=>{const u=200*Math.pow(2,l);return o&&Rd(o)&&Date.now()+u-i<Zi})}catch(i){if(this._debug(s,"error",i),Fe(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(s,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,s){const i=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",s,"url",i),Wr()&&!s.skipBrowserRedirect&&window.location.assign(i),{data:{provider:t,url:i},error:null}}async _recoverAndRefresh(){var t;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const i=await nc(this.storage,this.storageKey);if(this._debug(s,"session from storage",i),!this._isValidSession(i)){this._debug(s,"session is not valid"),i!==null&&await this._removeSession();return}const l=((t=i.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Td;if(this._debug(s,`session has${l?"":" not"} expired with margin of ${Td}s`),l){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),Rd(o)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(s,"error",i),console.error(i);return}finally{this._debug(s,"end")}}async _callRefreshToken(t){var s,i;if(!t)throw new fs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new Tc;const{data:o,error:u}=await this._refreshAccessToken(t);if(u)throw u;if(!o.session)throw new fs;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const f={session:o.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(o){if(this._debug(l,"error",o),Fe(o)){const u={session:null,error:o};return Rd(o)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(u),u}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(o),o}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(t,s,i=!0){const l=`#_notifyAllSubscribers(${t})`;this._debug(l,"begin",s,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:t,session:s});const o=[],u=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(t,s)}catch(m){o.push(m)}});if(await Promise.all(u),o.length>0){for(let f=0;f<o.length;f+=1)console.error(o[f]);throw o[0]}}finally{this._debug(l,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await nv(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await sc(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Wr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Zi);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async s=>{const{data:{session:i}}=s;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((i.expires_at*1e3-t)/Zi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${Zi}ms, refresh threshold is ${ih} ticks`),l<=ih&&await this._callRefreshToken(i.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof sv)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Wr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const s=`#_onVisibilityChanged(${t})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,s,i){const l=[`provider=${encodeURIComponent(s)}`];if(i!=null&&i.redirectTo&&l.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&l.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[o,u]=await Ki(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(u)}`});l.push(f.toString())}if(i!=null&&i.queryParams){const o=new URLSearchParams(i.queryParams);l.push(o.toString())}return i!=null&&i.skipBrowserRedirect&&l.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${t}?${l.join("&")}`}async _unenroll(t){try{return await this._useSession(async s=>{var i;const{data:l,error:o}=s;return o?{data:null,error:o}:await We(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(i=l==null?void 0:l.session)===null||i===void 0?void 0:i.access_token})})}catch(s){if(Fe(s))return{data:null,error:s};throw s}}async _enroll(t){try{return await this._useSession(async s=>{var i,l;const{data:o,error:u}=s;if(u)return{data:null,error:u};const f=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:m,error:y}=await We(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token});return y?{data:null,error:y}:(t.factorType==="totp"&&(!((l=m==null?void 0:m.totp)===null||l===void 0)&&l.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),{data:m,error:null})})}catch(s){if(Fe(s))return{data:null,error:s};throw s}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var i;const{data:l,error:o}=s;if(o)return{data:null,error:o};const{data:u,error:f}=await We(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(i=l==null?void 0:l.session)===null||i===void 0?void 0:i.access_token});return f?{data:null,error:f}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:f})})}catch(s){if(Fe(s))return{data:null,error:s};throw s}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var i;const{data:l,error:o}=s;return o?{data:null,error:o}:await We(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(i=l==null?void 0:l.session)===null||i===void 0?void 0:i.access_token})})}catch(s){if(Fe(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(t){const{data:s,error:i}=await this._challenge({factorId:t.factorId});return i?{data:null,error:i}:await this._verify({factorId:t.factorId,challengeId:s.id,code:t.code})}async _listFactors(){const{data:{user:t},error:s}=await this.getUser();if(s)return{data:null,error:s};const i=(t==null?void 0:t.factors)||[],l=i.filter(u=>u.factor_type==="totp"&&u.status==="verified"),o=i.filter(u=>u.factor_type==="phone"&&u.status==="verified");return{data:{all:i,totp:l,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var s,i;const{data:{session:l},error:o}=t;if(o)return{data:null,error:o};if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=Od(l.access_token);let f=null;u.aal&&(f=u.aal);let m=f;((i=(s=l.user.factors)===null||s===void 0?void 0:s.filter(v=>v.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(m="aal2");const g=u.amr||[];return{data:{currentLevel:f,nextLevel:m,currentAuthenticationMethods:g},error:null}}))}async fetchJwk(t,s={keys:[]}){let i=s.keys.find(u=>u.kid===t);if(i||(i=this.jwks.keys.find(u=>u.kid===t),i&&this.jwks_cached_at+m1>Date.now()))return i;const{data:l,error:o}=await We(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;if(!l.keys||l.keys.length===0)throw new yl("JWKS is empty");if(this.jwks=l,this.jwks_cached_at=Date.now(),i=l.keys.find(u=>u.kid===t),!i)throw new yl("No matching signing key found in JWKS");return i}async getClaims(t,s={keys:[]}){try{let i=t;if(!i){const{data:N,error:S}=await this.getSession();if(S||!N.session)return{data:null,error:S};i=N.session.access_token}const{header:l,payload:o,signature:u,raw:{header:f,payload:m}}=Od(i);if(M1(o.exp),!l.kid||l.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:N}=await this.getUser(i);if(N)throw N;return{data:{claims:o,header:l,signature:u},error:null}}const y=I1(l.alg),g=await this.fetchJwk(l.kid,s),v=await crypto.subtle.importKey("jwk",g,y,!0,["verify"]);if(!await crypto.subtle.verify(y,v,u,N1(`${f}.${m}`)))throw new yl("Invalid JWT signature");return{data:{claims:o,header:l,signature:u},error:null}}catch(i){if(Fe(i))return{data:null,error:i};throw i}}}Nl.nextInstanceID=0;const rk=Nl;class nk extends rk{constructor(t){super(t)}}var sk=function(r,t,s,i){function l(o){return o instanceof s?o:new s(function(u){u(o)})}return new(s||(s=Promise))(function(o,u){function f(g){try{y(i.next(g))}catch(v){u(v)}}function m(g){try{y(i.throw(g))}catch(v){u(v)}}function y(g){g.done?o(g.value):l(g.value).then(f,m)}y((i=i.apply(r,t||[])).next())})};class ik{constructor(t,s,i){var l,o,u;if(this.supabaseUrl=t,this.supabaseKey=s,!t)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const f=o1(t),m=new URL(f);this.realtimeUrl=new URL("realtime/v1",m),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",m),this.storageUrl=new URL("storage/v1",m),this.functionsUrl=new URL("functions/v1",m);const y=`sb-${m.hostname.split(".")[0]}-auth-token`,g={db:e1,realtime:r1,auth:Object.assign(Object.assign({},t1),{storageKey:y}),global:Xx},v=c1(i??{},g);this.storageKey=(l=v.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(o=v.global.headers)!==null&&o!==void 0?o:{},v.accessToken?(this.accessToken=v.accessToken,this.auth=new Proxy({},{get:(w,N)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(N)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=v.auth)!==null&&u!==void 0?u:{},this.headers,v.global.fetch),this.fetch=a1(s,this._getAccessToken.bind(this),v.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},v.realtime)),this.rest=new kx(new URL("rest/v1",m).href,{headers:this.headers,schema:v.db.schema,fetch:this.fetch}),v.accessToken||this._listenForAuthEvents()}get functions(){return new dx(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Jx(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,s={},i={}){return this.rest.rpc(t,s,i)}channel(t,s={config:{}}){return this.realtime.channel(t,s)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,s;return sk(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(s=(t=i.session)===null||t===void 0?void 0:t.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:s,detectSessionInUrl:i,storage:l,storageKey:o,flowType:u,lock:f,debug:m},y,g){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new nk({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),y),storageKey:o,autoRefreshToken:t,persistSession:s,detectSessionInUrl:i,storage:l,flowType:u,lock:f,debug:m,fetch:g,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Dx(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,i)=>{this._handleTokenChanged(s,"CLIENT",i==null?void 0:i.access_token)})}_handleTokenChanged(t,s,i){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==i?this.changedAccessToken=i:t==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const ak=(r,t,s)=>new ik(r,t,s),lk="https://jirddienqawoszvxrkwk.supabase.co",ok="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImppcmRkaWVucWF3b3N6dnhya3drIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk0NzU4MjksImV4cCI6MjA2NTA1MTgyOX0.wTIlgE652s1PfkbkpmvrDI_VA7T2Pp20Igm4VVz3sk8",An=ak(lk,ok),iv=L.createContext(void 0);function ck({children:r}){const[t,s]=L.useState(null),[i,l]=L.useState(null),[o,u]=L.useState(!0),f=async(g,v)=>{console.log("🔐 LOGIN WYWOŁANY:",{email:g});try{console.log("📤 WYSYŁAM ZAPYTANIE DO SUPABASE...");const{data:w,error:N}=await An.auth.signInWithPassword({email:g,password:v});if(console.log("📥 ODPOWIEDŹ Z SUPABASE:",{hasData:!!w,hasError:!!N,errorMessage:N==null?void 0:N.message}),N)throw console.error("❌ BŁĄD LOGOWANIA:",N),N;console.log("✅ LOGOWANIE UDANE")}catch(w){throw console.error("💥 WYJĄTEK W LOGIN:",w),w}},m=async(g,v,w,N="student")=>{console.log("📝 REGISTER WYWOŁANY:",{email:g,username:w,role:N});try{const{error:S}=await An.auth.signUp({email:g,password:v,options:{data:{username:w||g.split("@")[0],role:N}}});if(S)throw S}catch(S){throw console.error("💥 BŁĄD REJESTRACJI:",S),S}},y=async()=>{const{error:g}=await An.auth.signOut();if(g)throw g;s(null),l(null)};return L.useEffect(()=>{console.log("🚀 USEAUTH INICJALIZACJA"),An.auth.getSession().then(({data:{session:v}})=>{console.log("📋 AKTUALNA SESJA:",!!v),u(!1)});const{data:{subscription:g}}=An.auth.onAuthStateChange(async(v,w)=>{var N,S;if(console.log("🔄 AUTH STATE CHANGE:",{event:v,hasSession:!!w}),w!=null&&w.user){const x=((N=w.user.user_metadata)==null?void 0:N.role)||"student";s({id:w.user.id,email:w.user.email||"",username:(S=w.user.user_metadata)==null?void 0:S.username,role:x})}else s(null),l(null)});return()=>g.unsubscribe()},[]),console.log("🔍 USEAUTH RENDER:",{hasUser:!!t,loading:o,hasDelegated:!!i}),d(iv.Provider,{value:{user:t,loading:o,delegatedUser:i,login:f,register:m,logout:y,setDelegatedUser:l},children:r})}function Dr(){const r=L.useContext(iv);if(!r)throw new Error("useAuth must be used within AuthProvider");return r}function uk(){const{login:r}=Dr(),[t,s]=L.useState({email:"",password:""}),[i,l]=L.useState(!1),[o,u]=L.useState(null),[f,m]=L.useState(!1),y=S=>{const{name:x,value:k}=S.target;s(P=>({...P,[x]:k})),o&&u(null)},g=async S=>{console.log("🚀 PERFORM LOGIN:",S),l(!0),u(null);try{console.log("📞 WYWOŁUJĘ AUTH.LOGIN..."),await r(S.email,S.password),console.log("✅ AUTH.LOGIN ZAKOŃCZONY"),m(!0)}catch(x){console.error("❌ BŁĄD W PERFORM LOGIN:",x),u(x)}finally{l(!1)}};return{formData:t,handleInputChange:y,handleSubmit:async S=>{if(S.preventDefault(),console.log("📋 HANDLE SUBMIT:",t),!t.email||!t.password){u(new Error("Email i hasło są wymagane"));return}await g(t)},loginWithTestData:async()=>{console.log("🧪 TEST DATA LOGIN");const S={email:"dadmor+admin1@gmail.com",password:"dadmor+admin1@gmail.com"};s(S),await g(S)},reset:()=>{l(!1),u(null),m(!1),s({email:"",password:""})},isLoading:i,error:o,isSuccess:f,data:f?{success:!0}:null}}const dk={path:"/auth/login",title:"Login"};function hk(){const r=Nr(),{user:t}=Dr(),{formData:s,handleInputChange:i,handleSubmit:l,isLoading:o,error:u,data:f}=uk();return L.useEffect(()=>{t&&(console.log("✅ UŻYTKOWNIK ZALOGOWANY, PRZEKIEROWANIE:",t),t.role==="teacher"?r("/auth/teacher-welcome"):r("/auth/student-welcome"))},[t,r]),d("div",{className:"min-h-screen bg-base-200 flex items-center justify-center p-4",children:d("div",{className:"card w-full max-w-md bg-base-100 shadow-xl",children:b("div",{className:"card-body",children:[d("img",{src:"/assets/smart-edi-play-logo.svg",alt:"Smart EDI Play Logo",className:"w-36 mx-auto mt-4 mb-2"}),d("div",{className:"divider"}),b("div",{className:"text-center mb-6",children:[d("h1",{className:"text-3xl font-bold text-primary",children:"Logowanie"}),d("p",{className:"text-base-content/70 mt-2",children:"Witaj ponownie! Zaloguj się do swojego konta"})]}),b("form",{onSubmit:l,className:"space-y-4",children:[b("div",{className:"form-control",children:[d("label",{className:"label",children:d("span",{className:"label-text font-medium",children:"Email"})}),d("input",{type:"email",name:"email",value:s.email,onChange:i,placeholder:"Wprowadź swój email",className:"input input-bordered w-full",required:!0})]}),b("div",{className:"form-control",children:[d("label",{className:"label",children:d("span",{className:"label-text font-medium",children:"Hasło"})}),d("input",{type:"password",name:"password",value:s.password,onChange:i,placeholder:"Wprowadź swoje hasło",className:"input input-bordered w-full",required:!0})]}),u&&d("div",{className:"alert alert-error",children:d("span",{children:u.message})}),f&&d("div",{className:"alert alert-success",children:d("span",{children:"Logowanie udane! Przekierowanie..."})}),d("div",{className:"form-control mt-6",children:d("button",{type:"submit",className:`btn btn-primary w-full ${o?"loading":""}`,disabled:o,children:o?"Logowanie...":"Zaloguj się"})})]}),d("div",{className:"divider",children:"LUB"}),b("div",{className:"text-center mt-4",children:[b("p",{className:"text-base-content/70",children:["Nie masz konta?"," ",d(Ke,{to:"/auth/register",className:"link link-primary font-medium",children:"Zarejestruj się"})]}),d("p",{className:"text-base-content/70 mt-2",children:d(Ke,{to:"/auth/login?agentMode=true",className:"link link-secondary text-sm",children:"Tryb agenta"})})]})]})})})}const fk=Object.freeze(Object.defineProperty({__proto__:null,default:hk,routeConfig:dk},Symbol.toStringTag,{value:"Module"}));var $l=r=>r.type==="checkbox",ti=r=>r instanceof Date,tr=r=>r==null;const av=r=>typeof r=="object";var Nt=r=>!tr(r)&&!Array.isArray(r)&&av(r)&&!ti(r),mk=r=>Nt(r)&&r.target?$l(r.target)?r.target.checked:r.target.value:r,pk=r=>r.substring(0,r.search(/\.\d+(\.|$)/))||r,gk=(r,t)=>r.has(pk(t)),yk=r=>{const t=r.constructor&&r.constructor.prototype;return Nt(t)&&t.hasOwnProperty("isPrototypeOf")},Lh=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ht(r){let t;const s=Array.isArray(r),i=typeof FileList<"u"?r instanceof FileList:!1;if(r instanceof Date)t=new Date(r);else if(r instanceof Set)t=new Set(r);else if(!(Lh&&(r instanceof Blob||i))&&(s||Nt(r)))if(t=s?[]:{},!s&&!yk(r))t=r;else for(const l in r)r.hasOwnProperty(l)&&(t[l]=Ht(r[l]));else return r;return t}var Rc=r=>Array.isArray(r)?r.filter(Boolean):[],Ct=r=>r===void 0,ve=(r,t,s)=>{if(!t||!Nt(r))return s;const i=Rc(t.split(/[,[\].]+?/)).reduce((l,o)=>tr(l)?l:l[o],r);return Ct(i)||i===r?Ct(r[t])?s:r[t]:i},ln=r=>typeof r=="boolean",Ah=r=>/^\w*$/.test(r),lv=r=>Rc(r.replace(/["|']|\]/g,"").split(/\.|\[/)),ht=(r,t,s)=>{let i=-1;const l=Ah(t)?[t]:lv(t),o=l.length,u=o-1;for(;++i<o;){const f=l[i];let m=s;if(i!==u){const y=r[f];m=Nt(y)||Array.isArray(y)?y:isNaN(+l[i+1])?{}:[]}if(f==="__proto__"||f==="constructor"||f==="prototype")return;r[f]=m,r=r[f]}};const Pg={BLUR:"blur",FOCUS_OUT:"focusout"},Jr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Pn={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};Or.createContext(null);var vk=(r,t,s,i=!0)=>{const l={defaultValues:t._defaultValues};for(const o in r)Object.defineProperty(l,o,{get:()=>{const u=o;return t._proxyFormState[u]!==Jr.all&&(t._proxyFormState[u]=!i||Jr.all),r[u]}});return l};const wk=typeof window<"u"?L.useLayoutEffect:L.useEffect;var hn=r=>typeof r=="string",bk=(r,t,s,i,l)=>hn(r)?(i&&t.watch.add(r),ve(s,r,l)):Array.isArray(r)?r.map(o=>(i&&t.watch.add(o),ve(s,o))):(i&&(t.watchAll=!0),s),_k=(r,t,s,i,l)=>t?{...s[r],types:{...s[r]&&s[r].types?s[r].types:{},[i]:l||!0}}:{},wl=r=>Array.isArray(r)?r:[r],jg=()=>{let r=[];return{get observers(){return r},next:l=>{for(const o of r)o.next&&o.next(l)},subscribe:l=>(r.push(l),{unsubscribe:()=>{r=r.filter(o=>o!==l)}}),unsubscribe:()=>{r=[]}}},oh=r=>tr(r)||!av(r);function ys(r,t){if(oh(r)||oh(t))return r===t;if(ti(r)&&ti(t))return r.getTime()===t.getTime();const s=Object.keys(r),i=Object.keys(t);if(s.length!==i.length)return!1;for(const l of s){const o=r[l];if(!i.includes(l))return!1;if(l!=="ref"){const u=t[l];if(ti(o)&&ti(u)||Nt(o)&&Nt(u)||Array.isArray(o)&&Array.isArray(u)?!ys(o,u):o!==u)return!1}}return!0}var pr=r=>Nt(r)&&!Object.keys(r).length,zh=r=>r.type==="file",Yr=r=>typeof r=="function",bc=r=>{if(!Lh)return!1;const t=r?r.ownerDocument:0;return r instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},ov=r=>r.type==="select-multiple",Dh=r=>r.type==="radio",xk=r=>Dh(r)||$l(r),Ad=r=>bc(r)&&r.isConnected;function kk(r,t){const s=t.slice(0,-1).length;let i=0;for(;i<s;)r=Ct(r)?i++:r[t[i++]];return r}function Nk(r){for(const t in r)if(r.hasOwnProperty(t)&&!Ct(r[t]))return!1;return!0}function Ot(r,t){const s=Array.isArray(t)?t:Ah(t)?[t]:lv(t),i=s.length===1?r:kk(r,s),l=s.length-1,o=s[l];return i&&delete i[o],l!==0&&(Nt(i)&&pr(i)||Array.isArray(i)&&Nk(i))&&Ot(r,s.slice(0,-1)),r}var cv=r=>{for(const t in r)if(Yr(r[t]))return!0;return!1};function _c(r,t={}){const s=Array.isArray(r);if(Nt(r)||s)for(const i in r)Array.isArray(r[i])||Nt(r[i])&&!cv(r[i])?(t[i]=Array.isArray(r[i])?[]:{},_c(r[i],t[i])):tr(r[i])||(t[i]=!0);return t}function uv(r,t,s){const i=Array.isArray(r);if(Nt(r)||i)for(const l in r)Array.isArray(r[l])||Nt(r[l])&&!cv(r[l])?Ct(t)||oh(s[l])?s[l]=Array.isArray(r[l])?_c(r[l],[]):{..._c(r[l])}:uv(r[l],tr(t)?{}:t[l],s[l]):s[l]=!ys(r[l],t[l]);return s}var cl=(r,t)=>uv(r,t,_c(t));const Tg={value:!1,isValid:!1},Rg={value:!0,isValid:!0};var dv=r=>{if(Array.isArray(r)){if(r.length>1){const t=r.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:t,isValid:!!t.length}}return r[0].checked&&!r[0].disabled?r[0].attributes&&!Ct(r[0].attributes.value)?Ct(r[0].value)||r[0].value===""?Rg:{value:r[0].value,isValid:!0}:Rg:Tg}return Tg},hv=(r,{valueAsNumber:t,valueAsDate:s,setValueAs:i})=>Ct(r)?r:t?r===""?NaN:r&&+r:s&&hn(r)?new Date(r):i?i(r):r;const Og={isValid:!1,value:null};var fv=r=>Array.isArray(r)?r.reduce((t,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:t,Og):Og;function Lg(r){const t=r.ref;return zh(t)?t.files:Dh(t)?fv(r.refs).value:ov(t)?[...t.selectedOptions].map(({value:s})=>s):$l(t)?dv(r.refs).value:hv(Ct(t.value)?r.ref.value:t.value,r)}var Sk=(r,t,s,i)=>{const l={};for(const o of r){const u=ve(t,o);u&&ht(l,o,u._f)}return{criteriaMode:s,names:[...r],fields:l,shouldUseNativeValidation:i}},xc=r=>r instanceof RegExp,ul=r=>Ct(r)?r:xc(r)?r.source:Nt(r)?xc(r.value)?r.value.source:r.value:r,Ag=r=>({isOnSubmit:!r||r===Jr.onSubmit,isOnBlur:r===Jr.onBlur,isOnChange:r===Jr.onChange,isOnAll:r===Jr.all,isOnTouch:r===Jr.onTouched});const zg="AsyncFunction";var Ek=r=>!!r&&!!r.validate&&!!(Yr(r.validate)&&r.validate.constructor.name===zg||Nt(r.validate)&&Object.values(r.validate).find(t=>t.constructor.name===zg)),Ck=r=>r.mount&&(r.required||r.min||r.max||r.maxLength||r.minLength||r.pattern||r.validate),Dg=(r,t,s)=>!s&&(t.watchAll||t.watch.has(r)||[...t.watch].some(i=>r.startsWith(i)&&/^\.\w+/.test(r.slice(i.length))));const bl=(r,t,s,i)=>{for(const l of s||Object.keys(r)){const o=ve(r,l);if(o){const{_f:u,...f}=o;if(u){if(u.refs&&u.refs[0]&&t(u.refs[0],l)&&!i)return!0;if(u.ref&&t(u.ref,u.name)&&!i)return!0;if(bl(f,t))break}else if(Nt(f)&&bl(f,t))break}}};function $g(r,t,s){const i=ve(r,s);if(i||Ah(s))return{error:i,name:s};const l=s.split(".");for(;l.length;){const o=l.join("."),u=ve(t,o),f=ve(r,o);if(u&&!Array.isArray(u)&&s!==o)return{name:s};if(f&&f.type)return{name:o,error:f};if(f&&f.root&&f.root.type)return{name:`${o}.root`,error:f.root};l.pop()}return{name:s}}var Pk=(r,t,s,i)=>{s(r);const{name:l,...o}=r;return pr(o)||Object.keys(o).length>=Object.keys(t).length||Object.keys(o).find(u=>t[u]===(!i||Jr.all))},jk=(r,t,s)=>!r||!t||r===t||wl(r).some(i=>i&&(s?i===t:i.startsWith(t)||t.startsWith(i))),Tk=(r,t,s,i,l)=>l.isOnAll?!1:!s&&l.isOnTouch?!(t||r):(s?i.isOnBlur:l.isOnBlur)?!r:(s?i.isOnChange:l.isOnChange)?r:!0,Rk=(r,t)=>!Rc(ve(r,t)).length&&Ot(r,t),Ok=(r,t,s)=>{const i=wl(ve(r,s));return ht(i,"root",t[s]),ht(r,s,i),r},cc=r=>hn(r);function Mg(r,t,s="validate"){if(cc(r)||Array.isArray(r)&&r.every(cc)||ln(r)&&!r)return{type:s,message:cc(r)?r:"",ref:t}}var Ji=r=>Nt(r)&&!xc(r)?r:{value:r,message:""},Ig=async(r,t,s,i,l,o)=>{const{ref:u,refs:f,required:m,maxLength:y,minLength:g,min:v,max:w,pattern:N,validate:S,name:x,valueAsNumber:k,mount:P}=r._f,B=ve(s,x);if(!P||t.has(x))return{};const D=f?f[0]:u,H=be=>{l&&D.reportValidity&&(D.setCustomValidity(ln(be)?"":be||""),D.reportValidity())},V={},A=Dh(u),ne=$l(u),le=A||ne,te=(k||zh(u))&&Ct(u.value)&&Ct(B)||bc(u)&&u.value===""||B===""||Array.isArray(B)&&!B.length,pe=_k.bind(null,x,i,V),Le=(be,Se,ye,ze=Pn.maxLength,ke=Pn.minLength)=>{const Oe=be?Se:ye;V[x]={type:be?ze:ke,message:Oe,ref:u,...pe(be?ze:ke,Oe)}};if(o?!Array.isArray(B)||!B.length:m&&(!le&&(te||tr(B))||ln(B)&&!B||ne&&!dv(f).isValid||A&&!fv(f).isValid)){const{value:be,message:Se}=cc(m)?{value:!!m,message:m}:Ji(m);if(be&&(V[x]={type:Pn.required,message:Se,ref:D,...pe(Pn.required,Se)},!i))return H(Se),V}if(!te&&(!tr(v)||!tr(w))){let be,Se;const ye=Ji(w),ze=Ji(v);if(!tr(B)&&!isNaN(B)){const ke=u.valueAsNumber||B&&+B;tr(ye.value)||(be=ke>ye.value),tr(ze.value)||(Se=ke<ze.value)}else{const ke=u.valueAsDate||new Date(B),Oe=C=>new Date(new Date().toDateString()+" "+C),Z=u.type=="time",ae=u.type=="week";hn(ye.value)&&B&&(be=Z?Oe(B)>Oe(ye.value):ae?B>ye.value:ke>new Date(ye.value)),hn(ze.value)&&B&&(Se=Z?Oe(B)<Oe(ze.value):ae?B<ze.value:ke<new Date(ze.value))}if((be||Se)&&(Le(!!be,ye.message,ze.message,Pn.max,Pn.min),!i))return H(V[x].message),V}if((y||g)&&!te&&(hn(B)||o&&Array.isArray(B))){const be=Ji(y),Se=Ji(g),ye=!tr(be.value)&&B.length>+be.value,ze=!tr(Se.value)&&B.length<+Se.value;if((ye||ze)&&(Le(ye,be.message,Se.message),!i))return H(V[x].message),V}if(N&&!te&&hn(B)){const{value:be,message:Se}=Ji(N);if(xc(be)&&!B.match(be)&&(V[x]={type:Pn.pattern,message:Se,ref:u,...pe(Pn.pattern,Se)},!i))return H(Se),V}if(S){if(Yr(S)){const be=await S(B,s),Se=Mg(be,D);if(Se&&(V[x]={...Se,...pe(Pn.validate,Se.message)},!i))return H(Se.message),V}else if(Nt(S)){let be={};for(const Se in S){if(!pr(be)&&!i)break;const ye=Mg(await S[Se](B,s),D,Se);ye&&(be={...ye,...pe(Se,ye.message)},H(ye.message),i&&(V[x]=be))}if(!pr(be)&&(V[x]={ref:D,...be},!i))return V}}return H(!0),V};const Lk={mode:Jr.onSubmit,reValidateMode:Jr.onChange,shouldFocusError:!0};function Ak(r={}){let t={...Lk,...r},s={submitCount:0,isDirty:!1,isReady:!1,isLoading:Yr(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const i={};let l=Nt(t.defaultValues)||Nt(t.values)?Ht(t.defaultValues||t.values)||{}:{},o=t.shouldUnregister?{}:Ht(l),u={action:!1,mount:!1,watch:!1},f={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},m,y=0;const g={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let v={...g};const w={array:jg(),state:jg()},N=t.criteriaMode===Jr.all,S=j=>I=>{clearTimeout(y),y=setTimeout(j,I)},x=async j=>{if(!t.disabled&&(g.isValid||v.isValid||j)){const I=t.resolver?pr((await ne()).errors):await te(i,!0);I!==s.isValid&&w.state.next({isValid:I})}},k=(j,I)=>{!t.disabled&&(g.isValidating||g.validatingFields||v.isValidating||v.validatingFields)&&((j||Array.from(f.mount)).forEach(W=>{W&&(I?ht(s.validatingFields,W,I):Ot(s.validatingFields,W))}),w.state.next({validatingFields:s.validatingFields,isValidating:!pr(s.validatingFields)}))},P=(j,I=[],W,ie,re=!0,X=!0)=>{if(ie&&W&&!t.disabled){if(u.action=!0,X&&Array.isArray(ve(i,j))){const he=W(ve(i,j),ie.argA,ie.argB);re&&ht(i,j,he)}if(X&&Array.isArray(ve(s.errors,j))){const he=W(ve(s.errors,j),ie.argA,ie.argB);re&&ht(s.errors,j,he),Rk(s.errors,j)}if((g.touchedFields||v.touchedFields)&&X&&Array.isArray(ve(s.touchedFields,j))){const he=W(ve(s.touchedFields,j),ie.argA,ie.argB);re&&ht(s.touchedFields,j,he)}(g.dirtyFields||v.dirtyFields)&&(s.dirtyFields=cl(l,o)),w.state.next({name:j,isDirty:Le(j,I),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else ht(o,j,I)},B=(j,I)=>{ht(s.errors,j,I),w.state.next({errors:s.errors})},D=j=>{s.errors=j,w.state.next({errors:s.errors,isValid:!1})},H=(j,I,W,ie)=>{const re=ve(i,j);if(re){const X=ve(o,j,Ct(W)?ve(l,j):W);Ct(X)||ie&&ie.defaultChecked||I?ht(o,j,I?X:Lg(re._f)):ye(j,X),u.mount&&x()}},V=(j,I,W,ie,re)=>{let X=!1,he=!1;const Me={name:j};if(!t.disabled){if(!W||ie){(g.isDirty||v.isDirty)&&(he=s.isDirty,s.isDirty=Me.isDirty=Le(),X=he!==Me.isDirty);const Ze=ys(ve(l,j),I);he=!!ve(s.dirtyFields,j),Ze?Ot(s.dirtyFields,j):ht(s.dirtyFields,j,!0),Me.dirtyFields=s.dirtyFields,X=X||(g.dirtyFields||v.dirtyFields)&&he!==!Ze}if(W){const Ze=ve(s.touchedFields,j);Ze||(ht(s.touchedFields,j,W),Me.touchedFields=s.touchedFields,X=X||(g.touchedFields||v.touchedFields)&&Ze!==W)}X&&re&&w.state.next(Me)}return X?Me:{}},A=(j,I,W,ie)=>{const re=ve(s.errors,j),X=(g.isValid||v.isValid)&&ln(I)&&s.isValid!==I;if(t.delayError&&W?(m=S(()=>B(j,W)),m(t.delayError)):(clearTimeout(y),m=null,W?ht(s.errors,j,W):Ot(s.errors,j)),(W?!ys(re,W):re)||!pr(ie)||X){const he={...ie,...X&&ln(I)?{isValid:I}:{},errors:s.errors,name:j};s={...s,...he},w.state.next(he)}},ne=async j=>{k(j,!0);const I=await t.resolver(o,t.context,Sk(j||f.mount,i,t.criteriaMode,t.shouldUseNativeValidation));return k(j),I},le=async j=>{const{errors:I}=await ne(j);if(j)for(const W of j){const ie=ve(I,W);ie?ht(s.errors,W,ie):Ot(s.errors,W)}else s.errors=I;return I},te=async(j,I,W={valid:!0})=>{for(const ie in j){const re=j[ie];if(re){const{_f:X,...he}=re;if(X){const Me=f.array.has(X.name),Ze=re._f&&Ek(re._f);Ze&&g.validatingFields&&k([ie],!0);const Pt=await Ig(re,f.disabled,o,N,t.shouldUseNativeValidation&&!I,Me);if(Ze&&g.validatingFields&&k([ie]),Pt[X.name]&&(W.valid=!1,I))break;!I&&(ve(Pt,X.name)?Me?Ok(s.errors,Pt,X.name):ht(s.errors,X.name,Pt[X.name]):Ot(s.errors,X.name))}!pr(he)&&await te(he,I,W)}}return W.valid},pe=()=>{for(const j of f.unMount){const I=ve(i,j);I&&(I._f.refs?I._f.refs.every(W=>!Ad(W)):!Ad(I._f.ref))&&et(j)}f.unMount=new Set},Le=(j,I)=>!t.disabled&&(j&&I&&ht(o,j,I),!ys(C(),l)),be=(j,I,W)=>bk(j,f,{...u.mount?o:Ct(I)?l:hn(j)?{[j]:I}:I},W,I),Se=j=>Rc(ve(u.mount?o:l,j,t.shouldUnregister?ve(l,j,[]):[])),ye=(j,I,W={})=>{const ie=ve(i,j);let re=I;if(ie){const X=ie._f;X&&(!X.disabled&&ht(o,j,hv(I,X)),re=bc(X.ref)&&tr(I)?"":I,ov(X.ref)?[...X.ref.options].forEach(he=>he.selected=re.includes(he.value)):X.refs?$l(X.ref)?X.refs.forEach(he=>{(!he.defaultChecked||!he.disabled)&&(Array.isArray(re)?he.checked=!!re.find(Me=>Me===he.value):he.checked=re===he.value||!!re)}):X.refs.forEach(he=>he.checked=he.value===re):zh(X.ref)?X.ref.value="":(X.ref.value=re,X.ref.type||w.state.next({name:j,values:Ht(o)})))}(W.shouldDirty||W.shouldTouch)&&V(j,re,W.shouldTouch,W.shouldDirty,!0),W.shouldValidate&&ae(j)},ze=(j,I,W)=>{for(const ie in I){if(!I.hasOwnProperty(ie))return;const re=I[ie],X=j+"."+ie,he=ve(i,X);(f.array.has(j)||Nt(re)||he&&!he._f)&&!ti(re)?ze(X,re,W):ye(X,re,W)}},ke=(j,I,W={})=>{const ie=ve(i,j),re=f.array.has(j),X=Ht(I);ht(o,j,X),re?(w.array.next({name:j,values:Ht(o)}),(g.isDirty||g.dirtyFields||v.isDirty||v.dirtyFields)&&W.shouldDirty&&w.state.next({name:j,dirtyFields:cl(l,o),isDirty:Le(j,X)})):ie&&!ie._f&&!tr(X)?ze(j,X,W):ye(j,X,W),Dg(j,f)&&w.state.next({...s}),w.state.next({name:u.mount?j:void 0,values:Ht(o)})},Oe=async j=>{u.mount=!0;const I=j.target;let W=I.name,ie=!0;const re=ve(i,W),X=Ze=>{ie=Number.isNaN(Ze)||ti(Ze)&&isNaN(Ze.getTime())||ys(Ze,ve(o,W,Ze))},he=Ag(t.mode),Me=Ag(t.reValidateMode);if(re){let Ze,Pt;const Sr=I.type?Lg(re._f):mk(j),mt=j.type===Pg.BLUR||j.type===Pg.FOCUS_OUT,vi=!Ck(re._f)&&!t.resolver&&!ve(s.errors,W)&&!re._f.deps||Tk(mt,ve(s.touchedFields,W),s.isSubmitted,Me,he),mn=Dg(W,f,mt);ht(o,W,Sr),mt?(re._f.onBlur&&re._f.onBlur(j),m&&m(0)):re._f.onChange&&re._f.onChange(j);const pn=V(W,Sr,mt),wa=!pr(pn)||mn;if(!mt&&w.state.next({name:W,type:j.type,values:Ht(o)}),vi)return(g.isValid||v.isValid)&&(t.mode==="onBlur"?mt&&x():mt||x()),wa&&w.state.next({name:W,...mn?{}:pn});if(!mt&&mn&&w.state.next({...s}),t.resolver){const{errors:gn}=await ne([W]);if(X(Sr),ie){const en=$g(s.errors,i,W),yn=$g(gn,i,en.name||W);Ze=yn.error,W=yn.name,Pt=pr(gn)}}else k([W],!0),Ze=(await Ig(re,f.disabled,o,N,t.shouldUseNativeValidation))[W],k([W]),X(Sr),ie&&(Ze?Pt=!1:(g.isValid||v.isValid)&&(Pt=await te(i,!0)));ie&&(re._f.deps&&ae(re._f.deps),A(W,Pt,Ze,pn))}},Z=(j,I)=>{if(ve(s.errors,I)&&j.focus)return j.focus(),1},ae=async(j,I={})=>{let W,ie;const re=wl(j);if(t.resolver){const X=await le(Ct(j)?j:re);W=pr(X),ie=j?!re.some(he=>ve(X,he)):W}else j?(ie=(await Promise.all(re.map(async X=>{const he=ve(i,X);return await te(he&&he._f?{[X]:he}:he)}))).every(Boolean),!(!ie&&!s.isValid)&&x()):ie=W=await te(i);return w.state.next({...!hn(j)||(g.isValid||v.isValid)&&W!==s.isValid?{}:{name:j},...t.resolver||!j?{isValid:W}:{},errors:s.errors}),I.shouldFocus&&!ie&&bl(i,Z,j?re:f.mount),ie},C=j=>{const I={...u.mount?o:l};return Ct(j)?I:hn(j)?ve(I,j):j.map(W=>ve(I,W))},K=(j,I)=>({invalid:!!ve((I||s).errors,j),isDirty:!!ve((I||s).dirtyFields,j),error:ve((I||s).errors,j),isValidating:!!ve(s.validatingFields,j),isTouched:!!ve((I||s).touchedFields,j)}),ce=j=>{j&&wl(j).forEach(I=>Ot(s.errors,I)),w.state.next({errors:j?s.errors:{}})},Ce=(j,I,W)=>{const ie=(ve(i,j,{_f:{}})._f||{}).ref,re=ve(s.errors,j)||{},{ref:X,message:he,type:Me,...Ze}=re;ht(s.errors,j,{...Ze,...I,ref:ie}),w.state.next({name:j,errors:s.errors,isValid:!1}),W&&W.shouldFocus&&ie&&ie.focus&&ie.focus()},Ae=(j,I)=>Yr(j)?w.state.subscribe({next:W=>j(be(void 0,I),W)}):be(j,I,!0),Ye=j=>w.state.subscribe({next:I=>{jk(j.name,I.name,j.exact)&&Pk(I,j.formState||g,Un,j.reRenderRoot)&&j.callback({values:{...o},...s,...I})}}).unsubscribe,Ue=j=>(u.mount=!0,v={...v,...j.formState},Ye({...j,formState:v})),et=(j,I={})=>{for(const W of j?wl(j):f.mount)f.mount.delete(W),f.array.delete(W),I.keepValue||(Ot(i,W),Ot(o,W)),!I.keepError&&Ot(s.errors,W),!I.keepDirty&&Ot(s.dirtyFields,W),!I.keepTouched&&Ot(s.touchedFields,W),!I.keepIsValidating&&Ot(s.validatingFields,W),!t.shouldUnregister&&!I.keepDefaultValue&&Ot(l,W);w.state.next({values:Ht(o)}),w.state.next({...s,...I.keepDirty?{isDirty:Le()}:{}}),!I.keepIsValid&&x()},Qe=({disabled:j,name:I})=>{(ln(j)&&u.mount||j||f.disabled.has(I))&&(j?f.disabled.add(I):f.disabled.delete(I))},St=(j,I={})=>{let W=ve(i,j);const ie=ln(I.disabled)||ln(t.disabled);return ht(i,j,{...W||{},_f:{...W&&W._f?W._f:{ref:{name:j}},name:j,mount:!0,...I}}),f.mount.add(j),W?Qe({disabled:ln(I.disabled)?I.disabled:t.disabled,name:j}):H(j,!0,I.value),{...ie?{disabled:I.disabled||t.disabled}:{},...t.progressive?{required:!!I.required,min:ul(I.min),max:ul(I.max),minLength:ul(I.minLength),maxLength:ul(I.maxLength),pattern:ul(I.pattern)}:{},name:j,onChange:Oe,onBlur:Oe,ref:re=>{if(re){St(j,I),W=ve(i,j);const X=Ct(re.value)&&re.querySelectorAll&&re.querySelectorAll("input,select,textarea")[0]||re,he=xk(X),Me=W._f.refs||[];if(he?Me.find(Ze=>Ze===X):X===W._f.ref)return;ht(i,j,{_f:{...W._f,...he?{refs:[...Me.filter(Ad),X,...Array.isArray(ve(l,j))?[{}]:[]],ref:{type:X.type,name:j}}:{ref:X}}}),H(j,!1,void 0,X)}else W=ve(i,j,{}),W._f&&(W._f.mount=!1),(t.shouldUnregister||I.shouldUnregister)&&!(gk(f.array,j)&&u.action)&&f.unMount.add(j)}}},_t=()=>t.shouldFocusError&&bl(i,Z,f.mount),gr=j=>{ln(j)&&(w.state.next({disabled:j}),bl(i,(I,W)=>{const ie=ve(i,W);ie&&(I.disabled=ie._f.disabled||j,Array.isArray(ie._f.refs)&&ie._f.refs.forEach(re=>{re.disabled=ie._f.disabled||j}))},0,!1))},In=(j,I)=>async W=>{let ie;W&&(W.preventDefault&&W.preventDefault(),W.persist&&W.persist());let re=Ht(o);if(w.state.next({isSubmitting:!0}),t.resolver){const{errors:X,values:he}=await ne();s.errors=X,re=he}else await te(i);if(f.disabled.size)for(const X of f.disabled)ht(re,X,void 0);if(Ot(s.errors,"root"),pr(s.errors)){w.state.next({errors:{}});try{await j(re,W)}catch(X){ie=X}}else I&&await I({...s.errors},W),_t(),setTimeout(_t);if(w.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:pr(s.errors)&&!ie,submitCount:s.submitCount+1,errors:s.errors}),ie)throw ie},Fn=(j,I={})=>{ve(i,j)&&(Ct(I.defaultValue)?ke(j,Ht(ve(l,j))):(ke(j,I.defaultValue),ht(l,j,Ht(I.defaultValue))),I.keepTouched||Ot(s.touchedFields,j),I.keepDirty||(Ot(s.dirtyFields,j),s.isDirty=I.defaultValue?Le(j,Ht(ve(l,j))):Le()),I.keepError||(Ot(s.errors,j),g.isValid&&x()),w.state.next({...s}))},rr=(j,I={})=>{const W=j?Ht(j):l,ie=Ht(W),re=pr(j),X=re?l:ie;if(I.keepDefaultValues||(l=W),!I.keepValues){if(I.keepDirtyValues){const he=new Set([...f.mount,...Object.keys(cl(l,o))]);for(const Me of Array.from(he))ve(s.dirtyFields,Me)?ht(X,Me,ve(o,Me)):ke(Me,ve(X,Me))}else{if(Lh&&Ct(j))for(const he of f.mount){const Me=ve(i,he);if(Me&&Me._f){const Ze=Array.isArray(Me._f.refs)?Me._f.refs[0]:Me._f.ref;if(bc(Ze)){const Pt=Ze.closest("form");if(Pt){Pt.reset();break}}}}for(const he of f.mount)ke(he,ve(X,he))}o=Ht(X),w.array.next({values:{...X}}),w.state.next({values:{...X}})}f={mount:I.keepDirtyValues?f.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},u.mount=!g.isValid||!!I.keepIsValid||!!I.keepDirtyValues,u.watch=!!t.shouldUnregister,w.state.next({submitCount:I.keepSubmitCount?s.submitCount:0,isDirty:re?!1:I.keepDirty?s.isDirty:!!(I.keepDefaultValues&&!ys(j,l)),isSubmitted:I.keepIsSubmitted?s.isSubmitted:!1,dirtyFields:re?{}:I.keepDirtyValues?I.keepDefaultValues&&o?cl(l,o):s.dirtyFields:I.keepDefaultValues&&j?cl(l,j):I.keepDirty?s.dirtyFields:{},touchedFields:I.keepTouched?s.touchedFields:{},errors:I.keepErrors?s.errors:{},isSubmitSuccessful:I.keepIsSubmitSuccessful?s.isSubmitSuccessful:!1,isSubmitting:!1})},Os=(j,I)=>rr(Yr(j)?j(o):j,I),yi=(j,I={})=>{const W=ve(i,j),ie=W&&W._f;if(ie){const re=ie.refs?ie.refs[0]:ie.ref;re.focus&&(re.focus(),I.shouldSelect&&Yr(re.select)&&re.select())}},Un=j=>{s={...s,...j}},Bn={control:{register:St,unregister:et,getFieldState:K,handleSubmit:In,setError:Ce,_subscribe:Ye,_runSchema:ne,_focusError:_t,_getWatch:be,_getDirty:Le,_setValid:x,_setFieldArray:P,_setDisabledField:Qe,_setErrors:D,_getFieldArray:Se,_reset:rr,_resetDefaultValues:()=>Yr(t.defaultValues)&&t.defaultValues().then(j=>{Os(j,t.resetOptions),w.state.next({isLoading:!1})}),_removeUnmounted:pe,_disableForm:gr,_subjects:w,_proxyFormState:g,get _fields(){return i},get _formValues(){return o},get _state(){return u},set _state(j){u=j},get _defaultValues(){return l},get _names(){return f},set _names(j){f=j},get _formState(){return s},get _options(){return t},set _options(j){t={...t,...j}}},subscribe:Ue,trigger:ae,register:St,handleSubmit:In,watch:Ae,setValue:ke,getValues:C,reset:Os,resetField:Fn,clearErrors:ce,unregister:et,setError:Ce,setFocus:yi,getFieldState:K};return{...Bn,formControl:Bn}}function zk(r={}){const t=Or.useRef(void 0),s=Or.useRef(void 0),[i,l]=Or.useState({isDirty:!1,isValidating:!1,isLoading:Yr(r.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1,isReady:!1,defaultValues:Yr(r.defaultValues)?void 0:r.defaultValues});t.current||(t.current={...r.formControl?r.formControl:Ak(r),formState:i},r.formControl&&r.defaultValues&&!Yr(r.defaultValues)&&r.formControl.reset(r.defaultValues,r.resetOptions));const o=t.current.control;return o._options=r,wk(()=>{const u=o._subscribe({formState:o._proxyFormState,callback:()=>l({...o._formState}),reRenderRoot:!0});return l(f=>({...f,isReady:!0})),o._formState.isReady=!0,u},[o]),Or.useEffect(()=>o._disableForm(r.disabled),[o,r.disabled]),Or.useEffect(()=>{r.mode&&(o._options.mode=r.mode),r.reValidateMode&&(o._options.reValidateMode=r.reValidateMode)},[o,r.mode,r.reValidateMode]),Or.useEffect(()=>{r.errors&&(o._setErrors(r.errors),o._focusError())},[o,r.errors]),Or.useEffect(()=>{r.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,r.shouldUnregister]),Or.useEffect(()=>{if(o._proxyFormState.isDirty){const u=o._getDirty();u!==i.isDirty&&o._subjects.state.next({isDirty:u})}},[o,i.isDirty]),Or.useEffect(()=>{r.values&&!ys(r.values,s.current)?(o._reset(r.values,o._options.resetOptions),s.current=r.values,l(u=>({...u}))):o._resetDefaultValues()},[o,r.values]),Or.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),t.current.formState=vk(i,o),t.current}const Dk={path:"/auth/register",title:"Register"};function $k(){const[r,t]=L.useState(null),[s,i]=L.useState(!1),{register:l,loading:o}=Dr(),{register:u,handleSubmit:f,formState:{errors:m},watch:y,setValue:g,reset:v}=zk({defaultValues:{email:"",username:"",password:"",confirmPassword:"",role:"student"}}),w=y("password"),N=async k=>{t(null),i(!1);try{await l(k.email,k.password,k.username,k.role),i(!0),v()}catch(P){t(P)}},S=k=>{g("email",k==="student"?"student@example.com":"teacher@example.com"),g("username",k==="student"?"teststudent":"testteacher"),g("password","password123"),g("confirmPassword","password123"),g("role",k)},x=[{value:"student",label:"🎓 Student"},{value:"teacher",label:"👨‍🏫 Nauczyciel"}];return d("div",{className:"min-h-screen bg-base-200 flex items-center justify-center p-4",children:d("div",{className:"card w-full max-w-md bg-base-100 shadow-xl",children:b("div",{className:"card-body",children:[b("div",{className:"text-center mb-6",children:[d("h1",{className:"text-3xl font-bold text-primary",children:"Rejestracja"}),d("p",{className:"text-base-content/70 mt-2",children:"Utwórz nowe konto"})]}),b("form",{onSubmit:f(N),className:"space-y-4",children:[b("div",{className:"form-control",children:[d("label",{className:"label",children:d("span",{className:"label-text font-medium",children:"Email *"})}),d("input",{...u("email",{required:"Email jest wymagany",pattern:{value:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:"Nieprawidłowy format email"}}),type:"email",placeholder:"Wprowadź swój email",className:`input input-bordered w-full ${m.email?"input-error":""}`}),m.email&&d("label",{className:"label",children:d("span",{className:"label-text-alt text-error",children:m.email.message})})]}),b("div",{className:"form-control",children:[d("label",{className:"label",children:d("span",{className:"label-text font-medium",children:"Nazwa użytkownika *"})}),d("input",{...u("username",{required:"Nazwa użytkownika jest wymagana",minLength:{value:3,message:"Minimum 3 znaki"}}),type:"text",placeholder:"Wprowadź nazwę użytkownika",className:`input input-bordered w-full ${m.username?"input-error":""}`}),m.username&&d("label",{className:"label",children:d("span",{className:"label-text-alt text-error",children:m.username.message})})]}),b("div",{className:"form-control",children:[d("label",{className:"label",children:d("span",{className:"label-text font-medium",children:"Rola *"})}),d("select",{...u("role",{required:"Rola jest wymagana"}),className:`select select-bordered w-full ${m.role?"select-error":""}`,children:x.map(k=>d("option",{value:k.value,children:k.label},k.value))}),m.role&&d("label",{className:"label",children:d("span",{className:"label-text-alt text-error",children:m.role.message})})]}),b("div",{className:"form-control",children:[d("label",{className:"label",children:d("span",{className:"label-text font-medium",children:"Hasło *"})}),d("input",{...u("password",{required:"Hasło jest wymagane",minLength:{value:6,message:"Minimum 6 znaków"}}),type:"password",placeholder:"Wprowadź hasło",className:`input input-bordered w-full ${m.password?"input-error":""}`}),m.password&&d("label",{className:"label",children:d("span",{className:"label-text-alt text-error",children:m.password.message})})]}),b("div",{className:"form-control",children:[d("label",{className:"label",children:d("span",{className:"label-text font-medium",children:"Potwierdź hasło *"})}),d("input",{...u("confirmPassword",{required:"Potwierdzenie hasła jest wymagane",validate:k=>k===w||"Hasła nie pasują"}),type:"password",placeholder:"Potwierdź hasło",className:`input input-bordered w-full ${m.confirmPassword?"input-error":""}`}),m.confirmPassword&&d("label",{className:"label",children:d("span",{className:"label-text-alt text-error",children:m.confirmPassword.message})})]}),r&&d("div",{className:"alert alert-error",children:d("span",{children:r.message})}),s&&d("div",{className:"alert alert-success",children:d("span",{children:"Rejestracja udana! Sprawdź email w celu potwierdzenia konta."})}),d("div",{className:"form-control mt-6",children:d("button",{type:"submit",className:`btn btn-primary w-full ${o?"loading":""}`,disabled:o,children:o?"Rejestrowanie...":"Zarejestruj się"})})]}),d("div",{className:"divider text-xs",children:"Test Data"}),b("div",{className:"flex gap-2",children:[d("button",{type:"button",onClick:()=>S("student"),className:"btn btn-outline btn-sm flex-1",children:"Test Student"}),d("button",{type:"button",onClick:()=>S("teacher"),className:"btn btn-outline btn-sm flex-1",children:"Test Teacher"})]}),d("div",{className:"divider",children:"LUB"}),d("div",{className:"text-center mt-4",children:b("p",{className:"text-base-content/70",children:["Masz już konto?"," ",d(Ke,{to:"/auth/login",className:"link link-primary font-medium",children:"Zaloguj się"})]})})]})})})}const Mk=Object.freeze(Object.defineProperty({__proto__:null,default:$k,routeConfig:Dk},Symbol.toStringTag,{value:"Module"})),on={default:{bg:"bg-base-100",border:"border-gray-200/60",text:""},success:{bg:"bg-green-50/30",border:"border-green-200/40",text:""},warning:{bg:"bg-amber-50/30",border:"border-amber-200/40",text:""},info:{bg:"bg-blue-50/30",border:"border-blue-200/40",text:""},accent:{bg:"bg-purple-50/30",border:"border-purple-200/40",text:""},purple:{bg:"bg-purple-100",border:"border-purple-600",text:"text-purple-600"},amber:{bg:"bg-amber-100",border:"border-amber-600",text:"text-amber-600"},green:{bg:"bg-green-100",border:"border-green-600",text:"text-green-600"},blue:{bg:"bg-blue-100",border:"border-blue-600",text:"text-blue-600"},rose:{bg:"bg-rose-50/50",border:"border-rose-600",text:"text-rose-600"},yellow:{bg:"bg-yellow-50/50",border:"border-yellow-600",text:"text-yellow-600"}};function Ik({children:r,className:t="",hover:s=!1,variant:i="default"}){const l=on[i];return d("div",{className:`
        card rounded-xl border shadow-sm
        ${l.bg}
        ${l.border}
        ${s?"hover:shadow-md hover:border-gray-300/60 transition-all duration-300 hover:-translate-y-0.5":""}
        ${t}
      `,children:r})}function $h({icon:r,title:t,description:s,actionLabel:i,onAction:l}){return b("div",{className:"flex flex-col items-center justify-center py-16 px-8",children:[d("div",{className:"w-20 h-20 mx-auto mb-6 bg-gradient-to-br from-gray-50 to-gray-100/80 rounded-3xl flex items-center justify-center shadow-sm border border-gray-200/40",children:r}),d("h2",{className:"text-xl font-semibold text-gray-900 mb-3 text-center max-w-sm",children:t}),d("p",{className:"text-gray-600 mb-8 leading-relaxed text-center max-w-md text-sm",children:s}),i&&l&&d("button",{className:"px-6 py-2.5 bg-gray-900 text-white rounded-xl text-sm font-medium hover:bg-gray-800 transition-colors shadow-sm",onClick:l,children:i})]})}function mv({message:r="Ładowanie..."}){return d("div",{className:"min-h-screen flex items-center justify-center bg-gray-50/30",children:b("div",{className:"flex flex-col items-center gap-6",children:[d("div",{className:"relative",children:d("div",{className:"w-8 h-8 border-2 border-gray-200 border-t-blue-500 rounded-full animate-spin"})}),d("p",{className:"text-gray-600 font-medium text-sm",children:r})]})})}function pl({icon:r,value:t,label:s,subLabel:i,color:l}){const o=on[l];return b("div",{className:"text-center",children:[d("div",{className:`w-16 h-16 ${o.bg} rounded-xl flex items-center justify-center mx-auto mb-3`,children:r}),d("div",{className:`text-3xl font-bold ${o.text}`,children:t}),d("div",{className:"text-sm text-gray-600",children:s}),i&&d("div",{className:`text-xs ${o.text} mt-1`,children:i})]})}function Fk({title:r,subtitle:t,size:s="md",className:i=""}){const l={sm:{title:"scroll-m-20 text-xl font-bold tracking-tight lg:text-2xl ",subtitle:"text-sm text-muted-foreground sm:text-base mt-1"},md:{title:"scroll-m-20 text-3xl font-bold tracking-tight lg:text-4xl",subtitle:"text-lg text-muted-foreground sm:text-xl mt-2"}};return b("div",{className:`${i}`,children:[d("h1",{className:l[s].title,children:r}),d("p",{className:l[s].subtitle,children:t})]})}function pv({title:r,subtitle:t,variant:s="default",className:i=""}){const l={default:on.default.border,courses:on.blue.border,dashboard:on.green.border,lesson:on.purple.border,progress:on.green.border,achievements:on.amber.border,leaderboard:on.rose.border};return d("div",{className:`border-b border-slate-200 bg-base-100 ${i}`,children:d("div",{className:"container space-y-1 pb-8 pt-6 md:pb-12 md:pt-10 lg:py-16",children:d("div",{className:`border-l-8 pl-8 space-y-2 ${l[s]}`,children:d(Fk,{title:r,subtitle:t})})})})}function Mh({percentage:r}){return d("div",{className:"bg-gray-200 rounded-full h-3",children:d("div",{className:"bg-gradient-to-r from-purple-500 to-blue-500 h-3 rounded-full transition-all duration-1000",style:{width:`${r}%`}})})}/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uk=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Bk=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,s,i)=>i?i.toUpperCase():s.toLowerCase()),Fg=r=>{const t=Bk(r);return t.charAt(0).toUpperCase()+t.slice(1)},gv=(...r)=>r.filter((t,s,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===s).join(" ").trim(),qk=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Vk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wk=L.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:i,className:l="",children:o,iconNode:u,...f},m)=>L.createElement("svg",{ref:m,...Vk,width:t,height:t,stroke:r,strokeWidth:i?Number(s)*24/Number(t):s,className:gv("lucide",l),...!o&&!qk(f)&&{"aria-hidden":"true"},...f},[...u.map(([y,g])=>L.createElement(y,g)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=(r,t)=>{const s=L.forwardRef(({className:i,...l},o)=>L.createElement(Wk,{ref:o,iconNode:t,className:gv(`lucide-${Uk(Fg(r))}`,`lucide-${r}`,i),...l}));return s.displayName=Fg(r),s};/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hk=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],yv=He("arrow-down",Hk);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kk=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Qk=He("arrow-left",Kk);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gk=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],vv=He("arrow-up",Gk);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jk=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],wv=He("award",Jk);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yk=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Mn=He("book-open",Yk);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zk=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],ch=He("book",Zk);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xk=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],uh=He("brain",Xk);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eN=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],kc=He("calendar",eN);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tN=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],bv=He("chart-column",tN);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rN=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Ug=He("chevron-right",rN);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],sN=He("circle-alert",nN);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iN=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],aN=He("circle-check-big",iN);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Sl=He("circle-check",lN);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]],cN=He("circle-play",oN);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],El=He("clock",uN);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dN=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],hN=He("crown",dN);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fN=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],Ih=He("flame",fN);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mN=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],pN=He("funnel",mN);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gN=[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]],yN=He("gem",gN);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vN=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Nc=He("house",vN);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],bN=He("lock",wN);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],xN=He("log-out",_N);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],_v=He("medal",kN);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=[["path",{d:"M5 12h14",key:"1ays0h"}]],xv=He("minus",NN);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],EN=He("moon",SN);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],PN=He("pen-tool",CN);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],TN=He("play",jN);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ON=He("search",RN);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],AN=He("shield",LN);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],ta=He("star",zN);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],$N=He("sun",DN);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],ui=He("target",MN);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],fi=He("trending-up",IN);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],mi=He("trophy",FN);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UN=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],BN=He("user",UN);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],VN=He("users",qN);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Fh=He("zap",WN);function uc({title:r,value:t,icon:s,color:i="blue",trend:l}){const o=on[i],u=m=>{switch(m){case"up":return d(vv,{className:"w-3 h-3"});case"down":return d(yv,{className:"w-3 h-3"});case"stable":return d(xv,{className:"w-3 h-3"})}};return d(Ik,{hover:!0,className:"p-6",children:b("div",{className:"flex items-center justify-between",children:[b("div",{className:"flex-1",children:[b("div",{className:"flex items-center justify-between mb-2",children:[d("p",{className:"text-sm font-medium text-gray-500 tracking-wide",children:r}),l&&b("div",{className:`flex items-center gap-1 px-2 py-1 rounded-md text-xs font-medium ${(m=>{switch(m){case"up":return"text-green-600 bg-green-50";case"down":return"text-rose-600 bg-rose-50";case"stable":return"text-gray-600 bg-gray-50"}})(l.direction)}`,children:[u(l.direction),d("span",{children:l.value})]})]}),d("p",{className:`text-2xl font-bold ${o.text} tracking-tight`,children:t})]}),d("div",{className:`w-12 h-12 ${o.bg} rounded-xl flex items-center justify-center border border-gray-200/40`,children:d("div",{className:o.text,children:s})})]})})}const HN={path:"/auth/student-welcome",title:"Student welcome"};function KN(){const{user:r,logout:t}=Dr(),s=Nr(),i=[{icon:d(ch,{className:"w-8 h-8 text-info"}),title:"Kursy",desc:"Przeglądaj dostępne kursy",path:"/student/courses",bgColor:"bg-info/10"},{icon:d(PN,{className:"w-8 h-8 text-success"}),title:"Zadania",desc:"Rozwiązuj ćwiczenia",path:"/student/exercises",bgColor:"bg-success/10"},{icon:d(fi,{className:"w-8 h-8 text-primary"}),title:"Postępy",desc:"Śledź swoje wyniki",path:"/student/progress",bgColor:"bg-primary/10"},{icon:d(wv,{className:"w-8 h-8 text-warning"}),title:"Osiągnięcia",desc:"Zdobywaj odznaki",path:"/student/achievements",bgColor:"bg-warning/10"}];return b("div",{className:"min-h-screen bg-base-200/50",children:[d(pv,{title:"Panel Studenta",subtitle:`Witaj ${r==null?void 0:r.username}! Wybierz, co chcesz robić dzisiaj`}),d("div",{className:"container mx-auto px-8 py-16",children:b("div",{className:"max-w-4xl mx-auto",children:[d("div",{className:"card bg-base-100 shadow-sm p-12 mb-12",children:b("div",{className:"card-body items-center text-center p-0",children:[d("div",{className:"w-24 h-24 bg-gradient-to-br from-primary/10 to-secondary/20 rounded-3xl flex items-center justify-center mb-6",children:d("div",{className:"text-4xl",children:"🎓"})}),d("h2",{className:"card-title text-3xl font-serif tracking-tight mb-4",children:"Twój Portal Edukacyjny"}),d("p",{className:"text-base-content/70 text-lg leading-relaxed max-w-md",children:"Rozwijaj swoje umiejętności w przyjaznym środowisku nauki"})]})}),d("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-12",children:i.map((l,o)=>d("div",{className:"card bg-base-100 shadow-sm hover:shadow-md cursor-pointer transition-all duration-200",onClick:()=>s(l.path),children:d("div",{className:"card-body p-8",children:b("div",{className:"flex items-start gap-6",children:[d("div",{className:`w-16 h-16 ${l.bgColor} rounded-2xl flex items-center justify-center`,children:l.icon}),b("div",{className:"flex-1",children:[d("h3",{className:"card-title text-xl font-serif tracking-tight mb-2",children:l.title}),d("p",{className:"text-base-content/70 leading-relaxed",children:l.desc})]})]})})},o))}),b("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[b("button",{onClick:()=>s("/student/dashboard"),className:"btn btn-primary btn-lg gap-3",children:[d(Nc,{className:"w-5 h-5"}),"Główny panel"]}),b("button",{onClick:()=>t(),className:"btn btn-ghost btn-lg gap-3",children:[d(xN,{className:"w-5 h-5"}),"Wyloguj"]})]})]})})]})}const QN=Object.freeze(Object.defineProperty({__proto__:null,default:KN,routeConfig:HN},Symbol.toStringTag,{value:"Module"})),GN={path:"/auth/teacher-welcome",title:"Teacher welcome"};function JN(){const{user:r,logout:t}=Dr(),s=Nr(),i=[{icon:"📖",title:"Kursy",desc:"Zarządzaj swoimi kursami",path:"/teacher/courses"},{icon:"👥",title:"Studenci",desc:"Przeglądaj uczniów",path:"/teacher/students"},{icon:"📝",title:"Zadania",desc:"Twórz ćwiczenia",path:"/teacher/exercises"},{icon:"📈",title:"Analityka",desc:"Statystyki i raporty",path:"/teacher/analytics"}];return d("div",{className:"min-h-screen bg-base-200 flex items-center justify-center p-4",children:d("div",{className:"card w-full max-w-2xl bg-base-100 shadow-xl",children:b("div",{className:"card-body",children:[b("div",{className:"text-center mb-8",children:[d("div",{className:"text-6xl text-secondary mb-4",children:"👨‍🏫"}),d("h1",{className:"text-3xl font-bold text-secondary mb-2",children:"Panel Nauczyciela"}),b("p",{className:"text-base-content/70",children:["Witaj ",r==null?void 0:r.username,"! Wybierz, co chcesz robić:"]})]}),d("div",{className:"grid grid-cols-2 gap-4 mb-6",children:i.map((l,o)=>d("div",{className:"card bg-base-200 hover:bg-base-300 cursor-pointer transition-colors",onClick:()=>s(l.path),children:b("div",{className:"card-body items-center text-center p-4",children:[d("div",{className:"text-3xl mb-2",children:l.icon}),d("h3",{className:"font-bold",children:l.title}),d("p",{className:"text-sm text-base-content/70",children:l.desc})]})},o))}),b("div",{className:"flex gap-2",children:[d("button",{onClick:()=>s("/teacher/dashboard"),className:"btn btn-secondary flex-1",children:"🏠 Główny panel"}),d("button",{onClick:()=>t(),className:"btn btn-ghost",children:"Wyloguj"})]})]})})})}const YN=Object.freeze(Object.defineProperty({__proto__:null,default:JN,routeConfig:GN},Symbol.toStringTag,{value:"Module"})),ZN={path:"/auth/welcome",title:"Welcome"};function XN(){const{user:r,logout:t}=Dr(),s=Nr();if(!r)return s("/auth/login"),null;const i=()=>{r.role==="teacher"?s("/teacher/dashboard"):s("/student/dashboard")},l=()=>r.role==="teacher"?"👨‍🏫":"🎓",o=()=>r.role==="teacher"?"text-secondary":"text-primary",u=()=>r.role==="teacher"?"Zarządzaj kursami, twórz materiały i śledź postępy swoich uczniów.":"Rozpocznij naukę, rozwiązuj zadania i rozwijaj swoje umiejętności.";return d("div",{className:"min-h-screen bg-base-200 flex items-center justify-center p-4",children:d("div",{className:"card w-full max-w-md bg-base-100 shadow-xl",children:b("div",{className:"card-body text-center",children:[b("div",{className:"mb-6",children:[d("div",{className:`text-6xl ${o()} mb-4`,children:l()}),d("h1",{className:"text-3xl font-bold text-primary mb-2",children:"Witaj ponownie!"}),b("p",{className:"text-base-content/70",children:["Zalogowałeś się jako ",d("span",{className:`font-bold ${o()}`,children:r.role==="teacher"?"Nauczyciel":"Student"})]})]}),b("div",{className:"bg-base-200 rounded-lg p-4 mb-6",children:[d("div",{className:"text-sm text-base-content/70 mb-2",children:"Twoje dane:"}),d("div",{className:"font-medium",children:r.username||r.email}),d("div",{className:"text-sm text-base-content/60",children:r.email})]}),d("p",{className:"text-base-content/70 mb-6",children:u()}),b("div",{className:"space-y-3",children:[d("button",{onClick:i,className:`btn ${r.role==="teacher"?"btn-secondary":"btn-primary"} w-full`,children:r.role==="teacher"?"📚 Przejdź do panelu nauczyciela":"🚀 Rozpocznij naukę"}),d("button",{onClick:()=>t(),className:"btn btn-ghost btn-sm w-full",children:"Wyloguj się"})]})]})})})}const eS=Object.freeze(Object.defineProperty({__proto__:null,default:XN,routeConfig:ZN},Symbol.toStringTag,{value:"Module"}));function tS({filter:r,counts:t,setFilter:s}){return d("div",{className:"bg-base-100 rounded-xl border border-base-300 shadow-sm p-6 mb-8",children:b("div",{className:"flex gap-2",children:[b("button",{onClick:()=>s("all"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${r==="all"?"bg-primary text-primary-content border border-primary-focus":"text-base-content/70 hover:bg-base-200"}`,children:["Wszystkie (",t.all,")"]}),b("button",{onClick:()=>s("earned"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${r==="earned"?"bg-success text-success-content border border-success-focus":"text-base-content/70 hover:bg-base-200"}`,children:["Zdobyte (",t.earned,")"]}),b("button",{onClick:()=>s("available"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${r==="available"?"bg-warning text-warning-content border border-warning-focus":"text-base-content/70 hover:bg-base-200"}`,children:["Dostępne (",t.available,")"]})]})})}const rS=Object.freeze(Object.defineProperty({__proto__:null,FilterTabs:tS},Symbol.toStringTag,{value:"Module"})),Bg={"Pierwszy krok":Mn,Perfekcjonista:ta,Wytrwały:ui,Płomień:Ih,Mistrz:hN,Ekspert:uh,Błyskawica:Fh,Wojownik:AN,Diament:yN,Legenda:mi,default:_v};function kv({badges:r}){return d("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:r.map(t=>{const s=Bg[t.name]||Bg.default;return d("div",{className:`bg-base-100 rounded-xl border shadow-sm p-6 transition-all duration-200 ${t.isEarned?"border-green-200/60 hover:shadow-md":t.isAvailable?"border-amber-200/60 hover:shadow-md":"border-gray-200/60 opacity-75"}`,children:b("div",{className:"text-center",children:[d("div",{className:`w-16 h-16 rounded-xl flex items-center justify-center mx-auto mb-4 ${t.isEarned?"bg-green-100 border-2 border-green-200":t.isAvailable?"bg-amber-100 border-2 border-amber-200":"bg-gray-100 border-2 border-gray-200"}`,children:t.isEarned?d(Sl,{className:"w-8 h-8 text-green-600"}):t.isAvailable?d(s,{className:"w-8 h-8 text-amber-600"}):d(bN,{className:"w-8 h-8 text-gray-400"})}),d("h3",{className:`font-semibold mb-2 ${t.isEarned?"text-green-900":t.isAvailable?"text-amber-900":"text-gray-500"}`,children:t.name}),d("p",{className:"text-sm text-gray-600 mb-4",children:t.description}),t.isEarned?b("div",{className:"space-y-2",children:[b("div",{className:"flex items-center justify-center gap-2 text-green-600",children:[d(Sl,{className:"w-4 h-4"}),d("span",{className:"text-sm font-medium",children:"Zdobyta!"})]}),t.awardedAt&&b("div",{className:"flex items-center justify-center gap-1 text-xs text-gray-500",children:[d(kc,{className:"w-3 h-3"}),d("span",{children:new Date(t.awardedAt).toLocaleDateString("pl-PL")})]})]}):t.isAvailable?d("div",{className:"text-amber-600",children:b("div",{className:"flex items-center justify-center gap-2 mb-2",children:[d(El,{className:"w-4 h-4"}),d("span",{className:"text-sm font-medium",children:"Gotowa do odebrania!"})]})}):b("div",{className:"space-y-2",children:[d("div",{className:"text-sm text-gray-500",children:t.progressText}),t.progress>0&&d(Mh,{percentage:t.progress})]})]})},t.id)})})}const nS=Object.freeze(Object.defineProperty({__proto__:null,BadgeGrid:kv},Symbol.toStringTag,{value:"Module"})),sS={auto:"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",1:"grid-cols-1",2:"grid-cols-1 sm:grid-cols-2",3:"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",4:"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4"},iS={sm:"gap-4",md:"gap-6",lg:"gap-8"};function Oc({items:r,renderItem:t,emptyState:s,className:i="",gridCols:l="auto",gap:o="md",loading:u=!1,loadingComponent:f}){return u&&f?d(kr,{children:f}):!r.length&&s?d("div",{className:"flex justify-center",children:d("div",{className:"max-w-lg",children:d($h,{...s})})}):d("div",{className:`grid ${sS[l]} ${iS[o]} ${i}`,children:r.map(t)})}const aS=({badges:r})=>d(Oc,{items:r,renderItem:t=>d("div",{className:`bg-base-100 rounded-xl border shadow-sm p-6 transition-all duration-200 ${t.isEarned?"border-green-200/60 hover:shadow-md":t.isAvailable?"border-amber-200/60 hover:shadow-md":"border-gray-200/60 opacity-75"}`,children:b("div",{className:"text-center",children:[d("div",{className:`w-16 h-16 rounded-xl flex items-center justify-center mx-auto mb-4 ${t.isEarned?"bg-green-100 border-2 border-green-200":t.isAvailable?"bg-amber-100 border-2 border-amber-200":"bg-gray-100 border-2 border-gray-200"}`}),d("h3",{className:"font-semibold mb-2",children:t.name}),d("p",{className:"text-sm text-gray-600",children:t.description})]})},t.id),emptyState:{icon:d(kr,{}),title:"Brak odznak",description:"Nie znaleziono odznak spełniających kryteria"}}),lS=({courses:r})=>d(Oc,{items:r,renderItem:t=>d("div",{className:"bg-base-100 rounded-xl border border-gray-200/60 shadow-sm hover:shadow-md transition-all duration-200",children:b("div",{className:"p-6",children:[d("h3",{className:"font-semibold text-gray-900 mb-2",children:t.title}),d("p",{className:"text-sm text-gray-600 mb-4",children:t.description}),b("div",{className:"flex items-center justify-between",children:[d("span",{className:"text-xs text-gray-500",children:t.subject}),t.isCompleted&&d("span",{className:"text-xs text-green-600 font-medium",children:"Ukończony"})]})]})},t.id),emptyState:{icon:d(kr,{}),title:"Brak kursów",description:"Nie znaleziono kursów spełniających kryteria"}}),oS=Object.freeze(Object.defineProperty({__proto__:null,BadgeGrid:aS,CourseGrid:lS,UniversalGrid:Oc},Symbol.toStringTag,{value:"Module"}));function Lc({data:r,configs:t,filterFunctions:s}){const i=t.reduce((v,w)=>(v[w.key]=w.defaultValue||(w.type==="select"?"all":""),v),{}),[l,o]=L.useState(i),u=(v,w)=>{o(N=>({...N,[v]:w}))},f=()=>{o(i)},{filteredData:m,counts:y}=L.useMemo(()=>{const v=r.filter(N=>Object.entries(l).every(([S,x])=>{if(!x||x==="all"||x==="")return!0;const k=s[S];return k?k(N,x):!0})),w=t.filter(N=>N.type==="tabs"&&N.options).reduce((N,S)=>(S.options.forEach(x=>{if(x.value==="all")N[x.value]=r.length;else{const k=s[S.key];N[x.value]=k?r.filter(P=>k(P,x.value)).length:0}}),N),{});return{filteredData:v,counts:w}},[r,l,s,t]);return{filteredData:m,filters:l,setFilter:u,clearFilters:f,FilterComponent:()=>d("div",{className:"card bg-base-100 shadow-sm border border-base-300 p-6 mb-8",children:b("div",{className:"flex flex-wrap gap-4 ",children:[t.map(v=>{var w,N;return v.type==="text"?d("div",{className:"flex-1 min-w-64",children:b("div",{className:"relative",children:[d(ON,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-base-content/60"}),d("input",{type:"text",placeholder:v.placeholder||`Szukaj ${v.label.toLowerCase()}...`,className:"input input-bordered w-full pl-10 focus:input-primary",value:l[v.key],onChange:S=>u(v.key,S.target.value)})]})},v.key):v.type==="select"?d("select",{className:"select select-bordered focus:select-primary",value:l[v.key],onChange:S=>u(v.key,S.target.value),children:(w=v.options)==null?void 0:w.map(S=>d("option",{value:S.value,children:S.label},S.value))},v.key):v.type==="tabs"?d("div",{className:"tabs tabs-boxed bg-base-200",children:(N=v.options)==null?void 0:N.map(S=>b("button",{onClick:()=>u(v.key,S.value),className:`tab ${l[v.key]===S.value?"tab-active":""}`,children:[S.label," (",y[S.value]||0,")"]},S.value))},v.key):null}),Object.values(l).some(v=>v&&v!=="all")&&d("button",{onClick:f,className:"btn btn-outline btn-sm",children:"Wyczyść filtry"})]})}),counts:y}}const cS=Object.freeze(Object.defineProperty({__proto__:null,useFilters:Lc},Symbol.toStringTag,{value:"Module"}));function at(r,t,s){return eb({queryKey:[r,s],queryFn:async()=>{let i=An.from(t).select("*");const{data:l,error:o}=await i;if(o)throw o;return l||[]},enabled:!0})}function Ac(r,t){const s=Ol();return wh({mutationFn:async i=>{const{data:l,error:o}=await An.from(t).insert(i);if(o)throw o;return l||[]},onSuccess:()=>{s.invalidateQueries({queryKey:[r]})}})}function Uh(r,t){const s=Ol();return wh({mutationFn:async({id:i,updates:l})=>{const{data:o,error:u}=await An.from(t).update(l).eq("id",i).select();if(u)throw u;return o||[]},onSuccess:()=>{s.invalidateQueries({queryKey:[r]}),s.invalidateQueries({queryKey:["lesson-edit"]}),s.invalidateQueries({queryKey:["lesson-detail"]})}})}function uS(r,t){const s=Ol();return wh({mutationFn:async({id:i})=>{const{error:l}=await An.from(t).delete().eq("id",i);if(l)throw l},onSuccess:()=>{s.invalidateQueries({queryKey:[r]}),s.invalidateQueries({queryKey:["lesson-detail"]}),s.invalidateQueries({queryKey:["teacher-lessons"]})}})}const dS=(r,t,s,i)=>{const l=(r==null?void 0:r.length)||0,o=(t==null?void 0:t.length)||0,u=(t==null?void 0:t.reduce((x,k)=>x+k.total_tasks,0))||0,f=(t==null?void 0:t.reduce((x,k)=>x+k.correct_tasks,0))||0,m=(t==null?void 0:t.reduce((x,k)=>x+k.attempts_count,0))||0,y=o?Math.round(t.reduce((x,k)=>x+k.score,0)/o):0,g=(t==null?void 0:t.filter(x=>x.score===100).length)||0,v=(s==null?void 0:s.length)||0,w=u?Math.round(f/u*100):0,N=l>0?Math.round(v/l*100):0,S=o?(m/o).toFixed(1):"0";return{totalLessons:l,completedLessons:o,averageScore:y,totalTasks:u,correctTasks:f,perfectScores:g,badgesEarned:v,accuracy:w,level:(i==null?void 0:i.level)||1,xp:(i==null?void 0:i.xp)||0,streak:(i==null?void 0:i.streak)||0,percentage:N,totalAttempts:m,averageAttempts:S}},Ml=()=>{const{user:r}=Dr(),{data:t,isLoading:s}=at("lessons","lessons"),{data:i,isLoading:l}=at("student-progress","progress"),{data:o,isLoading:u}=at("user-badges","user_badges"),{data:f,isLoading:m}=at("all-badges","badges"),{data:y,isLoading:g}=at("badge-criteria","badge_criteria"),v=s||l||u||m||g;return L.useMemo(()=>{const N=t||[],S=i||[],x=o||[];return{lessons:N,progress:S,userBadges:x,allBadges:f||[],badgeCriteria:y||[],stats:dS(N,S,x,r),isLoading:v}},[t,i,o,f,y,r,v])},hS=Object.freeze(Object.defineProperty({__proto__:null,useStudentData:Ml},Symbol.toStringTag,{value:"Module"})),Nv={student:[{path:"/student/dashboard",label:"Panel główny",icon:Nc},{path:"/student/courses",label:"Kursy",icon:Mn},{path:"/student/progress",label:"Moje Postępy",icon:fi},{path:"/student/achievements",label:"Osiągnięcia",icon:mi}]},Sv=({userRole:r})=>{const t=Nv[r]||[];return d("nav",{className:"space-y-2",children:t.map(s=>{const i=s.icon;return b(Ch,{to:s.path,className:({isActive:l})=>`flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${l?"bg-slate-900 text-white":"text-slate-700 hover:bg-slate-100"}`,children:[d(i,{className:"w-5 h-5"}),s.label]},s.path)})})},fS=Object.freeze(Object.defineProperty({__proto__:null,StudentMenu:Sv,menuItems:Nv},Symbol.toStringTag,{value:"Module"}));function mS({stats:r}){return b("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 rounded-xl border border-purple-200/60 p-8 mb-12",children:[b("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[d(pl,{icon:d(mi,{className:"w-8 h-8 text-purple-600"}),value:r.earned,label:"Zdobyte odznaki",subLabel:`z ${r.total} dostępnych`,color:"purple"}),d(pl,{icon:d(ui,{className:"w-8 h-8 text-amber-600"}),value:`${r.percentage}%`,label:"Ukończone",color:"amber"}),d(pl,{icon:d(ta,{className:"w-8 h-8 text-green-600"}),value:r.perfectScores,label:"Perfekcyjne wyniki",subLabel:"100% poprawnych",color:"green"}),d(pl,{icon:d(fi,{className:"w-8 h-8 text-blue-600"}),value:`${r.averageScore}%`,label:"Średnia ocena",subLabel:"ze wszystkich lekcji",color:"blue"})]}),b("div",{className:"mt-8",children:[b("div",{className:"flex justify-between items-center mb-2",children:[d("span",{className:"text-sm font-medium text-gray-700",children:"Postęp osiągnięć"}),b("span",{className:"text-sm text-gray-600",children:[r.earned," / ",r.total]})]}),d(Mh,{percentage:r.percentage})]})]})}const pS=Object.freeze(Object.defineProperty({__proto__:null,AchievementsOverview:mS},Symbol.toStringTag,{value:"Module"})),gS={dashboard:[{key:"xp",icon:mi,label:"Poziom XP",color:"amber"},{key:"level",icon:ui,label:"Poziom",color:"blue"},{key:"streak",icon:Ih,label:"Seria dni",color:"purple"},{key:"averageScore",icon:bv,label:"Średnia",color:"green",suffix:"%"},{key:"badgesEarned",icon:_v,label:"Odznaki",color:"purple"},{key:"perfectScores",icon:ta,label:"Perfekcyjne",color:"amber"}],achievements:[{key:"earned",icon:mi,label:"Zdobyte odznaki",color:"purple",subLabel:r=>`z ${r.total} dostępnych`},{key:"percentage",icon:ui,label:"Ukończone",color:"amber",suffix:"%"},{key:"perfectScores",icon:ta,label:"Perfekcyjne wyniki",color:"green",subLabel:"100% poprawnych"},{key:"averageScore",icon:fi,label:"Średnia ocena",color:"blue",suffix:"%",subLabel:"ze wszystkich lekcji"}],progress:[{key:"averageScore",icon:fi,label:"Średnia ocena",color:"blue",suffix:"%"},{key:"accuracy",icon:ui,label:"Celność",color:"green",suffix:"%"},{key:"perfectScores",icon:ta,label:"Perfekcyjne wyniki",color:"amber"},{key:"averageAttempts",icon:El,label:"Śr. liczba prób",color:"purple"}],courses:[{key:"total",icon:Mn,label:"Dostępne kursy",color:"blue"},{key:"inProgress",icon:El,label:"W trakcie",color:"amber"},{key:"completed",icon:Sl,label:"Ukończone",color:"green"},{key:"totalHours",icon:Fh,label:"Godziny nauki",color:"purple",suffix:"h"}]},qg={auto:"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",2:"grid-cols-1 sm:grid-cols-2",3:"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",4:"grid-cols-1 sm:grid-cols-2 lg:grid-cols-4",6:"grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 xl:grid-cols-6"},yS=r=>({purple:"text-purple-600",amber:"text-amber-600",green:"text-green-600",blue:"text-blue-600"})[r]||"text-gray-600",Il=({type:r,data:t,showProgress:s=!1,showOverview:i=!1,className:l="",gridCols:o="auto"})=>{const u=gS[r]||[],f=()=>d("div",{className:`grid ${qg[o]} gap-6 ${l}`,children:u.map(g=>{const v=t[g.key],w=typeof g.subLabel=="function"?g.subLabel(t):g.subLabel;return d(pl,{icon:d(g.icon,{className:`w-8 h-8 ${yS(g.color)}`}),value:`${v}${g.suffix||""}`,label:g.label,subLabel:w,color:g.color},g.key)})}),m=()=>d("div",{className:`grid ${qg[o]} gap-6 ${l}`,children:u.map(g=>{const v=t[g.key],w=g.color;return d(uc,{title:g.label,value:`${v}${g.suffix||""}`,icon:d(g.icon,{className:"w-5 h-5"}),color:w},g.key)})}),y=()=>!s||t.percentage===void 0?null:b("div",{className:"mt-8",children:[b("div",{className:"flex justify-between items-center mb-2",children:[d("span",{className:"text-sm font-medium text-gray-700",children:"Postęp osiągnięć"}),b("span",{className:"text-sm text-gray-600",children:[t.earned||0," / ",t.total||0]})]}),d(Mh,{percentage:t.percentage})]});return i?b("div",{className:`bg-gradient-to-r from-purple-50 to-blue-50 rounded-xl border border-purple-200/60 p-8 mb-12 ${l}`,children:[f(),y()]}):b("div",{className:l,children:[m(),y()]})},vS=Object.freeze(Object.defineProperty({__proto__:null,StatsSection:Il},Symbol.toStringTag,{value:"Module"}));function wS({stats:r}){return b("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6 mb-8",children:[d(uc,{title:"Aktualny poziom",value:r.level,icon:d(ui,{className:"w-5 h-5"}),color:"blue"}),d(uc,{title:"Punkty doświadczenia",value:r.xp,icon:d(Fh,{className:"w-5 h-5"}),color:"amber"}),d(uc,{title:"Seria dni",value:r.streak,icon:d(Ih,{className:"w-5 h-5"}),color:"rose"})]})}const bS=Object.freeze(Object.defineProperty({__proto__:null,CurrentStats:wS},Symbol.toStringTag,{value:"Module"})),Bh=({children:r,userRole:t="operator",menuComponent:s})=>b("div",{className:"drawer lg:drawer-open min-h-[90vh] ",children:[d("input",{id:"drawer-toggle",type:"checkbox",className:"drawer-toggle"}),b("div",{className:"drawer-content flex flex-col ",children:[b("div",{className:"navbar lg:hidden bg-base-100",children:[d("div",{className:"flex-none",children:d("label",{htmlFor:"drawer-toggle",className:"btn btn-square btn-ghost",children:d("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})})}),d("div",{className:"flex-1",children:d("span",{className:"text-xl font-bold",children:"Panel"})})]}),d("div",{className:"flex-1 p-4 lg:p-8",children:d("div",{className:"card shadow-xl h-full",children:d("div",{className:"card-body p-0 h-full bg-base-100",children:r})})})]}),b("div",{className:"drawer-side",children:[d("label",{htmlFor:"drawer-toggle",className:"drawer-overlay"}),d("aside",{className:"w-80 min-h-full bg-base-100",children:b("div",{className:"p-6",children:[d("img",{className:"w-42",src:"/assets/smart-edi-play-logo.svg",alt:"Logo"}),b("div",{className:"flex items-center gap-3 mb-8 mt-26  ",children:[d("div",{className:"avatar avatar-placeholder",children:d("div",{className:"bg-neutral text-neutral-content rounded-full w-12",children:d(BN,{className:"w-6 h-6"})})}),b("div",{children:[d("h2",{className:"font-semibold text-base-content capitalize text-lg",children:t}),d("p",{className:"text-sm text-base-content/70",children:"Panel Użytkownika"})]})]}),d("div",{className:"menu-container",children:s})]})})]})]}),_S={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl","2xl":"max-w-2xl","4xl":"max-w-4xl","6xl":"max-w-6xl"},Fl=({title:r,subtitle:t,children:s,isLoading:i=!1,isEmpty:l=!1,emptyState:o,maxWidth:u="6xl",showPadding:f=!0})=>{const m=()=>i?d(mv,{message:`Ładowanie ${r.toLowerCase()}...`}):l&&o?d("div",{className:"flex justify-center",children:d("div",{className:"max-w-lg",children:d($h,{...o})})}):s;return b(Bh,{menuComponent:d(Sv,{userRole:"student"}),children:[d(pv,{title:r,subtitle:t,variant:"courses"}),d("div",{className:`${_S[u]} ${f?"px-6 py-16":"px-6"}`,children:m()})]})},xS={path:"/student/achievements",title:"Osiągnięcia"};function kS(){const{allBadges:r,userBadges:t,badgeCriteria:s,stats:i,isLoading:l}=Ml(),o=L.useMemo(()=>r?r.map(g=>{const v=t==null?void 0:t.find(P=>P.badge_id===g.id),w=s==null?void 0:s.find(P=>P.badge_id===g.id);let N=!!v,S=!1,x=0,k="";if(w&&!N){const P=NS(w.criteria_type,i);x=Math.min(P/w.criteria_value*100,100),k=`${P}/${w.criteria_value} ${SS(w.criteria_type)}`,S=P>=w.criteria_value}return{...g,isEarned:N,isAvailable:S,progress:x,progressText:k,awardedAt:v==null?void 0:v.awarded_at}}):[],[r,t,s,i]),u=[{key:"status",type:"tabs",label:"Status",options:[{value:"all",label:"Wszystkie"},{value:"earned",label:"Zdobyte"},{value:"available",label:"Dostępne"}],defaultValue:"all"}],f={status:(g,v)=>v==="earned"?g.isEarned:v==="available"?!g.isEarned&&g.isAvailable:!0},{filteredData:m,FilterComponent:y}=Lc({data:o,configs:u,filterFunctions:f});return b(Fl,{title:"Twoje Osiągnięcia",subtitle:"Zdobywaj odznaki i śledź swoje sukcesy w nauce",isLoading:l,isEmpty:!o.length,emptyState:{icon:d(Mn,{className:"w-8 h-8 text-gray-400"}),title:"Brak odznak w systemie",description:"Rozpocznij naukę, aby zdobyć pierwsze odznaki",actionLabel:"Rozpocznij naukę",onAction:()=>window.location.href="/student/courses"},children:[d(Il,{type:"achievements",data:i,showProgress:!0,showOverview:!0}),d(y,{}),d(kv,{badges:m})]})}function NS(r,t){switch(r){case"level":return t.level;case"xp":return t.xp;case"streak":return t.streak;default:return 0}}function SS(r){switch(r){case"level":return"poziom";case"xp":return"XP";case"streak":return"dni";default:return""}}const ES=Object.freeze(Object.defineProperty({__proto__:null,default:kS,routeConfig:xS},Symbol.toStringTag,{value:"Module"}));function CS({id:r,title:t,description:s,subject:i,topic:l,grade:o,isCompleted:u=!1,score:f=0,completedAt:m,difficulty:y="beginner",estimatedTime:g=30}){const v={beginner:"text-green-600 bg-green-50 border-green-200",intermediate:"text-amber-600 bg-amber-50 border-amber-200",advanced:"text-rose-600 bg-rose-50 border-rose-200"},w={beginner:"Podstawowy",intermediate:"Średni",advanced:"Zaawansowany"},N=x=>x>=90?"text-green-600 bg-green-50":x>=70?"text-amber-600 bg-amber-50":x>=50?"text-orange-600 bg-orange-50":"text-rose-600 bg-rose-50",S=x=>new Date(x).toLocaleDateString("pl-PL",{day:"numeric",month:"short"});return d(Ke,{to:`/student/lesson/${r}`,className:"block group",children:b("div",{className:"relative bg-base-100 rounded-xl border border-gray-200/60 shadow-sm hover:shadow-md hover:border-gray-300/60 transition-all duration-200 overflow-hidden h-full",children:[b("div",{className:"relative",children:[b("div",{className:"p-6 pb-4",children:[b("div",{className:"flex items-start justify-between mb-3",children:[b("div",{className:"flex-1",children:[d("h3",{className:"font-semibold text-gray-900 group-hover:text-blue-600 transition-colors line-clamp-2",children:t}),l&&d("p",{className:"text-sm text-gray-600 mt-1",children:l})]}),d("div",{className:"ml-3",children:u?d("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:d(Sl,{className:"w-5 h-5 text-green-600"})}):d("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center group-hover:bg-blue-200 transition-colors",children:d(TN,{className:"w-4 h-4 text-blue-600 ml-0.5"})})})]}),d("p",{className:"text-sm text-gray-600 line-clamp-2 mb-4",children:s}),b("div",{className:"flex items-center gap-3 text-xs text-gray-500 mb-4",children:[o&&b("div",{className:"flex items-center gap-1",children:[d(ui,{className:"w-3 h-3"}),d("span",{children:o})]}),b("div",{className:"flex items-center gap-1",children:[d(El,{className:"w-3 h-3"}),b("span",{children:[g," min"]})]}),d("div",{className:`px-2 py-1 rounded-full text-xs border ${v[y]}`,children:w[y]})]})]}),u?d("div",{className:"px-6 pb-6",children:b("div",{className:"bg-gray-50/50 rounded-lg p-3",children:[b("div",{className:"flex items-center justify-between mb-2",children:[b("div",{className:"flex items-center gap-2",children:[d(mi,{className:"w-4 h-4 text-amber-600"}),d("span",{className:"text-sm font-medium text-gray-900",children:"Ukończono"})]}),b("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${N(f)}`,children:[f,"%"]})]}),m&&b("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[d(kc,{className:"w-3 h-3"}),d("span",{children:S(m)})]}),d("div",{className:"mt-3 bg-gray-200 rounded-full h-1.5",children:d("div",{className:`h-1.5 rounded-full transition-all duration-500 ${f>=90?"bg-green-500":f>=70?"bg-amber-500":f>=50?"bg-orange-500":"bg-rose-500"}`,style:{width:`${f}%`}})})]})}):d("div",{className:"px-6 pb-6",children:d("div",{className:"bg-blue-50/30 rounded-lg p-3 border border-blue-200/30",children:b("div",{className:"flex items-center justify-between",children:[b("div",{className:"flex items-center gap-2",children:[d(Mn,{className:"w-4 h-4 text-blue-600"}),d("span",{className:"text-sm font-medium text-blue-900",children:"Gotowy do rozpoczęcia"})]}),d("div",{className:"text-xs text-blue-600 font-medium",children:"Rozpocznij →"})]})})})]}),d("div",{className:"absolute inset-0 bg-gradient-to-t from-black/0 to-black/0 group-hover:from-black/5 group-hover:to-transparent transition-all duration-200 pointer-events-none opacity-0 group-hover:opacity-50"})]})})}function PS({children:r,className:t="",hover:s=!1,colorful:i=!1}){return d("div",{className:`
        card rounded-2xl border-2 shadow-lg
        ${i?"bg-gradient-to-br from-white to-blue-50 border-blue-200":"bg-base-100 border-gray-200"}
        ${s?"hover:shadow-xl hover:scale-[1.02] transition-all duration-300":""}
        ${t}
      `,children:r})}function Ev(){return d("div",{className:"mt-20",children:b(PS,{className:"p-8 max-w-2xl mx-auto text-center",children:[d("div",{className:"w-12 h-12 bg-slate-100 rounded-lg flex items-center justify-center mx-auto mb-4 shadow-sm",children:d("svg",{className:"w-6 h-6 text-slate-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),d("h3",{className:"text-lg font-semibold text-slate-900 mb-2 font-serif tracking-tight",children:"Potrzebujesz pomocy?"}),d("p",{className:"text-sm text-slate-600 mb-6 leading-relaxed",children:"Skontaktuj się z nami, jeśli masz pytania dotyczące kursów"}),d("button",{className:"px-4 py-2 border border-slate-200 text-slate-700 text-sm font-medium rounded-lg hover:bg-slate-50 transition-colors shadow-sm",children:"Skontaktuj się"})]})})}const jS={path:"/student/courses",title:"Courses"};function TS(){const{lessons:r,progress:t,stats:s,isLoading:i}=Ml(),l=L.useMemo(()=>r?r.map(x=>{const k=t==null?void 0:t.find(P=>P.lesson_id===x.id);return{...x,isCompleted:!!k,score:(k==null?void 0:k.score)||0,completedAt:k==null?void 0:k.completed_at}}):[],[r,t]),o=L.useMemo(()=>Array.from(new Set(l.map(x=>x.subject).filter(Boolean))),[l]),u=L.useMemo(()=>Array.from(new Set(l.map(x=>x.grade).filter(Boolean))),[l]),f=[{key:"search",type:"text",label:"Szukaj",placeholder:"Szukaj kursów..."},{key:"subject",type:"select",label:"Przedmiot",options:[{value:"all",label:"Wszystkie przedmioty"},...o.map(x=>({value:x,label:x}))],defaultValue:"all"},{key:"grade",type:"select",label:"Klasa",options:[{value:"all",label:"Wszystkie klasy"},...u.map(x=>({value:x,label:x}))],defaultValue:"all"}],m={search:(x,k)=>{var B,D;const P=k.toLowerCase();return x.title.toLowerCase().includes(P)||((B=x.description)==null?void 0:B.toLowerCase().includes(P))||((D=x.topic)==null?void 0:D.toLowerCase().includes(P))},subject:(x,k)=>x.subject===k,grade:(x,k)=>x.grade===k},{filteredData:y,FilterComponent:g}=Lc({data:l,configs:f,filterFunctions:m}),v=L.useMemo(()=>{const x={};return y.forEach(k=>{const P=k.subject||"Inne";x[P]||(x[P]=[]),x[P].push(k)}),x},[y]),w=L.useMemo(()=>{const x=l.length,k=l.filter(D=>D.isCompleted).length,P=x-k,B=Math.floor(k*.5);return{total:x,completed:k,inProgress:P,totalHours:B}},[l]),N=()=>w.completed?b("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl border border-green-200/60 p-6 mb-12",children:[b("div",{className:"flex items-center gap-4",children:[d("div",{className:"w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center",children:d(mi,{className:"w-6 h-6 text-green-600"})}),b("div",{className:"flex-1",children:[d("h3",{className:"font-semibold text-green-900",children:"Świetna robota! 🎉"}),b("p",{className:"text-green-700 text-sm",children:["Ukończyłeś ",w.completed," z ",w.total," dostępnych kursów."]})]}),b("div",{className:"text-right",children:[b("div",{className:"text-2xl font-bold text-green-900",children:[Math.round(w.completed/w.total*100),"%"]}),d("div",{className:"text-sm text-green-600",children:"ukończone"})]})]}),d("div",{className:"mt-4 bg-green-200/50 rounded-full h-2",children:d("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-500",style:{width:`${w.completed/w.total*100}%`}})})]}):null,S=({subject:x,lessons:k})=>{const P=k.filter(D=>D.isCompleted).length,B=Math.round(P/k.length*100);return b("div",{className:"space-y-6",children:[b("div",{className:"flex items-center justify-between",children:[b("div",{children:[d("h2",{className:"text-xl font-semibold text-gray-900",children:x}),b("p",{className:"text-sm text-gray-600",children:[k.length," ",k.length===1?"kurs":"kursy"," •",P," ukończone"]})]}),b("div",{className:"text-right",children:[b("div",{className:"text-sm font-medium text-gray-900",children:[B,"%"]}),d("div",{className:"text-xs text-gray-500",children:"postęp"})]})]}),d("div",{className:"bg-gray-200 rounded-full h-1.5",children:d("div",{className:"bg-blue-500 h-1.5 rounded-full transition-all duration-500",style:{width:`${B}%`}})}),d(Oc,{items:k,renderItem:D=>d(CS,{id:D.id,title:D.title,description:D.description,subject:D.subject,topic:D.topic,grade:D.grade,isCompleted:D.isCompleted,score:D.score,completedAt:D.completedAt},D.id),gridCols:"3",emptyState:{icon:d(ch,{className:"w-6 h-6 text-gray-400"}),title:"Brak kursów",description:"Nie ma kursów w tym przedmiocie"}})]})};return b(Fl,{title:"Twoje Kursy",subtitle:"Rozwijaj swoje umiejętności dzięki starannie przygotowanym kursom",isLoading:i,isEmpty:!l.length,emptyState:{icon:d(ch,{className:"w-8 h-8 text-gray-400"}),title:"Brak dostępnych kursów",description:"Obecnie nie ma żadnych kursów do wyświetlenia",actionLabel:"Odśwież stronę",onAction:()=>window.location.reload()},children:[d(Il,{type:"courses",data:w,className:"mb-12"}),d(N,{}),d(g,{}),y.length===0?b("div",{className:"text-center py-12",children:[d(pN,{className:"w-8 h-8 text-gray-400 mx-auto mb-4"}),d("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Brak wyników"}),d("p",{className:"text-gray-600",children:"Nie znaleziono kursów pasujących do wybranych filtrów"})]}):d("div",{className:"space-y-12",children:Object.entries(v).map(([x,k])=>d(S,{subject:x,lessons:k},x))}),d("div",{className:"max-w-4xl mx-auto mt-16",children:d(Ev,{})})]})}const RS=Object.freeze(Object.defineProperty({__proto__:null,default:TS,routeConfig:jS},Symbol.toStringTag,{value:"Module"})),OS={path:"/student/dashboard",title:"Student Dashboard"},LS=[{to:"/student/courses",icon:Mn,title:"Przeglądaj kursy",subtitle:"Znajdź nowe lekcje",color:"blue"},{to:"/student/progress",icon:fi,title:"Moje postępy",subtitle:"Szczegółowe statystyki",color:"green"},{to:"/student/achievements",icon:wv,title:"Osiągnięcia",subtitle:"Odznaki i nagrody",color:"purple"},{to:"/student/leaderboard",icon:VN,title:"Ranking",subtitle:"Porównaj się z innymi",color:"amber"}];function AS(){const{lessons:r,progress:t,userBadges:s,stats:i,isLoading:l}=Ml(),o=L.useMemo(()=>(t==null?void 0:t.sort((g,v)=>new Date(v.completed_at).getTime()-new Date(g.completed_at).getTime()).slice(0,5))||[],[t]),u=L.useMemo(()=>(r==null?void 0:r.filter(g=>!(t!=null&&t.some(v=>v.lesson_id===g.id))).slice(0,3))||[],[r,t]),f=()=>b("div",{className:"bg-base-100 rounded-xl border border-gray-200/60 shadow-sm p-6 mb-8",children:[d("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Szybkie akcje"}),d("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:LS.map(g=>b(Ke,{to:g.to,className:`flex items-center gap-3 p-4 bg-${g.color}-50/50 hover:bg-${g.color}-100/50 rounded-lg border border-${g.color}-200/40 transition-colors group`,children:[d("div",{className:`w-10 h-10 bg-${g.color}-100 rounded-lg flex items-center justify-center group-hover:bg-${g.color}-200 transition-colors`,children:d(g.icon,{className:`w-5 h-5 text-${g.color}-600`})}),b("div",{className:"flex-1",children:[d("div",{className:"font-medium text-gray-900",children:g.title}),d("div",{className:"text-xs text-gray-600",children:g.subtitle})]}),d(Ug,{className:"w-4 h-4 text-gray-400 group-hover:text-gray-600"})]},g.to))})]}),m=()=>b("div",{className:"lg:col-span-2 bg-base-100 rounded-xl border border-gray-200/60 shadow-sm p-6",children:[b("div",{className:"flex items-center gap-3 mb-6",children:[d(cN,{className:"w-5 h-5 text-blue-600"}),d("h2",{className:"text-lg font-semibold text-gray-900",children:"Polecane dla Ciebie"}),d(Ke,{to:"/student/courses",className:"text-sm text-blue-600 hover:text-blue-700 font-medium ml-auto",children:"Zobacz wszystkie"})]}),d("div",{className:"space-y-3",children:u.length?u.map(g=>d(Ke,{to:`/student/lesson/${g.id}`,className:"block p-4 bg-gray-50/50 rounded-lg hover:bg-gray-100/50 transition-colors border border-gray-200/30 group",children:b("div",{className:"flex items-center justify-between",children:[b("div",{className:"flex-1",children:[d("div",{className:"font-medium text-gray-900 group-hover:text-blue-600 transition-colors",children:g.title}),b("div",{className:"text-sm text-gray-600 mt-1",children:[g.subject," • ",g.topic]})]}),d(Ug,{className:"w-4 h-4 text-gray-400 group-hover:text-blue-600 transition-colors"})]})},g.id)):b("div",{className:"text-center py-8 text-gray-500",children:[d(Mn,{className:"w-8 h-8 mx-auto mb-2 text-gray-400"}),d("p",{children:"Ukończyłeś wszystkie dostępne lekcje!"})]})})]}),y=()=>b("div",{className:"bg-base-100 rounded-xl border border-gray-200/60 shadow-sm p-6",children:[b("div",{className:"flex items-center gap-3 mb-6",children:[d(El,{className:"w-5 h-5 text-green-600"}),d("h2",{className:"text-lg font-semibold text-gray-900",children:"Ostatnia aktywność"})]}),d("div",{className:"space-y-3 max-h-80 overflow-y-auto",children:o.length?o.map(g=>{const v=r==null?void 0:r.find(N=>N.id===g.lesson_id),w=N=>N>=90?d(Sl,{className:"w-4 h-4 text-green-600"}):N>=70?d(ta,{className:"w-4 h-4 text-amber-600"}):d(sN,{className:"w-4 h-4 text-rose-600"});return b("div",{className:"flex items-center gap-3 p-3 bg-gray-50/50 rounded-lg",children:[d("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${g.score>=90?"bg-green-100":g.score>=70?"bg-amber-100":"bg-rose-100"}`,children:w(g.score)}),b("div",{className:"flex-1 min-w-0",children:[d("div",{className:"text-sm font-medium text-gray-900 truncate",children:(v==null?void 0:v.title)||"Nieznana lekcja"}),d("div",{className:"text-xs text-gray-500",children:new Date(g.completed_at).toLocaleDateString("pl-PL")})]}),d("div",{className:"text-right",children:b("div",{className:`text-sm font-semibold ${g.score>=90?"text-green-600":g.score>=70?"text-amber-600":"text-rose-600"}`,children:[g.score,"%"]})})]},g.id)}):b("div",{className:"text-center py-8 text-gray-500",children:[d(fi,{className:"w-8 h-8 mx-auto mb-2 text-gray-400"}),d("p",{children:"Rozpocznij naukę, aby zobaczyć postępy"})]})})]});return b(Fl,{title:`Witaj, ${i!=null&&i.level?"poziom "+i.level:""}! 👋`,subtitle:"Twój panel do nauki i śledzenia postępów",isLoading:l,children:[d(Il,{type:"dashboard",data:i,gridCols:"6",className:"mb-12"}),d(f,{}),b("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-12",children:[d(m,{}),d(y,{})]}),d(Ev,{})]})}const zS=Object.freeze(Object.defineProperty({__proto__:null,default:AS,routeConfig:OS},Symbol.toStringTag,{value:"Module"})),DS={path:"/student/lesson/:id",title:"Lesson"};function $S(){const{id:r}=$n(),[t,s]=L.useState({}),[i,l]=L.useState(!1),[o,u]=L.useState(0),{data:f,isLoading:m}=at(`lesson-${r}`,`lessons?id=eq.${r}`),{data:y,isLoading:g}=at(`lesson-${r}-articles`,`articles?lesson_id=eq.${r}`),{data:v,isLoading:w}=at(`lesson-${r}-tasks`,`tasks?lesson_id=eq.${r}`),N=m||g||w,S=f==null?void 0:f[0],x=v==null?void 0:v[o];v&&v.every(V=>t[V.id]!==void 0);const k=(V,A)=>{s(ne=>({...ne,[V]:A}))},P=(V,A)=>{const ne=t[V]||[];ne.includes(A)?k(V,ne.filter(le=>le!==A)):k(V,[...ne,A])},B=()=>{var A,ne;if(!x)return null;const V=t[x.id];switch(x.type){case"text":return d("input",{type:"text",className:"input input-bordered w-full",placeholder:"Wpisz odpowiedź...",value:typeof V=="string"?V:"",onChange:le=>k(x.id,le.target.value),disabled:i});case"multi-choice":return(A=x.options)==null?void 0:A.map((le,te)=>{const pe=`task-${x.id}-option-${te}`,Le=Array.isArray(V)&&V.includes(le);return b("div",{children:[d("input",{id:pe,type:"checkbox",className:"sr-only",checked:Le,onChange:()=>P(x.id,le),disabled:i}),b("label",{htmlFor:pe,className:`flex items-center gap-4 p-4 rounded-xl cursor-pointer transition-all duration-200 border ${Le?"bg-blue-50/50 border-blue-200/60 shadow-sm":"bg-gray-50/30 border-gray-200/40 hover:bg-gray-50/60 hover:border-gray-300/60"}`,children:[d("div",{className:`w-5 h-5 rounded border-2 ${Le?"border-blue-500 bg-blue-500":"border-gray-300"}`,children:Le&&d("div",{className:"w-full h-full bg-base-100 scale-[0.4] rounded"})}),d("span",{className:"flex-1 text-gray-700",children:le})]})]},te)});case"single-choice":default:return(ne=x.options)==null?void 0:ne.map((le,te)=>{const pe=`task-${x.id}-option-${te}`,Le=V===le;return b("div",{children:[d("input",{id:pe,type:"radio",name:`task-${x.id}`,value:le,className:"sr-only",onChange:()=>k(x.id,le),checked:Le,disabled:i}),b("label",{htmlFor:pe,className:`flex items-center gap-4 p-4 rounded-xl cursor-pointer transition-all duration-200 border ${Le?"bg-blue-50/50 border-blue-200/60 shadow-sm":"bg-gray-50/30 border-gray-200/40 hover:bg-gray-50/60 hover:border-gray-300/60"}`,children:[d("div",{className:`w-5 h-5 rounded-full border-2 ${Le?"border-blue-500 bg-blue-500":"border-gray-300"}`,children:Le&&d("div",{className:"w-full h-full rounded-full bg-base-100 scale-[0.4]"})}),d("span",{className:"flex-1 text-gray-700",children:le})]})]},te)})}};return b("div",{className:"min-h-screen bg-gray-50/30",children:[d(()=>d("div",{className:"bg-gradient-to-b from-purple-50/40 to-white border-b border-gray-200/40 p-6",children:d("div",{className:"max-w-4xl mx-auto",children:b("div",{className:"flex items-center gap-4 mb-4",children:[d("button",{onClick:()=>window.history.back(),className:"w-10 h-10 bg-base-100 rounded-xl border border-gray-200/60 flex items-center justify-center hover:bg-gray-50 transition-colors shadow-sm",children:d(Qk,{className:"w-5 h-5 text-gray-600"})}),b("div",{className:"flex-1",children:[b("div",{className:"flex items-center gap-2 mb-2",children:[d(Mn,{className:"w-5 h-5 text-purple-600"}),d("span",{className:"text-sm font-medium text-purple-600",children:"Lekcja"})]}),d("h1",{className:"text-2xl font-semibold text-gray-900",children:S==null?void 0:S.title}),(S==null?void 0:S.description)&&d("p",{className:"text-gray-600 mt-1",children:S.description})]})]})})}),{}),N?d(Fl,{title:"",subtitle:"",isLoading:!0,showPadding:!1,children:d(kr,{})}):d(()=>d("div",{className:"max-w-3xl mx-auto px-6 py-12",children:d("div",{className:"bg-base-100 rounded-xl border border-gray-200/60 shadow-sm",children:d("div",{className:"p-8 max-h-[70vh] overflow-y-auto",children:b("div",{className:"space-y-8",children:[y==null?void 0:y.map(V=>b("div",{className:"space-y-4",children:[d("h2",{className:"text-xl font-semibold text-gray-900",children:V.title}),d("div",{className:"prose max-w-none prose-headings:text-gray-900 prose-p:text-gray-700 prose-p:leading-relaxed",dangerouslySetInnerHTML:{__html:V.content}})]},V.id)),x&&!i&&b("div",{className:"space-y-4",children:[b("h3",{className:"text-lg font-medium text-gray-900",children:[v.length>1&&d("span",{className:"inline-flex items-center justify-center w-6 h-6 bg-blue-100 text-blue-700 text-sm font-semibold rounded-full mr-3",children:o+1}),x.question_text]}),B(),d("div",{className:"pt-6",children:t[x.id]&&(o<v.length-1?d("button",{onClick:()=>u(V=>V+1),className:"btn btn-primary",children:"Dalej"}):d("button",{onClick:()=>l(!0),className:"btn btn-success",children:"Sprawdź odpowiedzi"}))})]},x.id),i&&b("div",{className:"text-center space-y-3",children:[b("div",{className:"flex items-center justify-center gap-2 text-green-600",children:[d(aN,{className:"w-6 h-6"}),d("span",{className:"font-semibold text-lg",children:"Świetnie!"})]}),b("p",{className:"text-sm text-gray-600",children:["Odpowiedziałeś na ",Object.keys(t).length," z ",v==null?void 0:v.length," pytań"]})]})]})})})}),{})]})}const MS=Object.freeze(Object.defineProperty({__proto__:null,default:$S,routeConfig:DS},Symbol.toStringTag,{value:"Module"})),IS={path:"/student/progress",title:"Moje Postępy"};function FS(){const{lessons:r,progress:t,stats:s,isLoading:i}=Ml(),l=L.useMemo(()=>{if(!t||t.length<2)return null;const x=[...t].sort((V,A)=>new Date(A.completed_at).getTime()-new Date(V.completed_at).getTime()),k=x.slice(0,Math.min(5,x.length)),P=x.slice(5,Math.min(10,x.length));if(P.length===0)return null;const B=k.reduce((V,A)=>V+A.score,0)/k.length,D=P.reduce((V,A)=>V+A.score,0)/P.length,H=B-D;return{change:Math.round(H),direction:H>2?"up":H<-2?"down":"stable",recentAvg:Math.round(B),previousAvg:Math.round(D)}},[t]),o=L.useMemo(()=>{if(!t||!r)return[];const x=new Map;return t.forEach(k=>{const P=r.find(B=>B.id===k.lesson_id);if(P){const B=P.subject;x.has(B)||x.set(B,{subject:B,scores:[],totalTasks:0,correctTasks:0,attempts:0,perfectScores:0});const D=x.get(B);D.scores.push(k.score),D.totalTasks+=k.total_tasks,D.correctTasks+=k.correct_tasks,D.attempts+=k.attempts_count,k.score===100&&D.perfectScores++}}),Array.from(x.values()).map(k=>({...k,averageScore:Math.round(k.scores.reduce((P,B)=>P+B,0)/k.scores.length),accuracy:Math.round(k.correctTasks/k.totalTasks*100),lessonsCount:k.scores.length,averageAttempts:(k.attempts/k.scores.length).toFixed(1)})).sort((k,P)=>P.averageScore-k.averageScore)},[t,r]),u=L.useMemo(()=>r?Array.from(new Set(r.map(x=>x.subject).filter(Boolean))):[],[r]),f=[{key:"timeFilter",type:"select",label:"Okres",options:[{value:"week",label:"Ostatni tydzień"},{value:"month",label:"Ostatni miesiąc"},{value:"all",label:"Wszystkie"}],defaultValue:"month"},{key:"subjectFilter",type:"select",label:"Przedmiot",options:[{value:"all",label:"Wszystkie"},...u.map(x=>({value:x,label:x}))],defaultValue:"all"}],m={timeFilter:(x,k)=>{if(k==="all")return!0;const P=new Date,B=new Date;return k==="week"?B.setDate(P.getDate()-7):k==="month"&&B.setMonth(P.getMonth()-1),new Date(x.completed_at)>=B},subjectFilter:(x,k)=>{if(k==="all")return!0;const P=r==null?void 0:r.find(B=>B.id===x.lesson_id);return(P==null?void 0:P.subject)===k}},{filteredData:y,FilterComponent:g}=Lc({data:t||[],configs:f,filterFunctions:m}),v=()=>l?d("div",{className:"bg-base-100 rounded-xl border border-gray-200/60 shadow-sm p-6 mb-8",children:b("div",{className:"flex items-center gap-4",children:[d("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${l.direction==="up"?"bg-green-50 border border-green-200":l.direction==="down"?"bg-rose-50 border border-rose-200":"bg-gray-50 border border-gray-200"}`,children:l.direction==="up"?d(vv,{className:"w-6 h-6 text-green-600"}):l.direction==="down"?d(yv,{className:"w-6 h-6 text-rose-600"}):d(xv,{className:"w-6 h-6 text-gray-600"})}),b("div",{className:"flex-1",children:[d("h3",{className:"font-semibold text-gray-900",children:l.direction==="up"?"Świetny postęp! 📈":l.direction==="down"?"Skupmy się na poprawie 📉":"Stabilny poziom 📊"}),b("p",{className:"text-gray-600 text-sm",children:["Twoja średnia z ostatnich lekcji: ",b("span",{className:"font-medium",children:[l.recentAvg,"%"]}),l.direction!=="stable"&&b("span",{className:`ml-2 ${l.direction==="up"?"text-green-600":"text-rose-600"}`,children:["(",l.change>0?"+":"",l.change,"% vs poprzednie)"]})]})]})]})}):null,w=()=>b("div",{className:"lg:col-span-2 bg-base-100 rounded-xl border border-gray-200/60 shadow-sm p-6",children:[b("div",{className:"flex items-center gap-3 mb-6",children:[d(uh,{className:"w-5 h-5 text-purple-600"}),d("h2",{className:"text-lg font-semibold text-gray-900",children:"Analiza per przedmiot"})]}),b("div",{className:"space-y-6",children:[o.map(x=>b("div",{className:"space-y-3",children:[b("div",{className:"flex items-center justify-between",children:[d("h3",{className:"font-medium text-gray-900",children:x.subject}),b("div",{className:"flex items-center gap-4 text-sm",children:[b("span",{className:`font-semibold ${x.averageScore>=90?"text-green-600":x.averageScore>=70?"text-amber-600":"text-rose-600"}`,children:[x.averageScore,"%"]}),b("span",{className:"text-gray-500",children:[x.lessonsCount," ",x.lessonsCount===1?"lekcja":"lekcje"]})]})]}),d("div",{className:"bg-gray-200 rounded-full h-2",children:d("div",{className:`h-2 rounded-full transition-all duration-500 ${x.averageScore>=90?"bg-green-500":x.averageScore>=70?"bg-amber-500":"bg-rose-500"}`,style:{width:`${Math.min(x.averageScore,100)}%`}})}),b("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[b("div",{className:"text-center p-3 bg-gray-50/50 rounded-lg",children:[b("div",{className:"font-semibold text-gray-900",children:[x.accuracy,"%"]}),d("div",{className:"text-xs text-gray-600",children:"Celność"})]}),b("div",{className:"text-center p-3 bg-gray-50/50 rounded-lg",children:[d("div",{className:"font-semibold text-gray-900",children:x.perfectScores}),d("div",{className:"text-xs text-gray-600",children:"Perfekcyjne"})]}),b("div",{className:"text-center p-3 bg-gray-50/50 rounded-lg",children:[d("div",{className:"font-semibold text-gray-900",children:x.averageAttempts}),d("div",{className:"text-xs text-gray-600",children:"Śr. prób"})]})]})]},x.subject)),o.length===0&&b("div",{className:"text-center py-8 text-gray-500",children:[d(uh,{className:"w-8 h-8 mx-auto mb-2 text-gray-400"}),d("p",{children:"Ukończ lekcje, aby zobaczyć analizę per przedmiot"})]})]})]}),N=()=>b("div",{className:"bg-base-100 rounded-xl border border-gray-200/60 shadow-sm p-6",children:[b("div",{className:"flex items-center gap-3 mb-6",children:[d(kc,{className:"w-5 h-5 text-blue-600"}),d("h2",{className:"text-lg font-semibold text-gray-900",children:"Ostatnie wyniki"})]}),d("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:y.length===0?b("div",{className:"text-center py-8 text-gray-500",children:[d(kc,{className:"w-8 h-8 mx-auto mb-2 text-gray-400"}),d("p",{children:"Nie ma wyników w wybranym okresie"})]}):y.sort((x,k)=>new Date(k.completed_at).getTime()-new Date(x.completed_at).getTime()).map(x=>{const k=r==null?void 0:r.find(P=>P.id===x.lesson_id);return b("div",{className:"p-4 bg-gray-50/50 rounded-lg border border-gray-200/30",children:[b("div",{className:"flex items-start justify-between mb-2",children:[b("div",{className:"flex-1 min-w-0",children:[d("div",{className:"font-medium text-gray-900 text-sm truncate",children:(k==null?void 0:k.title)||"Nieznana lekcja"}),b("div",{className:"text-xs text-gray-600 mt-1",children:[k==null?void 0:k.subject," • ",k==null?void 0:k.topic]})]}),b("div",{className:`text-sm font-semibold ${x.score>=90?"text-green-600":x.score>=70?"text-amber-600":"text-rose-600"}`,children:[x.score,"%"]})]}),b("div",{className:"flex items-center justify-between mb-2",children:[b("span",{className:"text-xs text-gray-500",children:[x.correct_tasks,"/",x.total_tasks," poprawnych"]}),d("span",{className:"text-xs text-gray-500",children:new Date(x.completed_at).toLocaleDateString("pl-PL")})]}),d("div",{className:"bg-gray-200 rounded-full h-1.5",children:d("div",{className:`h-1.5 rounded-full ${x.score>=90?"bg-green-500":x.score>=70?"bg-amber-500":"bg-rose-500"}`,style:{width:`${x.score}%`}})})]},x.id)})})]}),S=()=>b("div",{className:"bg-base-100 rounded-xl border border-gray-200/60 shadow-sm p-6",children:[d("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Szczegółowe statystyki"}),b("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[b("div",{className:"text-center p-4 bg-blue-50/30 rounded-lg border border-blue-200/30",children:[d("div",{className:"text-2xl font-bold text-blue-600",children:s.completedLessons}),d("div",{className:"text-sm text-gray-600",children:"Ukończone lekcje"})]}),b("div",{className:"text-center p-4 bg-green-50/30 rounded-lg border border-green-200/30",children:[d("div",{className:"text-2xl font-bold text-green-600",children:s.totalTasks}),d("div",{className:"text-sm text-gray-600",children:"Zadania łącznie"})]}),b("div",{className:"text-center p-4 bg-amber-50/30 rounded-lg border border-amber-200/30",children:[d("div",{className:"text-2xl font-bold text-amber-600",children:s.correctTasks}),d("div",{className:"text-sm text-gray-600",children:"Poprawne odpowiedzi"})]}),b("div",{className:"text-center p-4 bg-purple-50/30 rounded-lg border border-purple-200/30",children:[d("div",{className:"text-2xl font-bold text-purple-600",children:s.perfectScores}),d("div",{className:"text-sm text-gray-600",children:"Wyniki 100%"})]})]})]});return b(Fl,{title:"Moje Postępy",subtitle:"Śledź swoje wyniki i analizuj postępy w nauce",isLoading:i,isEmpty:!s.completedLessons,emptyState:{icon:d(bv,{className:"w-8 h-8 text-gray-400"}),title:"Brak danych o postępach",description:"Ukończ kilka lekcji, aby zobaczyć swoje statystyki",actionLabel:"Przejdź do kursów",onAction:()=>window.location.href="/student/courses"},children:[d(Il,{type:"progress",data:s,className:"mb-12"}),d(v,{}),d(g,{}),b("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8",children:[d(w,{}),d(N,{})]}),d(S,{})]})}const US=Object.freeze(Object.defineProperty({__proto__:null,default:FS,routeConfig:IS},Symbol.toStringTag,{value:"Module"})),BS={path:"/teacher/classes",title:"Zarządzanie klasami",roles:["teacher"]};function qS(){const{data:r,isLoading:t,error:s}=at("classes","classes");return b("div",{children:[t&&d("p",{children:"Ładowanie..."}),s&&b("p",{children:["Błąd: ",s.message]}),r&&d("pre",{children:JSON.stringify(r,null,2)})]})}const VS=Object.freeze(Object.defineProperty({__proto__:null,default:qS,routeConfig:BS},Symbol.toStringTag,{value:"Module"})),WS=[{path:"/teacher/quizzes/create",title:"Nowy quiz",roles:["teacher"]},{path:"/teacher/quizzes/:quizId/edit",title:"Edytuj quiz",roles:["teacher"]}],HS={lesson_id:"",type:"multiple_choice",question_text:"Przykładowe pytanie",options:["A","B","C"],correct_answer:"A",xp_reward:10};function KS(){const r=Ac("tasks","tasks");return b("div",{children:[d("button",{onClick:()=>r.mutate(HS),children:"Wyślij dane testowe"}),r.isPending&&d("p",{children:"Ładowanie..."}),r.error&&b("p",{children:["Błąd: ",r.error.message]}),r.data&&d("pre",{children:JSON.stringify(r.data,null,2)})]})}const QS=Object.freeze(Object.defineProperty({__proto__:null,default:KS,routeConfig:WS},Symbol.toStringTag,{value:"Module"})),GS={path:"/teacher/quizzes",title:"Lista quizów",roles:["teacher"]};function JS(){const{data:r,isLoading:t,error:s}=at("tasks","tasks");return b("div",{children:[t&&d("p",{children:"Ładowanie..."}),s&&b("p",{children:["Błąd: ",s.message]}),r&&d("pre",{children:JSON.stringify(r,null,2)})]})}const YS=Object.freeze(Object.defineProperty({__proto__:null,default:JS,routeConfig:GS},Symbol.toStringTag,{value:"Module"})),ZS={path:"/teacher/progress",title:"Postęp uczniów",roles:["teacher"]};function XS(){const{data:r,isLoading:t,error:s}=at("progress","progress");return b("div",{children:[t&&d("p",{children:"Ładowanie..."}),s&&b("p",{children:["Błąd: ",s.message]}),r&&d("pre",{children:JSON.stringify(r,null,2)})]})}const eE=Object.freeze(Object.defineProperty({__proto__:null,default:XS,routeConfig:ZS},Symbol.toStringTag,{value:"Module"})),tE={path:"/teacher/dashboard",title:"Panel nauczyciela",roles:["teacher"]};function rE(){const{data:r,isLoading:t,error:s}=at("lessons","lessons");return b("div",{children:[t&&d("p",{children:"Ładowanie..."}),s&&b("p",{children:["Błąd: ",s.message]}),r&&d("pre",{children:JSON.stringify(r,null,2)})]})}const nE=Object.freeze(Object.defineProperty({__proto__:null,default:rE,routeConfig:tE},Symbol.toStringTag,{value:"Module"})),Cv={teacher:[{path:"/teacher/dashboard",label:"Panel główny",icon:Nc},{path:"/teacher/lessons",label:"Lekcje",icon:Nc},{path:"/teacher/students",label:"Studenci",icon:Mn}]},qh=({userRole:r})=>{const t=Cv[r]||[];return d("nav",{className:"space-y-2",children:t.map(s=>{const i=s.icon;return b(Ch,{to:s.path,className:({isActive:l})=>`flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${l?"bg-slate-900 text-white":"text-slate-700 hover:bg-slate-100"}`,children:[d(i,{className:"w-5 h-5"}),s.label]},s.path)})})},sE=Object.freeze(Object.defineProperty({__proto__:null,TeacherMenu:qh,menuItems:Cv},Symbol.toStringTag,{value:"Module"})),iE={path:"/teacher/lessons/:lessonId/articles/:articleId",title:"Article Detail"};function aE(){var u;const{lessonId:r,articleId:t}=$n();if(!t||t==="create"||t==="undefined")return d("div",{className:"min-h-screen bg-base-200 flex items-center justify-center",children:d("div",{className:"card bg-base-100 shadow-sm",children:b("div",{className:"card-body text-center",children:[d("h2",{className:"text-xl font-medium mb-2",children:"Nieprawidłowy ID artykułu"}),b("p",{className:"text-base-content/70 mb-4",children:["ID artykułu jest nieprawidłowe: ",t]}),d(Ke,{to:`/teacher/lessons/${r}`,className:"btn btn-primary",children:"← Powrót do lekcji"})]})})});const{data:s}=at("article-detail",`articles?id=eq.${t}`),{data:i}=at("lesson-detail-for-article",`lessons?id=eq.${r}`),l=s==null?void 0:s[0],o=i==null?void 0:i[0];return l?d(Bh,{menuComponent:d(qh,{userRole:"teacher"}),children:b("div",{className:"max-w-4xl mx-auto space-y-6",children:[d("div",{className:"card bg-base-100 shadow-sm",children:d("div",{className:"card-body py-3",children:d("div",{className:"breadcrumbs text-sm",children:b("ul",{children:[d("li",{children:d(Ke,{to:"/teacher/lessons",children:"Lekcje"})}),d("li",{children:d(Ke,{to:`/teacher/lessons/${r}`,children:(o==null?void 0:o.title)||"Lekcja"})}),d("li",{children:"Artykuł"})]})})})}),d("div",{className:"card bg-base-100 shadow-sm",children:b("div",{className:"card-body",children:[b("div",{className:"flex justify-between items-start mb-4",children:[b("div",{children:[d("h1",{className:"text-2xl font-bold mb-2",children:l.title}),b("div",{className:"flex gap-2 items-center",children:[b("span",{className:"badge badge-outline",children:["Kolejność: ",l.sort_order]}),b("span",{className:"text-sm text-base-content/60",children:["ID: ",t]})]})]}),d("div",{className:"flex gap-2",children:d(Ke,{to:`/teacher/lessons/${r}/articles/${t}/edit`,className:"btn btn-primary btn-sm",children:"✏️ Edytuj"})})]}),o&&d("div",{className:"alert alert-info",children:b("div",{className:"flex items-center gap-2",children:[d("span",{className:"text-info",children:"📚"}),b("div",{children:[b("div",{className:"font-medium",children:["Lekcja: ",o.title]}),b("div",{className:"text-sm opacity-70",children:[o.subject," • ",o.grade]})]})]})})]})}),d("div",{className:"card bg-base-100 shadow-sm",children:b("div",{className:"card-body",children:[b("h2",{className:"card-title text-lg mb-4",children:[d("span",{className:"text-primary",children:"📄"}),"Treść artykułu"]}),d("div",{className:"prose max-w-none",children:d("div",{className:"whitespace-pre-wrap text-base leading-relaxed",children:l.content})}),d("div",{className:"divider"}),b("div",{className:"text-sm text-base-content/60",children:["Liczba znaków: ",((u=l.content)==null?void 0:u.length)||0]})]})}),d("div",{className:"card bg-base-100 shadow-sm",children:b("div",{className:"card-body",children:[b("h2",{className:"card-title text-lg mb-4",children:[d("span",{className:"text-primary",children:"⚡"}),"Szybkie akcje"]}),b("div",{className:"flex flex-wrap gap-3",children:[d(Ke,{to:`/teacher/lessons/${r}/articles/${t}/edit`,className:"btn btn-outline",children:"✏️ Edytuj artykuł"}),d(Ke,{to:`/teacher/lessons/${r}`,className:"btn btn-ghost",children:"← Powrót do lekcji"}),d(Ke,{to:`/teacher/lessons/${r}/articles/create`,className:"btn btn-primary",children:"➕ Dodaj kolejny artykuł"}),d(Ke,{to:`/student/lessons/${r}/articles/${t}`,className:"btn btn-info",children:"👁️ Podgląd ucznia"})]})]})})]})}):d("div",{className:"min-h-screen bg-base-200 flex items-center justify-center",children:d("div",{className:"loading loading-spinner loading-lg"})})}const lE=Object.freeze(Object.defineProperty({__proto__:null,default:aE,routeConfig:iE},Symbol.toStringTag,{value:"Module"})),oE={path:"/teacher/lessons/:lessonId/articles/create",title:"Add Content"};function cE(){const{lessonId:r}=$n(),t=Nr(),s=Ac("lesson-articles","articles"),[i,l]=L.useState({title:"",content:"",sort_order:0});return b("div",{className:"p-4 space-y-4 max-w-4xl mx-auto",children:[d("h1",{className:"text-3xl font-bold mb-6",children:"📄 Dodaj treść"}),b("form",{onSubmit:async u=>{u.preventDefault();try{await s.mutateAsync({...i,lesson_id:r}),t(`/teacher/lessons/${r}`)}catch(f){console.error("Error creating article:",f)}},className:"space-y-4",children:[b("div",{className:"form-control",children:[d("label",{className:"label",children:d("span",{className:"label-text",children:"Tytuł treści"})}),d("input",{type:"text",className:"input input-bordered",value:i.title,onChange:u=>l({...i,title:u.target.value}),required:!0})]}),b("div",{className:"form-control",children:[d("label",{className:"label",children:d("span",{className:"label-text",children:"Kolejność"})}),d("input",{type:"number",className:"input input-bordered w-24",value:i.sort_order,onChange:u=>l({...i,sort_order:parseInt(u.target.value)})})]}),b("div",{className:"form-control",children:[d("label",{className:"label",children:d("span",{className:"label-text",children:"Treść"})}),d("textarea",{className:"textarea textarea-bordered h-96",value:i.content,onChange:u=>l({...i,content:u.target.value}),placeholder:"Wpisz treść lekcji...",required:!0})]}),b("div",{className:"flex gap-2",children:[d("button",{type:"submit",className:"btn btn-primary flex-1",disabled:s.isPending,children:s.isPending?"Dodawanie...":"✅ Dodaj treść"}),d("button",{type:"button",onClick:()=>t(`/teacher/lessons/${r}`),className:"btn btn-ghost",children:"Anuluj"})]})]})]})}const uE=Object.freeze(Object.defineProperty({__proto__:null,default:cE,routeConfig:oE},Symbol.toStringTag,{value:"Module"})),dE={path:"/teacher/lessons/create",title:"Create Lesson"};function hE(){const{user:r}=Dr(),t=Nr(),s=Ac("teacher-lessons","lessons"),[i,l]=L.useState({title:"",description:"",subject:"",grade:"",topic:""}),o=async u=>{u.preventDefault();try{await s.mutateAsync({...i,author_id:r==null?void 0:r.id}),t("/teacher/lessons")}catch(f){console.error("Error creating lesson:",f)}};return d("div",{className:"min-h-screen bg-base-200 p-4",children:b("div",{className:"max-w-2xl mx-auto",children:[d("div",{className:"card bg-base-100 shadow-sm mb-6",children:d("div",{className:"card-body py-4",children:b("h1",{className:"card-title text-2xl",children:[d("span",{className:"text-primary",children:"📝"}),"Nowa lekcja"]})})}),d("form",{onSubmit:o,children:b("div",{className:"space-y-4",children:[d("div",{className:"card bg-base-100 shadow-sm",children:b("div",{className:"card-body",children:[d("h2",{className:"card-title text-lg mb-4",children:"📖 Podstawowe informacje"}),b("div",{className:"space-y-4",children:[b("div",{className:"form-control",children:[d("label",{className:"block text-sm font-medium mb-1",children:"Tytuł lekcji"}),d("input",{type:"text",className:"input input-bordered focus:input-primary w-full",placeholder:"Wprowadź tytuł lekcji...",value:i.title,onChange:u=>l({...i,title:u.target.value}),required:!0})]}),b("div",{className:"form-control",children:[d("label",{className:"block text-sm font-medium mb-1",children:"Opis"}),d("textarea",{className:"textarea textarea-bordered focus:textarea-primary h-24 resize-none w-full",placeholder:"Opisz czego dotyczy lekcja...",value:i.description,onChange:u=>l({...i,description:u.target.value})})]})]})]})}),d("div",{className:"card bg-base-100 shadow-sm",children:b("div",{className:"card-body",children:[d("h2",{className:"card-title text-lg mb-4",children:"🏷️ Klasyfikacja"}),b("div",{className:"space-y-4",children:[b("div",{className:"grid md:grid-cols-2 gap-4",children:[b("div",{className:"form-control",children:[d("label",{className:"block text-sm font-medium mb-1",children:"Przedmiot"}),b("select",{className:"select select-bordered focus:select-primary w-full",value:i.subject,onChange:u=>l({...i,subject:u.target.value}),children:[d("option",{value:"",children:"Wybierz przedmiot"}),d("option",{value:"Matematyka",children:"📐 Matematyka"}),d("option",{value:"Polski",children:"📚 Polski"}),d("option",{value:"Historia",children:"🏛️ Historia"}),d("option",{value:"Biologia",children:"🧬 Biologia"})]})]}),b("div",{className:"form-control",children:[d("label",{className:"block text-sm font-medium mb-1",children:"Klasa"}),b("select",{className:"select select-bordered focus:select-primary w-full",value:i.grade,onChange:u=>l({...i,grade:u.target.value}),children:[d("option",{value:"",children:"Wybierz klasę"}),d("option",{value:"Klasa 1",children:"🥇 Klasa 1"}),d("option",{value:"Klasa 2",children:"🥈 Klasa 2"}),d("option",{value:"Klasa 3",children:"🥉 Klasa 3"})]})]})]}),b("div",{className:"form-control",children:[d("label",{className:"block text-sm font-medium mb-1",children:"Temat"}),d("input",{type:"text",className:"input input-bordered focus:input-primary w-full",placeholder:"Główny temat lekcji...",value:i.topic,onChange:u=>l({...i,topic:u.target.value})})]})]})]})}),d("div",{className:"card bg-base-100 shadow-sm",children:d("div",{className:"card-body",children:b("div",{className:"card-actions justify-end",children:[d("button",{type:"button",onClick:()=>t("/teacher/lessons"),className:"btn btn-ghost",children:"Anuluj"}),d("button",{type:"submit",onClick:o,className:"btn btn-primary",disabled:s.isPending,children:s.isPending?b(kr,{children:[d("span",{className:"loading loading-spinner loading-sm"}),"Tworzenie..."]}):b(kr,{children:[d("span",{children:"✅"}),"Utwórz lekcję"]})})]})})})]})})]})})}const fE=Object.freeze(Object.defineProperty({__proto__:null,default:hE,routeConfig:dE},Symbol.toStringTag,{value:"Module"})),mE={path:"/teacher/lessons/:lessonId/tasks/create",title:"Create Quiz"};function pE(){const{lessonId:r}=$n(),t=Nr(),s=Ac("lesson-tasks","tasks"),[i,l]=L.useState({type:"multiple_choice",question_text:"",options:["","","",""],correct_answer:"",explanation:"",xp_reward:10});return b("div",{className:"p-4 max-w-2xl mx-auto",children:[d("h1",{className:"text-3xl font-bold mb-6",children:"❓ Nowy quiz"}),b("form",{onSubmit:async u=>{u.preventDefault();try{const f={lesson_id:r,type:i.type,question_text:i.question_text,options:i.type==="multiple_choice"?i.options.filter(m=>m.trim()):null,correct_answer:i.correct_answer,explanation:i.explanation,xp_reward:i.xp_reward};await s.mutateAsync(f),t(`/teacher/lessons/${r}`)}catch(f){console.error("Error creating task:",f)}},className:"space-y-4",children:[b("div",{className:"form-control",children:[d("label",{className:"label",children:d("span",{className:"label-text",children:"Typ pytania"})}),b("select",{className:"select select-bordered",value:i.type,onChange:u=>l({...i,type:u.target.value}),children:[d("option",{value:"multiple_choice",children:"Wielokrotny wybór"}),d("option",{value:"true_false",children:"Prawda/Fałsz"}),d("option",{value:"fill_blank",children:"Uzupełnij lukę"})]})]}),b("div",{className:"form-control",children:[d("label",{className:"label",children:d("span",{className:"label-text",children:"Pytanie"})}),d("textarea",{className:"textarea textarea-bordered",value:i.question_text,onChange:u=>l({...i,question_text:u.target.value}),required:!0})]}),i.type==="multiple_choice"&&b("div",{className:"form-control",children:[d("label",{className:"label",children:d("span",{className:"label-text",children:"Opcje odpowiedzi"})}),i.options.map((u,f)=>d("input",{type:"text",className:"input input-bordered mb-2",placeholder:`Opcja ${f+1}`,value:u,onChange:m=>{const y=[...i.options];y[f]=m.target.value,l({...i,options:y})}},f))]}),b("div",{className:"form-control",children:[d("label",{className:"label",children:d("span",{className:"label-text",children:"Poprawna odpowiedź"})}),i.type==="true_false"?b("select",{className:"select select-bordered",value:i.correct_answer,onChange:u=>l({...i,correct_answer:u.target.value}),required:!0,children:[d("option",{value:"",children:"Wybierz"}),d("option",{value:"true",children:"Prawda"}),d("option",{value:"false",children:"Fałsz"})]}):d("input",{type:"text",className:"input input-bordered",value:i.correct_answer,onChange:u=>l({...i,correct_answer:u.target.value}),required:!0})]}),b("div",{className:"form-control",children:[d("label",{className:"label",children:d("span",{className:"label-text",children:"Wyjaśnienie (opcjonalne)"})}),d("textarea",{className:"textarea textarea-bordered",value:i.explanation,onChange:u=>l({...i,explanation:u.target.value})})]}),b("div",{className:"form-control",children:[d("label",{className:"label",children:d("span",{className:"label-text",children:"Punkty XP"})}),d("input",{type:"number",className:"input input-bordered w-24",value:i.xp_reward,onChange:u=>l({...i,xp_reward:parseInt(u.target.value)}),min:"1",required:!0})]}),b("div",{className:"flex gap-2",children:[d("button",{type:"submit",className:"btn btn-primary flex-1",disabled:s.isPending,children:s.isPending?"Tworzenie...":"✅ Utwórz quiz"}),d("button",{type:"button",onClick:()=>t(`/teacher/lessons/${r}`),className:"btn btn-ghost",children:"Anuluj"})]})]})]})}const gE=Object.freeze(Object.defineProperty({__proto__:null,default:pE,routeConfig:mE},Symbol.toStringTag,{value:"Module"})),yE={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl","2xl":"max-w-2xl","4xl":"max-w-4xl","6xl":"max-w-6xl"},zc=({title:r,children:t,isLoading:s=!1,isEmpty:i=!1,emptyState:l,maxWidth:o="6xl"})=>{const u=()=>s?d(mv,{message:`Ładowanie ${r.toLowerCase()}...`}):i&&l?d("div",{className:"flex justify-center",children:d("div",{className:"max-w-lg",children:d($h,{...l})})}):t;return d(Bh,{menuComponent:d(qh,{userRole:"teacher"}),children:d("div",{className:`${yE[o]} p-12 space-y-8`,children:u()})})},vE={path:"/teacher/dashboard",title:"Teacher Dashboard"};function wE(){const{user:r}=Dr(),{data:t}=at("teacher-lessons",`lessons?author_id=eq.${r==null?void 0:r.id}`),{data:s}=at("students","users?role=eq.student"),{data:i}=at("teacher-tasks",`tasks?lesson_id=in.(${(t==null?void 0:t.map(y=>y.id).join(","))||"null"})`),{data:l}=at("teacher-articles",`articles?lesson_id=in.(${(t==null?void 0:t.map(y=>y.id).join(","))||"null"})`),{data:o}=at("recent-progress",`progress?lesson_id=in.(${(t==null?void 0:t.map(y=>y.id).join(","))||"null"})&order=completed_at.desc&limit=10`),u=(i==null?void 0:i.length)||0,f=(l==null?void 0:l.length)||0,m=o!=null&&o.length?Math.round(o.reduce((y,g)=>y+g.score,0)/o.length):0;return b(zc,{showPadding:!0,title:"Uczniowie",subtitle:"Lista uczniów",children:[d("div",{className:"card bg-base-100 shadow-sm",children:b("div",{className:"card-body py-4",children:[b("h1",{className:"card-title text-2xl",children:[d("span",{className:"text-primary",children:"👩‍🏫"}),"Panel nauczyciela"]}),b("p",{className:"text-base-content/70",children:["Witaj ",r==null?void 0:r.username,"!"]})]})}),b("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[d("div",{className:"card bg-base-100 shadow-sm",children:b("div",{className:"card-body py-6 text-center",children:[d("div",{className:"text-3xl font-bold text-primary",children:(t==null?void 0:t.length)||0}),d("div",{className:"text-sm opacity-70",children:"Moje lekcje"})]})}),d("div",{className:"card bg-base-100 shadow-sm",children:b("div",{className:"card-body py-6 text-center",children:[d("div",{className:"text-3xl font-bold text-accent",children:f}),d("div",{className:"text-sm opacity-70",children:"Treści"})]})}),d("div",{className:"card bg-base-100 shadow-sm",children:b("div",{className:"card-body py-6 text-center",children:[d("div",{className:"text-3xl font-bold text-info",children:u}),d("div",{className:"text-sm opacity-70",children:"Quizy"})]})}),d("div",{className:"card bg-base-100 shadow-sm",children:b("div",{className:"card-body py-6 text-center",children:[d("div",{className:"text-3xl font-bold text-secondary",children:(s==null?void 0:s.length)||0}),d("div",{className:"text-sm opacity-70",children:"Uczniowie"})]})})]}),b("div",{className:"grid md:grid-cols-3 gap-6",children:[d("div",{className:"card bg-base-100 shadow-sm",children:b("div",{className:"card-body",children:[d("h2",{className:"card-title text-lg mb-4",children:"📝 Szybkie akcje"}),b("div",{className:"space-y-3",children:[d(Ke,{to:"/teacher/lessons/create",className:"btn btn-primary w-full",children:"➕ Nowa lekcja"}),d(Ke,{to:"/teacher/lessons",className:"btn btn-outline w-full",children:"📚 Zarządzaj lekcjami"}),d(Ke,{to:"/teacher/students",className:"btn btn-outline w-full",children:"👥 Lista uczniów"})]})]})}),d("div",{className:"card bg-base-100 shadow-sm",children:b("div",{className:"card-body",children:[d("h2",{className:"card-title text-lg mb-4",children:"📊 Moje lekcje"}),b("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:[t==null?void 0:t.slice(0,6).map(y=>b(Ke,{to:`/teacher/lessons/${y.id}`,className:"block p-3 bg-base-200 rounded-lg hover:bg-base-300 transition-colors",children:[d("div",{className:"font-medium text-sm",children:y.title}),b("div",{className:"text-xs opacity-70 flex gap-2 mt-1",children:[d("span",{children:y.subject}),d("span",{children:"•"}),d("span",{children:y.grade})]})]},y.id)),(t==null?void 0:t.length)===0&&b("div",{className:"text-center py-8 text-base-content/50",children:[d("p",{className:"mb-2",children:"Brak lekcji"}),d(Ke,{to:"/teacher/lessons/create",className:"link link-primary text-sm",children:"Utwórz pierwszą lekcję"})]})]})]})}),d("div",{className:"card bg-base-100 shadow-sm",children:b("div",{className:"card-body",children:[d("h2",{className:"card-title text-lg mb-4",children:"🎯 Ostatnie wyniki"}),m>0&&d("div",{className:"card bg-base-200 shadow-sm mb-4",children:b("div",{className:"card-body py-3 text-center",children:[b("div",{className:"text-2xl font-bold text-success",children:[m,"%"]}),d("div",{className:"text-xs opacity-70",children:"Średni wynik"})]})}),b("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:[o==null?void 0:o.slice(0,5).map(y=>{const g=t==null?void 0:t.find(v=>v.id===y.lesson_id);return b("div",{className:"p-3 bg-base-200 rounded-lg",children:[d("div",{className:"font-medium text-sm",children:(g==null?void 0:g.title)||"Nieznana lekcja"}),b("div",{className:"text-xs opacity-70 flex justify-between mt-1",children:[b("span",{children:["Wynik: ",y.score,"%"]}),b("span",{children:[y.correct_tasks,"/",y.total_tasks]})]})]},`${y.user_id}-${y.lesson_id}`)}),(!o||o.length===0)&&d("div",{className:"text-center py-8 text-base-content/50",children:d("p",{className:"text-sm",children:"Brak aktywności uczniów"})})]})]})})]}),d("div",{className:"card bg-base-100 shadow-sm",children:b("div",{className:"card-body",children:[d("h2",{className:"card-title text-lg mb-4",children:"📈 Podsumowanie"}),b("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[b("div",{className:"text-center",children:[d("div",{className:"text-2xl font-bold text-primary",children:(t==null?void 0:t.length)||0}),d("div",{className:"text-sm opacity-70",children:"Utworzonych lekcji"})]}),b("div",{className:"text-center",children:[d("div",{className:"text-2xl font-bold text-accent",children:f}),d("div",{className:"text-sm opacity-70",children:"Treści napisanych"})]}),b("div",{className:"text-center",children:[d("div",{className:"text-2xl font-bold text-info",children:u}),d("div",{className:"text-sm opacity-70",children:"Quizów przygotowanych"})]}),b("div",{className:"text-center",children:[d("div",{className:"text-2xl font-bold text-secondary",children:(o==null?void 0:o.reduce((y,g)=>y+g.attempts_count,0))||0}),d("div",{className:"text-sm opacity-70",children:"Rozwiązań uczniów"})]})]})]})})]})}const bE=Object.freeze(Object.defineProperty({__proto__:null,default:wE,routeConfig:vE},Symbol.toStringTag,{value:"Module"})),_E={path:"/teacher/lessons/:lessonId/articles/:articleId/edit",title:"Edit Article"};function xE(){const{lessonId:r,articleId:t}=$n(),s=Nr(),{data:i,isLoading:l}=at("article-edit",`articles?id=eq.${t}`),o=Uh("lesson-articles","articles"),[u,f]=L.useState({title:"",content:"",sort_order:0}),m=i==null?void 0:i[0];L.useEffect(()=>{m&&f({title:m.title||"",content:m.content||"",sort_order:m.sort_order||0})},[m]);const y=async g=>{if(g.preventDefault(),!!t)try{await o.mutateAsync({id:t,updates:u}),s(`/teacher/lessons/${r}`)}catch(v){console.error("Error updating article:",v)}};return l?d("div",{className:"min-h-screen bg-base-200 flex items-center justify-center",children:d("div",{className:"loading loading-spinner loading-lg"})}):m?d("div",{className:"min-h-screen bg-base-200 p-4",children:b("div",{className:"max-w-4xl mx-auto",children:[d("div",{className:"card bg-base-100 shadow-sm mb-6",children:b("div",{className:"card-body py-4",children:[b("h1",{className:"card-title text-2xl",children:[d("span",{className:"text-primary",children:"✏️"}),"Edytuj artykuł"]}),b("p",{className:"text-base-content/70",children:["Lekcja ID: ",r," | Artykuł ID: ",t]})]})}),d("form",{onSubmit:y,children:b("div",{className:"space-y-4",children:[d("div",{className:"card bg-base-100 shadow-sm",children:b("div",{className:"card-body",children:[d("h2",{className:"card-title text-lg mb-4",children:"📄 Informacje podstawowe"}),d("div",{className:"space-y-4",children:b("div",{className:"grid md:grid-cols-4 gap-4",children:[d("div",{className:"md:col-span-3",children:b("div",{className:"form-control",children:[d("label",{className:"block text-sm font-medium mb-1",children:"Tytuł artykułu"}),d("input",{type:"text",className:"input input-bordered focus:input-primary w-full",placeholder:"Wprowadź tytuł artykułu...",value:u.title,onChange:g=>f({...u,title:g.target.value}),required:!0})]})}),d("div",{className:"md:col-span-1",children:b("div",{className:"form-control",children:[d("label",{className:"block text-sm font-medium mb-1",children:"Kolejność"}),d("input",{type:"number",className:"input input-bordered focus:input-primary w-full",value:u.sort_order,onChange:g=>f({...u,sort_order:parseInt(g.target.value)||0}),min:"0"})]})})]})})]})}),d("div",{className:"card bg-base-100 shadow-sm",children:b("div",{className:"card-body",children:[d("h2",{className:"card-title text-lg mb-4",children:"📝 Treść artykułu"}),b("div",{className:"form-control",children:[d("label",{className:"block text-sm font-medium mb-1",children:"Zawartość"}),d("textarea",{className:"textarea textarea-bordered focus:textarea-primary resize-none w-full",style:{height:"400px"},placeholder:"Wpisz treść artykułu...",value:u.content,onChange:g=>f({...u,content:g.target.value}),required:!0}),d("div",{className:"label",children:b("span",{className:"label-text-alt text-base-content/60",children:["Znaki: ",u.content.length]})})]})]})}),d("div",{className:"card bg-base-100 shadow-sm",children:d("div",{className:"card-body",children:b("div",{className:"card-actions justify-end",children:[d("button",{type:"button",onClick:()=>s(`/teacher/lessons/${r}`),className:"btn btn-ghost",children:"Anuluj"}),d("button",{type:"submit",className:"btn btn-primary",disabled:o.isPending,children:o.isPending?b(kr,{children:[d("span",{className:"loading loading-spinner loading-sm"}),"Zapisywanie..."]}):b(kr,{children:[d("span",{children:"💾"}),"Zapisz zmiany"]})})]})})})]})})]})}):d("div",{className:"min-h-screen bg-base-200 flex items-center justify-center",children:d("div",{className:"card bg-base-100 shadow-sm",children:b("div",{className:"card-body text-center",children:[d("h2",{className:"text-xl font-medium mb-2",children:"Artykuł nie został znaleziony"}),d("p",{className:"text-base-content/70 mb-4",children:"Nie można znaleźć artykułu o podanym ID."}),d("button",{onClick:()=>s(`/teacher/lessons/${r}`),className:"btn btn-primary",children:"← Powrót do lekcji"})]})})})}const kE=Object.freeze(Object.defineProperty({__proto__:null,default:xE,routeConfig:_E},Symbol.toStringTag,{value:"Module"})),NE={path:"/teacher/lessons/:id/edit",title:"Edit Lesson"};function SE(){const{id:r}=$n(),{user:t}=Dr(),s=Nr(),{data:i,isLoading:l}=at("lesson-edit",`lessons?id=eq.${r}`),o=Uh("teacher-lessons","lessons"),[u,f]=L.useState({title:"",description:"",subject:"",grade:"",topic:""}),m=i==null?void 0:i[0];L.useEffect(()=>{m&&f({title:m.title||"",description:m.description||"",subject:m.subject||"",grade:m.grade||"",topic:m.topic||""})},[m]);const y=async g=>{if(g.preventDefault(),!!r)try{await o.mutateAsync({id:r,updates:u}),s(`/teacher/lessons/${r}`)}catch(v){console.error("Error updating lesson:",v)}};return l?d("div",{className:"min-h-screen bg-base-200 flex items-center justify-center",children:d("div",{className:"loading loading-spinner loading-lg"})}):m?d("div",{className:"min-h-screen bg-base-200 p-4",children:b("div",{className:"max-w-2xl mx-auto",children:[d("div",{className:"card bg-base-100 shadow-sm mb-6",children:b("div",{className:"card-body py-4",children:[b("h1",{className:"card-title text-2xl",children:[d("span",{className:"text-primary",children:"✏️"}),"Edytuj lekcję"]}),b("p",{className:"text-base-content/70",children:["ID: ",r]})]})}),d("form",{onSubmit:y,children:b("div",{className:"space-y-4",children:[d("div",{className:"card bg-base-100 shadow-sm",children:b("div",{className:"card-body",children:[d("h2",{className:"card-title text-lg mb-4",children:"📖 Podstawowe informacje"}),b("div",{className:"space-y-4",children:[b("div",{className:"form-control",children:[d("label",{className:"block text-sm font-medium mb-1",children:"Tytuł lekcji"}),d("input",{type:"text",className:"input input-bordered focus:input-primary w-full",placeholder:"Wprowadź tytuł lekcji...",value:u.title,onChange:g=>f({...u,title:g.target.value}),required:!0})]}),b("div",{className:"form-control",children:[d("label",{className:"block text-sm font-medium mb-1",children:"Opis"}),d("textarea",{className:"textarea textarea-bordered focus:textarea-primary h-24 resize-none w-full",placeholder:"Opisz czego dotyczy lekcja...",value:u.description,onChange:g=>f({...u,description:g.target.value})})]})]})]})}),d("div",{className:"card bg-base-100 shadow-sm",children:b("div",{className:"card-body",children:[d("h2",{className:"card-title text-lg mb-4",children:"🏷️ Klasyfikacja"}),b("div",{className:"space-y-4",children:[b("div",{className:"grid md:grid-cols-2 gap-4",children:[b("div",{className:"form-control",children:[d("label",{className:"block text-sm font-medium mb-1",children:"Przedmiot"}),b("select",{className:"select select-bordered focus:select-primary w-full",value:u.subject,onChange:g=>f({...u,subject:g.target.value}),children:[d("option",{value:"",children:"Wybierz przedmiot"}),d("option",{value:"Matematyka",children:"📐 Matematyka"}),d("option",{value:"Polski",children:"📚 Polski"}),d("option",{value:"Historia",children:"🏛️ Historia"}),d("option",{value:"Biologia",children:"🧬 Biologia"})]})]}),b("div",{className:"form-control",children:[d("label",{className:"block text-sm font-medium mb-1",children:"Klasa"}),b("select",{className:"select select-bordered focus:select-primary w-full",value:u.grade,onChange:g=>f({...u,grade:g.target.value}),children:[d("option",{value:"",children:"Wybierz klasę"}),d("option",{value:"Klasa 1",children:"🥇 Klasa 1"}),d("option",{value:"Klasa 2",children:"🥈 Klasa 2"}),d("option",{value:"Klasa 3",children:"🥉 Klasa 3"})]})]})]}),b("div",{className:"form-control",children:[d("label",{className:"block text-sm font-medium mb-1",children:"Temat"}),d("input",{type:"text",className:"input input-bordered focus:input-primary w-full",placeholder:"Główny temat lekcji...",value:u.topic,onChange:g=>f({...u,topic:g.target.value})})]})]})]})}),d("div",{className:"card bg-base-100 shadow-sm",children:d("div",{className:"card-body",children:b("div",{className:"card-actions justify-end",children:[d("button",{type:"button",onClick:()=>s(`/teacher/lessons/${r}`),className:"btn btn-ghost",children:"Anuluj"}),d("button",{type:"submit",className:"btn btn-primary",disabled:o.isPending,children:o.isPending?b(kr,{children:[d("span",{className:"loading loading-spinner loading-sm"}),"Zapisywanie..."]}):b(kr,{children:[d("span",{children:"💾"}),"Zapisz zmiany"]})})]})})})]})})]})}):d("div",{className:"min-h-screen bg-base-200 flex items-center justify-center",children:d("div",{className:"card bg-base-100 shadow-sm",children:b("div",{className:"card-body text-center",children:[d("h2",{className:"text-xl font-medium mb-2",children:"Lekcja nie została znaleziona"}),d("p",{className:"text-base-content/70 mb-4",children:"Nie można znaleźć lekcji o podanym ID."}),d("button",{onClick:()=>s("/teacher/lessons"),className:"btn btn-primary",children:"← Powrót do listy lekcji"})]})})})}const EE=Object.freeze(Object.defineProperty({__proto__:null,default:SE,routeConfig:NE},Symbol.toStringTag,{value:"Module"})),CE={path:"/teacher/lessons/:lessonId/tasks/:taskId/edit",title:"Edit Quiz"};function PE(){const{lessonId:r,taskId:t}=$n(),s=Nr(),{data:i,isLoading:l}=at("task-edit",`tasks?id=eq.${t}`),o=Uh("lesson-tasks","tasks"),[u,f]=L.useState({type:"multiple_choice",question_text:"",options:["","","",""],correct_answer:"",explanation:"",xp_reward:10}),m=i==null?void 0:i[0];L.useEffect(()=>{m&&f({type:m.type||"multiple_choice",question_text:m.question_text||"",options:m.options||["","","",""],correct_answer:m.correct_answer||"",explanation:m.explanation||"",xp_reward:m.xp_reward||10})},[m]);const y=async g=>{if(g.preventDefault(),!!t)try{const v={type:u.type,question_text:u.question_text,options:u.type==="multiple_choice"?u.options.filter(w=>w.trim()):null,correct_answer:u.correct_answer,explanation:u.explanation,xp_reward:u.xp_reward};await o.mutateAsync({id:t,updates:v}),s(`/teacher/lessons/${r}`)}catch(v){console.error("Error updating task:",v)}};return l?d("div",{className:"min-h-screen bg-base-200 flex items-center justify-center",children:d("div",{className:"loading loading-spinner loading-lg"})}):m?d("div",{className:"min-h-screen bg-base-200 p-4",children:b("div",{className:"max-w-2xl mx-auto",children:[d("div",{className:"card bg-base-100 shadow-sm mb-6",children:b("div",{className:"card-body py-4",children:[b("h1",{className:"card-title text-2xl",children:[d("span",{className:"text-primary",children:"✏️"}),"Edytuj quiz"]}),b("p",{className:"text-base-content/70",children:["Lekcja ID: ",r," | Zadanie ID: ",t]})]})}),d("form",{onSubmit:y,children:b("div",{className:"space-y-4",children:[d("div",{className:"card bg-base-100 shadow-sm",children:b("div",{className:"card-body",children:[d("h2",{className:"card-title text-lg mb-4",children:"❓ Typ pytania"}),d("div",{className:"form-control",children:b("select",{className:"select select-bordered focus:select-primary w-full",value:u.type,onChange:g=>f({...u,type:g.target.value}),children:[d("option",{value:"multiple_choice",children:"📝 Wielokrotny wybór"}),d("option",{value:"true_false",children:"✅ Prawda/Fałsz"}),d("option",{value:"fill_blank",children:"📝 Uzupełnij lukę"})]})})]})}),d("div",{className:"card bg-base-100 shadow-sm",children:b("div",{className:"card-body",children:[d("h2",{className:"card-title text-lg mb-4",children:"💭 Pytanie"}),d("div",{className:"form-control",children:d("textarea",{className:"textarea textarea-bordered focus:textarea-primary h-24 resize-none w-full",placeholder:"Wpisz treść pytania...",value:u.question_text,onChange:g=>f({...u,question_text:g.target.value}),required:!0})})]})}),u.type==="multiple_choice"&&d("div",{className:"card bg-base-100 shadow-sm",children:b("div",{className:"card-body",children:[d("h2",{className:"card-title text-lg mb-4",children:"📋 Opcje odpowiedzi"}),d("div",{className:"space-y-3",children:u.options.map((g,v)=>b("div",{className:"form-control",children:[b("label",{className:"block text-sm font-medium mb-1",children:["Opcja ",v+1]}),d("input",{type:"text",className:"input input-bordered focus:input-primary w-full",placeholder:`Wprowadź opcję ${v+1}...`,value:g,onChange:w=>{const N=[...u.options];N[v]=w.target.value,f({...u,options:N})}})]},v))})]})}),d("div",{className:"card bg-base-100 shadow-sm",children:b("div",{className:"card-body",children:[d("h2",{className:"card-title text-lg mb-4",children:"✅ Poprawna odpowiedź"}),d("div",{className:"form-control",children:u.type==="true_false"?b("select",{className:"select select-bordered focus:select-primary w-full",value:u.correct_answer,onChange:g=>f({...u,correct_answer:g.target.value}),required:!0,children:[d("option",{value:"",children:"Wybierz odpowiedź"}),d("option",{value:"true",children:"✅ Prawda"}),d("option",{value:"false",children:"❌ Fałsz"})]}):d("input",{type:"text",className:"input input-bordered focus:input-primary w-full",placeholder:"Wpisz poprawną odpowiedź...",value:u.correct_answer,onChange:g=>f({...u,correct_answer:g.target.value}),required:!0})})]})}),d("div",{className:"card bg-base-100 shadow-sm",children:b("div",{className:"card-body",children:[d("h2",{className:"card-title text-lg mb-4",children:"💡 Dodatkowe informacje"}),b("div",{className:"space-y-4",children:[b("div",{className:"form-control",children:[d("label",{className:"block text-sm font-medium mb-1",children:"Wyjaśnienie (opcjonalne)"}),d("textarea",{className:"textarea textarea-bordered focus:textarea-primary h-20 resize-none w-full",placeholder:"Dodaj wyjaśnienie do odpowiedzi...",value:u.explanation,onChange:g=>f({...u,explanation:g.target.value})})]}),b("div",{className:"form-control",children:[d("label",{className:"block text-sm font-medium mb-1",children:"Punkty XP za poprawną odpowiedź"}),d("input",{type:"number",className:"input input-bordered focus:input-primary w-32",value:u.xp_reward,onChange:g=>f({...u,xp_reward:parseInt(g.target.value)||0}),min:"1",required:!0})]})]})]})}),d("div",{className:"card bg-base-100 shadow-sm",children:d("div",{className:"card-body",children:b("div",{className:"card-actions justify-end",children:[d("button",{type:"button",onClick:()=>s(`/teacher/lessons/${r}`),className:"btn btn-ghost",children:"Anuluj"}),d("button",{type:"submit",className:"btn btn-primary",disabled:o.isPending,children:o.isPending?b(kr,{children:[d("span",{className:"loading loading-spinner loading-sm"}),"Zapisywanie..."]}):b(kr,{children:[d("span",{children:"💾"}),"Zapisz zmiany"]})})]})})})]})})]})}):d("div",{className:"min-h-screen bg-base-200 flex items-center justify-center",children:d("div",{className:"card bg-base-100 shadow-sm",children:b("div",{className:"card-body text-center",children:[d("h2",{className:"text-xl font-medium mb-2",children:"Zadanie nie zostało znalezione"}),d("p",{className:"text-base-content/70 mb-4",children:"Nie można znaleźć zadania o podanym ID."}),d("button",{onClick:()=>s(`/teacher/lessons/${r}`),className:"btn btn-primary",children:"← Powrót do lekcji"})]})})})}const jE=Object.freeze(Object.defineProperty({__proto__:null,default:PE,routeConfig:CE},Symbol.toStringTag,{value:"Module"})),TE={path:"/teacher/lessons/:id",title:"Lesson Detail"};function RE(){const{id:r}=$n(),{data:t}=at("lesson-detail",`lessons?id=eq.${r}`),{data:s}=at("lesson-articles",`articles?lesson_id=eq.${r}&order=sort_order`),{data:i}=at("lesson-tasks",`tasks?lesson_id=eq.${r}`),l=t==null?void 0:t[0];return l?b(zc,{showPadding:!0,title:"Uczniowie",subtitle:"Lista uczniów",children:[d("div",{className:"card bg-base-100 shadow-sm",children:b("div",{className:"card-body",children:[d("h1",{className:"text-2xl font-bold mb-2",children:l.title}),d("p",{className:"text-base-content/70 mb-4",children:l.description}),b("div",{className:"flex gap-2",children:[d("span",{className:"badge badge-primary",children:l.subject}),d("span",{className:"badge badge-secondary",children:l.grade}),l.topic&&d("span",{className:"badge badge-outline",children:l.topic})]})]})}),b("div",{className:"grid md:grid-cols-2 gap-6",children:[d("div",{className:"card bg-base-100 shadow-sm",children:b("div",{className:"card-body",children:[b("div",{className:"flex justify-between items-center mb-4",children:[b("h2",{className:"card-title text-lg",children:[d("span",{className:"text-primary",children:"📄"}),"Treści (",(s==null?void 0:s.length)||0,")"]}),d(Ke,{to:`/teacher/lessons/${r}/articles/create`,className:"btn btn-sm btn-primary",children:"➕ Dodaj treść"})]}),d("div",{className:"space-y-3",children:s&&s.length>0?s.map(o=>d("div",{className:"card bg-base-200 shadow-sm",children:b("div",{className:"card-body py-3",children:[d("div",{className:"font-medium text-sm",children:o.title}),b("div",{className:"flex gap-2 mt-2",children:[d(Ke,{to:`/teacher/lessons/${r}/articles/${o.id}/edit`,className:"btn btn-xs btn-outline",children:"✏️ Edytuj"}),d(Ke,{to:`/teacher/lessons/${r}/articles/${o.id}`,className:"btn btn-xs btn-ghost",children:"👁️ Zobacz"})]})]})},o.id)):b("div",{className:"text-center py-8 text-base-content/50",children:[d("div",{className:"text-3xl opacity-30 mb-2",children:"📄"}),d("p",{className:"text-sm mb-3",children:"Brak treści"}),d(Ke,{to:`/teacher/lessons/${r}/articles/create`,className:"btn btn-sm btn-primary",children:"Dodaj pierwszą treść"})]})})]})}),d("div",{className:"card bg-base-100 shadow-sm",children:b("div",{className:"card-body",children:[b("div",{className:"flex justify-between items-center mb-4",children:[b("h2",{className:"card-title text-lg",children:[d("span",{className:"text-primary",children:"❓"}),"Quizy (",(i==null?void 0:i.length)||0,")"]}),d(Ke,{to:`/teacher/lessons/${r}/tasks/create`,className:"btn btn-sm btn-primary",children:"➕ Dodaj quiz"})]}),d("div",{className:"space-y-3",children:i&&i.length>0?i.map(o=>d("div",{className:"card bg-base-200 shadow-sm",children:b("div",{className:"card-body py-3",children:[d("div",{className:"font-medium text-sm line-clamp-2",children:o.question_text}),b("div",{className:"flex gap-2 mt-2",children:[d("span",{className:"badge badge-xs badge-outline",children:o.type}),b("span",{className:"badge badge-xs badge-accent",children:[o.xp_reward," XP"]})]}),d("div",{className:"flex gap-2 mt-2",children:d(Ke,{to:`/teacher/lessons/${r}/tasks/${o.id}/edit`,className:"btn btn-xs btn-outline",children:"✏️ Edytuj"})})]})},o.id)):b("div",{className:"text-center py-8 text-base-content/50",children:[d("div",{className:"text-3xl opacity-30 mb-2",children:"❓"}),d("p",{className:"text-sm mb-3",children:"Brak quizów"}),d(Ke,{to:`/teacher/lessons/${r}/tasks/create`,className:"btn btn-sm btn-primary",children:"Dodaj pierwszy quiz"})]})})]})})]}),d("div",{className:"card bg-base-100 shadow-sm",children:b("div",{className:"card-body",children:[b("h2",{className:"card-title text-lg mb-4",children:[d("span",{className:"text-primary",children:"⚡"}),"Szybkie akcje"]}),b("div",{className:"flex flex-wrap gap-3",children:[d(Ke,{to:`/teacher/lessons/${r}/edit`,className:"btn btn-outline",children:"✏️ Edytuj lekcję"}),d(Ke,{to:"/teacher/lessons",className:"btn btn-ghost",children:"← Powrót do listy"}),d(Ke,{to:`/student/lessons/${r}`,className:"btn btn-info",children:"👁️ Podgląd ucznia"})]})]})})]}):d("div",{className:"min-h-screen bg-base-200 flex items-center justify-center",children:d("div",{className:"loading loading-spinner loading-lg"})})}const OE=Object.freeze(Object.defineProperty({__proto__:null,default:RE,routeConfig:TE},Symbol.toStringTag,{value:"Module"})),LE={path:"/teacher/lessons",title:"Manage Lessons"};function AE(){const{user:r}=Dr(),{data:t,isLoading:s}=at("teacher-lessons",`lessons?author_id=eq.${r==null?void 0:r.id}`);return s?d("div",{className:"min-h-screen bg-base-200 flex items-center justify-center",children:d("div",{className:"loading loading-spinner loading-lg"})}):b(zc,{showPadding:!0,title:"Uczniowie",subtitle:"Lista uczniów",children:[d("div",{className:"card bg-base-100 shadow-sm",children:d("div",{className:"card-body py-4",children:b("div",{className:"flex justify-between items-center",children:[b("h1",{className:"card-title text-2xl",children:[d("span",{className:"text-primary",children:"📚"}),"Moje lekcje"]}),d(Ke,{to:"/teacher/lessons/create",className:"btn btn-primary",children:"➕ Nowa lekcja"})]})})}),t&&t.length>0?d("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(i=>d("div",{className:"card bg-base-100 shadow-sm hover:shadow-md transition-shadow",children:b("div",{className:"card-body",children:[d("h2",{className:"card-title text-lg",children:i.title}),d("p",{className:"text-sm opacity-70 line-clamp-3",children:i.description}),b("div",{className:"flex gap-2 mt-2",children:[d("div",{className:"badge badge-outline",children:i.subject}),i.grade&&d("div",{className:"badge badge-ghost",children:i.grade})]}),b("div",{className:"card-actions justify-end mt-4",children:[d(Ke,{to:`/teacher/lessons/${i.id}/edit`,className:"btn btn-sm btn-outline",children:"✏️ Edytuj"}),d(Ke,{to:`/teacher/lessons/${i.id}`,className:"btn btn-sm btn-primary",children:"👁️ Zobacz"})]})]})},i.id))}):d("div",{className:"card bg-base-100 shadow-sm",children:b("div",{className:"card-body py-16 text-center",children:[d("div",{className:"text-6xl opacity-30 mb-4",children:"📚"}),d("h2",{className:"text-xl font-medium mb-2",children:"Brak lekcji"}),d("p",{className:"text-base-content/70 mb-6",children:"Nie masz jeszcze żadnych lekcji. Utwórz swoją pierwszą lekcję!"}),d(Ke,{to:"/teacher/lessons/create",className:"btn btn-primary",children:"➕ Utwórz pierwszą lekcję"})]})})]})}const zE=Object.freeze(Object.defineProperty({__proto__:null,default:AE,routeConfig:LE},Symbol.toStringTag,{value:"Module"})),DE={path:"/teacher/students",title:"Students List"};function $E(){const{data:r,isLoading:t}=at("students","users?role=eq.student");return t?d("div",{className:"loading loading-spinner loading-lg"}):b(zc,{showPadding:!0,title:"Uczniowie",subtitle:"Lista uczniów",children:[d("h1",{className:"text-3xl font-bold mb-6",children:"👥 Lista uczniów"}),d("div",{className:"overflow-x-auto",children:b("table",{className:"table table-zebra",children:[d("thead",{children:b("tr",{children:[d("th",{children:"Uczeń"}),d("th",{children:"Email"}),d("th",{children:"Poziom"}),d("th",{children:"XP"}),d("th",{children:"Seria"})]})}),d("tbody",{children:r==null?void 0:r.map(s=>{var i;return b("tr",{children:[d("td",{children:b("div",{className:"flex items-center gap-3",children:[d("div",{className:"avatar placeholder",children:d("div",{className:"bg-neutral text-neutral-content rounded-full w-8",children:d("span",{className:"text-xs",children:((i=s.username)==null?void 0:i[0])||"U"})})}),d("span",{children:s.username||"Brak nazwy"})]})}),d("td",{children:s.email}),d("td",{children:d("div",{className:"badge badge-primary",children:s.level})}),d("td",{children:s.xp}),d("td",{children:d("div",{className:"badge badge-secondary",children:s.streak})})]},s.id)})})]})})]})}const ME=Object.freeze(Object.defineProperty({__proto__:null,default:$E,routeConfig:DE},Symbol.toStringTag,{value:"Module"})),IE={path:"/teacher/lessons/:lessonId/tasks/:taskId",title:"Quiz Details"};function FE(){const{lessonId:r,taskId:t}=$n(),s=Nr(),{data:i,isLoading:l}=at("task-detail",`tasks?id=eq.${t}`),o=uS("lesson-tasks","tasks"),u=i==null?void 0:i[0],f=async()=>{if(window.confirm("Czy na pewno chcesz usunąć ten quiz?"))try{await o.mutateAsync({id:t}),s(`/teacher/lessons/${r}`)}catch(y){console.error("Error deleting task:",y)}},m=y=>{switch(y){case"multiple_choice":return"📝 Wielokrotny wybór";case"true_false":return"✅ Prawda/Fałsz";case"fill_blank":return"📝 Uzupełnij lukę";default:return y}};return l?d("div",{className:"min-h-screen bg-base-200 flex items-center justify-center",children:d("div",{className:"loading loading-spinner loading-lg"})}):u?d("div",{className:"min-h-screen bg-base-200 p-4",children:b("div",{className:"max-w-2xl mx-auto",children:[d("div",{className:"card bg-base-100 shadow-sm mb-6",children:d("div",{className:"card-body py-4",children:b("div",{className:"flex items-center justify-between",children:[b("div",{children:[b("h1",{className:"card-title text-2xl",children:[d("span",{className:"text-primary",children:"❓"}),"Szczegóły quizu"]}),b("p",{className:"text-base-content/70",children:["Lekcja ID: ",r," | Quiz ID: ",t]})]}),b("div",{className:"flex gap-2",children:[b("button",{onClick:()=>s(`/teacher/lessons/${r}/tasks/${t}/edit`),className:"btn btn-primary btn-sm",children:[d("span",{children:"✏️"}),"Edytuj"]}),b("button",{onClick:f,className:"btn btn-error btn-sm",disabled:o.isPending,children:[o.isPending?d("span",{className:"loading loading-spinner loading-xs"}):d("span",{children:"🗑️"}),"Usuń"]})]})]})})}),b("div",{className:"space-y-4",children:[d("div",{className:"card bg-base-100 shadow-sm",children:b("div",{className:"card-body",children:[d("h2",{className:"card-title text-lg mb-4",children:"🎯 Podstawowe informacje"}),b("div",{className:"space-y-4",children:[b("div",{children:[d("label",{className:"block text-sm font-medium mb-2 text-base-content/70",children:"Typ pytania"}),d("div",{className:"badge badge-primary badge-lg",children:m(u.type)})]}),b("div",{children:[d("label",{className:"block text-sm font-medium mb-2 text-base-content/70",children:"Pytanie"}),d("div",{className:"bg-base-200 p-4 rounded-lg border-l-4 border-primary",children:u.question_text})]}),b("div",{children:[d("label",{className:"block text-sm font-medium mb-2 text-base-content/70",children:"Punkty XP za poprawną odpowiedź"}),b("div",{className:"badge badge-accent badge-lg",children:["⭐ ",u.xp_reward," XP"]})]})]})]})}),u.type==="multiple_choice"&&u.options&&d("div",{className:"card bg-base-100 shadow-sm",children:b("div",{className:"card-body",children:[d("h2",{className:"card-title text-lg mb-4",children:"📋 Opcje odpowiedzi"}),d("div",{className:"space-y-3",children:u.options.map((y,g)=>d("div",{className:`p-3 rounded-lg border-l-4 ${y===u.correct_answer?"bg-success/10 border-success":"bg-base-200 border-base-300"}`,children:b("div",{className:"flex items-center justify-between",children:[b("span",{children:[b("span",{className:"font-semibold mr-2",children:[String.fromCharCode(65+g),"."]}),y]}),y===u.correct_answer&&d("span",{className:"badge badge-success badge-sm",children:"✓ Poprawna"})]})},g))})]})}),u.type!=="multiple_choice"&&d("div",{className:"card bg-base-100 shadow-sm",children:b("div",{className:"card-body",children:[d("h2",{className:"card-title text-lg mb-4",children:"✅ Poprawna odpowiedź"}),d("div",{className:"bg-success/10 border-l-4 border-success p-4 rounded-lg",children:d("span",{className:"font-medium",children:u.type==="true_false"?u.correct_answer==="true"?"✅ Prawda":"❌ Fałsz":u.correct_answer})})]})}),u.explanation&&d("div",{className:"card bg-base-100 shadow-sm",children:b("div",{className:"card-body",children:[d("h2",{className:"card-title text-lg mb-4",children:"💡 Wyjaśnienie"}),d("div",{className:"bg-info/10 border-l-4 border-info p-4 rounded-lg",children:u.explanation})]})}),d("div",{className:"card bg-base-100 shadow-sm",children:d("div",{className:"card-body",children:d("div",{className:"card-actions",children:d("button",{onClick:()=>s(`/teacher/lessons/${r}`),className:"btn btn-ghost",children:"← Powrót do lekcji"})})})})]})]})}):d("div",{className:"min-h-screen bg-base-200 flex items-center justify-center",children:d("div",{className:"card bg-base-100 shadow-sm",children:b("div",{className:"card-body text-center",children:[d("h2",{className:"text-xl font-medium mb-2",children:"Quiz nie został znaleziony"}),d("p",{className:"text-base-content/70 mb-4",children:"Nie można znaleźć quizu o podanym ID."}),d("button",{onClick:()=>s(`/teacher/lessons/${r}`),className:"btn btn-primary",children:"← Powrót do lekcji"})]})})})}const UE=Object.freeze(Object.defineProperty({__proto__:null,default:FE,routeConfig:IE},Symbol.toStringTag,{value:"Module"})),Pv=Object.assign({"../../pages/auth/ui.Login.tsx":fk,"../../pages/auth/ui.Register.tsx":Mk,"../../pages/auth/ui.StudentWelcome.tsx":QN,"../../pages/auth/ui.TeacherWelcome.tsx":YN,"../../pages/auth/ui.Welcome.tsx":eS,"../../pages/student/filters.FilterTabs.tsx":rS,"../../pages/student/grid.BadgeGrid.tsx":nS,"../../pages/student/grid.UniversalGrid.tsx":oS,"../../pages/student/hooks/useFilters.tsx":cS,"../../pages/student/hooks/useStudentData.tsx":hS,"../../pages/student/menu.StudentMenu.tsx":fS,"../../pages/student/overview.AchievementsOverview.tsx":pS,"../../pages/student/section.StatsSection.tsx":vS,"../../pages/student/stats.CurrentStats.tsx":bS,"../../pages/student/ui.Achievements.tsx":ES,"../../pages/student/ui.Courses.tsx":RS,"../../pages/student/ui.Dashboard.tsx":zS,"../../pages/student/ui.Lesson.tsx":MS,"../../pages/student/ui.Progress.tsx":US,"../../pages/teacher/ClassManagement.tsx":VS,"../../pages/teacher/QuizEditor.tsx":QS,"../../pages/teacher/QuizList.tsx":YS,"../../pages/teacher/StudentProgress.tsx":eE,"../../pages/teacher/TeacherDashboard.tsx":nE,"../../pages/teacher/menu.TeacherMenu.tsx":sE,"../../pages/teacher/ui.ArticleDetail.tsx":lE,"../../pages/teacher/ui.CreateArticle.tsx":uE,"../../pages/teacher/ui.CreateLesson.tsx":fE,"../../pages/teacher/ui.CreateTask.tsx":gE,"../../pages/teacher/ui.Dashboard.tsx":bE,"../../pages/teacher/ui.EditArticle.tsx":kE,"../../pages/teacher/ui.EditLesson.tsx":EE,"../../pages/teacher/ui.EditTask.tsx":jE,"../../pages/teacher/ui.LessonDetail.tsx":OE,"../../pages/teacher/ui.Lessons.tsx":zE,"../../pages/teacher/ui.Students.tsx":ME,"../../pages/teacher/ui.TaskDetail.tsx":UE});function dh(r=!1){const t={};return Object.entries(Pv).forEach(([s,i])=>{var f;const l=((f=s.split("/").pop())==null?void 0:f.toLowerCase())||"";if(l.startsWith("agent.")){if(!r)return}else if(l.startsWith("ui.")){if(r)return}else if(l.endsWith(".agent.tsx")){if(!r)return}else if(l.endsWith(".ui.tsx")){if(r)return}else return;const o=i.routeConfig;if(!o)return;(Array.isArray(o)?o:[o]).forEach(m=>{t[m.path]={...m,modulePath:s}})}),t}function BE(r,t){const s=Pv[r];return s!=null&&s.default?s.default:(console.error(`Nie znaleziono komponentu dla ścieżki: ${r}`),null)}const qE=({children:r,roles:t=[]})=>{const{user:s,loading:i}=Dr();return i?d("div",{children:"Ładowanie…"}):s?t.length>0&&!t.includes(s.role)?d(Zd,{to:"/unauthorized",replace:!0}):d(kr,{children:r}):d(Zd,{to:"/login",replace:!0})};function VE(r,t){const s=r.split("/").filter(Boolean),i=t.split("/").filter(Boolean);return s.length!==i.length?!1:i.every((l,o)=>l.startsWith(":")||l===s[o])}function dc(r){const t=r.split("/").filter(Boolean);let s=0;return t.forEach((i,l)=>{i.startsWith(":")?s+=1-l:s+=1e3-l}),s}function WE(r,t){if(t[r])return t[r];const s=[];for(const[i,l]of Object.entries(t))VE(r,i)&&s.push({routePath:i,config:l,priority:dc(i)});return s.length>0?(s.sort((i,l)=>l.priority-i.priority),s[0].config):null}const hh=()=>{const{agentMode:r=!1}=m_(),{pathname:t}=Dn(),s=L.useMemo(()=>dh(r),[r]),i=WE(t,s);if(!i)return d("div",{className:"min-h-screen flex items-center justify-center",children:b("div",{className:"text-center",children:[d("h1",{className:"text-2xl font-bold mb-4",children:"404 – Strona nie znaleziona"}),b("p",{className:"text-gray-600",children:["Ścieżka: ",t]}),b("div",{className:"mt-4 text-sm text-gray-500",children:[b("p",{children:["Tryb: ",r?"Agent":"UI"]}),d("p",{children:"Dostępne ścieżki:"}),d("ul",{className:"list-disc list-inside max-h-40 overflow-y-auto",children:Object.keys(s).sort((u,f)=>dc(f)-dc(u)).map(u=>b("li",{className:"text-left",children:[u," (priorytet: ",dc(u),")"]},u))})]})]})});L.useEffect(()=>{i.title&&(document.title=i.title)},[i.title]);const l=BE(i.modulePath);if(!l)return d("div",{className:"min-h-screen flex items-center justify-center",children:b("div",{className:"text-center",children:[d("h1",{className:"text-2xl font-bold mb-4",children:"Błąd ładowania komponentu"}),b("p",{className:"text-gray-600",children:["Nie można załadować komponentu dla: ",t]}),b("p",{className:"text-sm text-gray-500 mt-2",children:["Module path: ",i.modulePath]})]})});const o=d(l,{},t);return i.roles?d(qE,{roles:i.roles,children:o}):o},HE=async({request:r})=>({agentMode:new URL(r.url).searchParams.get("agentMode")==="true"}),KE=()=>{const r=dh(!0),t=dh(!1),s=[];return Object.values(t).forEach(i=>{s.push({path:i.path,loader:()=>({agentMode:!1}),element:d(hh,{})})}),Object.values(r).forEach(i=>{s.push({path:i.path,loader:()=>({agentMode:!0}),element:d(hh,{})})}),s},QE=K_([{path:"/",element:d(Zd,{to:"/auth/login",replace:!0})},...KE(),{path:"*",loader:HE,element:d(hh,{})}]);function GE(){return d(ix,{router:QE})}const JE=L.createContext(null);function YE({children:r}){const[t,s]=L.useState(()=>localStorage.getItem("theme")||"light");L.useEffect(()=>{document.documentElement.dataset.theme=t,localStorage.setItem("theme",t),console.log("[ThemeProvider] Zastosowano motyw:",t),console.log("[ThemeProvider] <html data-theme=>",document.documentElement.getAttribute("data-theme"));const u=getComputedStyle(document.documentElement);console.log("[ThemeProvider] --p (primary):",u.getPropertyValue("--p")),console.log("[ThemeProvider] --b1 (base-100):",u.getPropertyValue("--b1"))},[t]);const o={theme:t,toggle:()=>{const u=t==="dark"?"light":"dark";console.log("[ThemeProvider] Zmieniam motyw na:",u),s(u)},setTheme:u=>{console.log("[ThemeProvider] Ustawiam motyw na:",u),s(u)}};return d(JE.Provider,{value:o,children:r})}function ZE(){const[r,t]=L.useState(()=>localStorage.getItem("theme")||"light");return L.useEffect(()=>{document.documentElement.setAttribute("data-theme",r),localStorage.setItem("theme",r)},[r]),{theme:r,toggle:()=>{t(i=>i==="light"?"dark":"light")},setTheme:t}}function XE(){const{theme:r,toggle:t}=ZE();return d("button",{onClick:t,className:"btn btn-ghost btn-sm fixed bottom-4 left-4 z-50","aria-label":"Przełącz motyw",children:r==="light"?d(EN,{size:16,className:"text-primary"}):d($N,{size:16,className:"text-warning"})})}const eC=new zw({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1}}});function tC(){return d(Bw,{client:eC,children:b(YE,{children:[" ",b(ck,{children:[" ",d("div",{className:"App",children:d(GE,{})})]}),d(XE,{})]})})}const rC=document.getElementById("root"),nC=yw.createRoot(rC);nC.render(d(Or.StrictMode,{children:d(tC,{})}));export{ey as a,dw as g};
